fset_props [T:TYPE]: THEORY
BEGIN

  max_fs( fs: non_empty_finite_set[T]
  	, <:(LAMBDA(lt: pred[[T,T]]): transitive?(lt) & trichotomous?(lt)) ): 
  RECURSIVE { res: T | fs(res) AND FORALL(x:(fs)): x < res OR x = res } =
    IF card(fs) = 1 THEN choose(fs)
    ELSE LET rec = max_fs(rest(fs),<) IN
    	 IF rec < choose(fs) THEN choose(fs) ELSE rec ENDIF
    ENDIF
  MEASURE card(fs)

END fset_props

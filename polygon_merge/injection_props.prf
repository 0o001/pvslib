(injection_props
 (merge_pre_condition_symmetric 0
  (merge_pre_condition_symmetric-1 nil 3874129019
   ("" (skeep)
    (("" (expand "merge_pre_condition")
      (("" (ground)
        (("1" (skeep) (("1" (inst?) (("1" (ground) nil nil)) nil)) nil)
         ("2" (skeep) (("2" (inst?) (("2" (assert) nil nil)) nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (inject_post_condition?_TCC1 0
  (inject_post_condition?_TCC1-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (inject_post_condition? subtype "injection_props.A`num_vertices"
    "naturalnumbers.upto(injection_props.A`num_vertices)"))
  (inject_post_condition?_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (inject_post_condition? subtype "injection_props.A`num_vertices"
    "naturalnumbers.upto(injection_props.A`num_vertices)")))
 (inject_vertices_into_polygon_TCC1 0
  (inject_vertices_into_polygon_TCC1-2 nil 3874129019
   (""
    (inst +
     "lambda (d: [A: simple_polygon_2d, (merge_pre_condition(A))]):
             (singleton((# num_vertices :=
                             injected_vertices(d`1, d`2, d`1`num_vertices)`length,
                 vertices := injected_vertices(d`1, d`2, d`1`num_vertices)`seq #)),
              singleton((# num_vertices :=
                             injected_vertices(d`2, d`1, d`2`num_vertices)`length,
                 vertices := injected_vertices(d`2, d`1, d`2`num_vertices)`seq #)))")
    (("" (skeep + t)
      (("" (ground)
        (("1" (expand "uniq_vertex_list?")
          (("1" (use "all_injected_vertices_distinct")
            (("1" (ground)
              (("1" (skeep)
                (("1" (inst?) (("1" (ground) nil nil)) nil)) nil))
              nil))
            nil))
          nil)
         ("2" (use "length_injected_vertices_bound")
          (("2" (assert) nil nil)) nil)
         ("3" (expand "simple_polygon_2d?")
          (("3" (use "injected_vertex_edges_do_not_cross")
            (("3" (ground) nil nil)) nil))
          nil)
         ("4" (expand "inject_post_condition?")
          (("4" (propax) nil nil)) nil)
         ("5" (expand "uniq_vertex_list?")
          (("5" (skeep)
            (("5" (use "all_injected_vertices_distinct")
              (("5" (assert)
                (("5" (inst?) (("5" (ground) nil nil)) nil)) nil))
              nil))
            nil))
          nil)
         ("6" (use "length_injected_vertices_bound")
          (("6" (ground) nil nil)) nil)
         ("7" (expand "simple_polygon_2d?")
          (("7" (use "injected_vertex_edges_do_not_cross")
            (("7" (ground) nil nil)) nil))
          nil)
         ("8" (expand "inject_post_condition?")
          (("8" (propax) nil nil)) nil))
        nil))
      nil))
    nil)
   nil shostak
   (inject_vertices_into_polygon existence ""
    "[d: [A: polygons_2d.simple_polygon_2d, (injection_props.merge_pre_condition(A))] -> [(injection_props.inject_post_condition?(d`1, d`2)), (injection_props.inject_post_condition?(d`2, d`1))]]"))
  (inject_vertices_into_polygon_TCC1-1 nil 3874128956
   ("" (existence-tcc) nil nil) nil nil
   (inject_vertices_into_polygon existence ""
    "[d: [A: polygons_2d.simple_polygon_2d, (injection_props.merge_pre_condition(A))] -> [(injection_props.inject_post_condition?(d`1, d`2)), (injection_props.inject_post_condition?(d`2, d`1))]]")))
 (vertex_on_edge_in_injected_edge_set 0
  (vertex_on_edge_in_injected_edge_set-1 nil 3874129019
   ("" (skeep*)
    (("" (assert)
      (("" (typepred "inject_vertices_into_polygon(A, B)`1")
        (("" (replace -3 :dir rl)
          (("" (assert)
            (("" (expand "inject_post_condition?")
              (("" (expand "edges_of_polygon" -6)
                (("" (lemma "injected_vertex_in_injected_edge_2")
                  (("" (inst - "s`p1" "A" "B" "i" "A`num_vertices")
                    (("" (assert)
                      (("" (skeep)
                        (("" (lemma "member_injected_edge_on_segment")
                          ((""
                            (inst - "s`p1" "edges_of_polygon(A)(j!1)"
                             "B")
                            (("" (assert)
                              ((""
                                (case-replace "j!1 = j")
                                (("1" (assert) nil nil)
                                 ("2"
                                  (lemma
                                   "points_on_distinct_edges_differ")
                                  (("2"
                                    (inst - "s`p1" "A" _ _)
                                    (("2"
                                      (case "j!1 < j")
                                      (("1"
                                        (inst - "j!1" "j")
                                        (("1"
                                          (ground)
                                          (("1"
                                            (expand "member")
                                            (("1"
                                              (expand
                                               "injected_edge"
                                               -6)
                                              (("1" (propax) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (inst - "j" "j!1")
                                        (("2"
                                          (ground)
                                          (("2"
                                            (expand "member")
                                            (("2"
                                              (expand
                                               "injected_edge"
                                               -6)
                                              (("2" (propax) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (point_on_injected_segment_TCC1 0
  (point_on_injected_segment_TCC1-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (point_on_injected_segment subtype "injection_props.i"
    "naturalnumbers.upto(injection_props.A`num_vertices)"))
  (point_on_injected_segment_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (point_on_injected_segment subtype "injection_props.i"
    "naturalnumbers.upto(injection_props.A`num_vertices)")))
 (point_on_injected_segment_TCC2 0
  (point_on_injected_segment_TCC2-2 nil 3874129019
   ("" (skeep)
    (("" (lemma "length_injected_vertices_ordered")
      (("" (inst - "A" "B" "i" "A`num_vertices")
        (("" (assert) nil nil)) nil))
      nil))
    nil)
   nil shostak
   (point_on_injected_segment subtype "injection_props.j"
    "below[injected_vertices(A, B, A`num_vertices)`length]"))
  (point_on_injected_segment_TCC2-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (point_on_injected_segment subtype "injection_props.j"
    "below[injected_vertices(A, B, A`num_vertices)`length]")))
 (point_on_injected_segment 0
  (point_on_injected_segment-1 nil 3874129019
   ("" (skeep*)
    (("" (typepred "inject_vertices_into_polygon(A, B)`1")
      (("" (replace -3 :dir rl)
        (("" (assert)
          (("" (expand "inject_post_condition?")
            ((""
              (name-replace*
               ("e" "edges_of_polygon(A)(i)" "ie" "injected_edge(e, B)"
                "S" "injected_edge_seq(e, ie)"))
              (("" (case "card(ie) > 0")
                (("1" (lemma "point_on_segment_on_subsegment")
                  (("1"
                    (inst - "p" "S o singleton_seq(e`p2)" "e"
                     "S`length+1")
                    (("1" (assert)
                      (("1"
                        (name-replace "SS" "S o singleton_seq(e`p2)")
                        (("1" (case " SS`length = 1 + S`length")
                          (("1"
                            (case "SS`seq(0) = e`p1 and SS`seq(S`length) = e`p2")
                            (("1" (ground)
                              (("1"
                                (skeep - t)
                                (("1"
                                  (inst
                                   +
                                   "(# p1 := SS`seq(k), p2 := SS`seq(1 + k) #)")
                                  (("1"
                                    (expand "edge_of_polygon?")
                                    (("1"
                                      (expand "o ")
                                      (("1"
                                        (expand "singleton_seq")
                                        (("1"
                                          (typepred "S")
                                          (("1"
                                            (expand "SS" 1)
                                            (("1"
                                              (expand "o ")
                                              (("1"
                                                (expand
                                                 "singleton_seq")
                                                (("1"
                                                  (assert)
                                                  (("1"
                                                    (inst + "j+k")
                                                    (("1"
                                                      (lift-if)
                                                      (("1"
                                                        (expand
                                                         "edges_of_polygon"
                                                         +)
                                                        (("1"
                                                          (expand
                                                           "next_index")
                                                          (("1"
                                                            (replace
                                                             -15
                                                             +)
                                                            (("1"
                                                              (assert)
                                                              (("1"
                                                                (lemma
                                                                 "injected_vertices_tail_eq")
                                                                (("1"
                                                                  (inst
                                                                   -
                                                                   "A"
                                                                   "B"
                                                                   _
                                                                   "1+i")
                                                                  (("1"
                                                                    (assert)
                                                                    (("1"
                                                                      (ground)
                                                                      (("1"
                                                                        (inst
                                                                         -
                                                                         "j+k")
                                                                        (("1"
                                                                          (ground)
                                                                          (("1"
                                                                            (replace
                                                                             -1
                                                                             :dir
                                                                             rl)
                                                                            (("1"
                                                                              (expand
                                                                               "injected_vertices"
                                                                               +)
                                                                              (("1"
                                                                                (expand
                                                                                 "o")
                                                                                (("1"
                                                                                  (assert)
                                                                                  nil
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil)
                                                                           ("2"
                                                                            (expand
                                                                             "injected_vertices"
                                                                             1)
                                                                            (("2"
                                                                              (expand
                                                                               "o")
                                                                              (("2"
                                                                                (assert)
                                                                                nil
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil)
                                                                       ("2"
                                                                        (lift-if)
                                                                        (("2"
                                                                          (ground)
                                                                          (("1"
                                                                            (case-replace
                                                                             "A`num_vertices = 1+i")
                                                                            (("1"
                                                                              (expand
                                                                               "injected_vertices"
                                                                               -2)
                                                                              (("1"
                                                                                (expand
                                                                                 "o")
                                                                                (("1"
                                                                                  (assert)
                                                                                  nil
                                                                                  nil))
                                                                                nil))
                                                                              nil)
                                                                             ("2"
                                                                              (lemma
                                                                               "length_injected_vertices_ordered")
                                                                              (("2"
                                                                                (inst
                                                                                 -
                                                                                 "A"
                                                                                 "B"
                                                                                 "1+i"
                                                                                 "A`num_vertices")
                                                                                (("2"
                                                                                  (assert)
                                                                                  (("2"
                                                                                    (expand
                                                                                     "injected_vertices"
                                                                                     -1
                                                                                     1)
                                                                                    (("2"
                                                                                      (expand
                                                                                       "o")
                                                                                      (("2"
                                                                                        (assert)
                                                                                        nil
                                                                                        nil))
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil)
                                                                           ("2"
                                                                            (inst
                                                                             -
                                                                             "1+j+k")
                                                                            (("2"
                                                                              (ground)
                                                                              (("1"
                                                                                (replace
                                                                                 -1
                                                                                 :dir
                                                                                 rl)
                                                                                (("1"
                                                                                  (expand
                                                                                   "injected_vertices"
                                                                                   2)
                                                                                  (("1"
                                                                                    (expand
                                                                                     "o")
                                                                                    (("1"
                                                                                      (assert)
                                                                                      nil
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil)
                                                                               ("2"
                                                                                (expand
                                                                                 "injected_vertices"
                                                                                 1)
                                                                                (("2"
                                                                                  (expand
                                                                                   "o")
                                                                                  (("2"
                                                                                    (assert)
                                                                                    nil
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil)
                                                                       ("3"
                                                                        (inst
                                                                         -
                                                                         "j+k")
                                                                        (("3"
                                                                          (ground)
                                                                          (("1"
                                                                            (replace
                                                                             -1
                                                                             :dir
                                                                             rl)
                                                                            (("1"
                                                                              (expand
                                                                               "injected_vertices"
                                                                               1)
                                                                              (("1"
                                                                                (expand
                                                                                 "o")
                                                                                (("1"
                                                                                  (assert)
                                                                                  nil
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil)
                                                                           ("2"
                                                                            (expand
                                                                             "injected_vertices"
                                                                             1)
                                                                            (("2"
                                                                              (expand
                                                                               "o")
                                                                              (("2"
                                                                                (assert)
                                                                                nil
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil)
                                                                       ("4"
                                                                        (lift-if)
                                                                        (("4"
                                                                          (ground)
                                                                          (("1"
                                                                            (lemma
                                                                             "injected_vertices_tail_eq")
                                                                            (("1"
                                                                              (inst
                                                                               -
                                                                               "A"
                                                                               "B"
                                                                               "0"
                                                                               "1")
                                                                              (("1"
                                                                                (ground)
                                                                                (("1"
                                                                                  (replace
                                                                                   -1
                                                                                   :dir
                                                                                   rl)
                                                                                  (("1"
                                                                                    (expand
                                                                                     "injected_vertices"
                                                                                     1)
                                                                                    (("1"
                                                                                      (expand
                                                                                       "injected_vertices"
                                                                                       1)
                                                                                      (("1"
                                                                                        (expand
                                                                                         "empty_seq")
                                                                                        (("1"
                                                                                          (expand
                                                                                           "o")
                                                                                          (("1"
                                                                                            (lemma
                                                                                             "injected_edge_seq_starts_with_p1")
                                                                                            (("1"
                                                                                              (inst
                                                                                               -
                                                                                               "edges_of_polygon(A)(0)"
                                                                                               "A"
                                                                                               "B"
                                                                                               "0")
                                                                                              (("1"
                                                                                                (assert)
                                                                                                (("1"
                                                                                                  (replace
                                                                                                   -1)
                                                                                                  (("1"
                                                                                                    (lemma
                                                                                                     "injected_vertices_length_max")
                                                                                                    (("1"
                                                                                                      (inst
                                                                                                       -
                                                                                                       "A"
                                                                                                       "B"
                                                                                                       "1+i")
                                                                                                      (("1"
                                                                                                        (ground)
                                                                                                        (("1"
                                                                                                          (case
                                                                                                           "0 = next_index(A,i)")
                                                                                                          (("1"
                                                                                                            (replace
                                                                                                             -19
                                                                                                             1
                                                                                                             :dir
                                                                                                             rl)
                                                                                                            (("1"
                                                                                                              (expand
                                                                                                               "edges_of_polygon"
                                                                                                               1)
                                                                                                              (("1"
                                                                                                                (assert)
                                                                                                                nil
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil)
                                                                                                           ("2"
                                                                                                            (expand
                                                                                                             "next_index")
                                                                                                            (("2"
                                                                                                              (propax)
                                                                                                              nil
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil)
                                                                                                         ("2"
                                                                                                          (expand
                                                                                                           "injected_vertices"
                                                                                                           1
                                                                                                           1)
                                                                                                          (("2"
                                                                                                            (expand
                                                                                                             "o")
                                                                                                            (("2"
                                                                                                              (assert)
                                                                                                              nil
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil))
                                                                                                    nil))
                                                                                                  nil))
                                                                                                nil))
                                                                                              nil))
                                                                                            nil))
                                                                                          nil))
                                                                                        nil))
                                                                                      nil))
                                                                                    nil))
                                                                                  nil)
                                                                                 ("2"
                                                                                  (expand
                                                                                   "injected_vertices"
                                                                                   1)
                                                                                  (("2"
                                                                                    (expand
                                                                                     "o")
                                                                                    (("2"
                                                                                      (lemma
                                                                                       "length_injected_edge_seq_pos")
                                                                                      (("2"
                                                                                        (inst
                                                                                         -
                                                                                         "edges_of_polygon(A)(0)"
                                                                                         "A"
                                                                                         "B"
                                                                                         "0")
                                                                                        (("2"
                                                                                          (assert)
                                                                                          nil
                                                                                          nil))
                                                                                        nil))
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil)
                                                                           ("2"
                                                                            (case-replace
                                                                             "A`num_vertices = 1+i")
                                                                            (("1"
                                                                              (expand
                                                                               "injected_vertices"
                                                                               1)
                                                                              (("1"
                                                                                (expand
                                                                                 "o")
                                                                                (("1"
                                                                                  (assert)
                                                                                  nil
                                                                                  nil))
                                                                                nil))
                                                                              nil)
                                                                             ("2"
                                                                              (lemma
                                                                               "length_injected_vertices_ordered")
                                                                              (("2"
                                                                                (inst
                                                                                 -
                                                                                 "A"
                                                                                 "B"
                                                                                 "1+i"
                                                                                 "A`num_vertices")
                                                                                (("2"
                                                                                  (assert)
                                                                                  (("2"
                                                                                    (expand
                                                                                     "injected_vertices"
                                                                                     -1
                                                                                     1)
                                                                                    (("2"
                                                                                      (expand
                                                                                       "o")
                                                                                      (("2"
                                                                                        (equate
                                                                                         "injected_vertices(A, B, A`num_vertices)`seq(1 + j + k)"
                                                                                         "injected_vertices(A, B, i+2)`seq(1 + j + k)")
                                                                                        (("1"
                                                                                          (expand
                                                                                           "injected_vertices"
                                                                                           3)
                                                                                          (("1"
                                                                                            (expand
                                                                                             "o")
                                                                                            (("1"
                                                                                              (lift-if)
                                                                                              (("1"
                                                                                                (ground)
                                                                                                (("1"
                                                                                                  (expand
                                                                                                   "injected_vertices"
                                                                                                   -1)
                                                                                                  (("1"
                                                                                                    (expand
                                                                                                     "o")
                                                                                                    (("1"
                                                                                                      (assert)
                                                                                                      nil
                                                                                                      nil))
                                                                                                    nil))
                                                                                                  nil)
                                                                                                 ("2"
                                                                                                  (lemma
                                                                                                   "injected_edge_seq_starts_with_p1")
                                                                                                  (("2"
                                                                                                    (inst
                                                                                                     -
                                                                                                     "edges_of_polygon(A)(1 + i)"
                                                                                                     "A"
                                                                                                     "B"
                                                                                                     "1+i")
                                                                                                    (("2"
                                                                                                      (assert)
                                                                                                      (("2"
                                                                                                        (equate
                                                                                                         "1 - injected_vertices(A, B, 1 + i)`length + j + k"
                                                                                                         "0")
                                                                                                        (("1"
                                                                                                          (replace
                                                                                                           -1)
                                                                                                          (("1"
                                                                                                            (replace
                                                                                                             -16
                                                                                                             +
                                                                                                             :dir
                                                                                                             rl)
                                                                                                            (("1"
                                                                                                              (expand
                                                                                                               "edges_of_polygon"
                                                                                                               2)
                                                                                                              (("1"
                                                                                                                (expand
                                                                                                                 "next_index")
                                                                                                                (("1"
                                                                                                                  (propax)
                                                                                                                  nil
                                                                                                                  nil))
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil)
                                                                                                         ("2"
                                                                                                          (expand
                                                                                                           "injected_vertices"
                                                                                                           1)
                                                                                                          (("2"
                                                                                                            (expand
                                                                                                             "o")
                                                                                                            (("2"
                                                                                                              (assert)
                                                                                                              nil
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil))
                                                                                                    nil))
                                                                                                  nil))
                                                                                                nil))
                                                                                              nil))
                                                                                            nil))
                                                                                          nil)
                                                                                         ("2"
                                                                                          (case-replace
                                                                                           "A`num_vertices = i+2")
                                                                                          (("2"
                                                                                            (assert)
                                                                                            (("2"
                                                                                              (lemma
                                                                                               "injected_vertices_tail_eq")
                                                                                              (("2"
                                                                                                (inst
                                                                                                 -
                                                                                                 "A"
                                                                                                 "B"
                                                                                                 "1+j+k"
                                                                                                 "i+2")
                                                                                                (("2"
                                                                                                  (assert)
                                                                                                  (("2"
                                                                                                    (expand
                                                                                                     "injected_vertices"
                                                                                                     1)
                                                                                                    (("2"
                                                                                                      (expand
                                                                                                       "o")
                                                                                                      (("2"
                                                                                                        (expand
                                                                                                         "injected_vertices"
                                                                                                         1)
                                                                                                        (("2"
                                                                                                          (expand
                                                                                                           "o")
                                                                                                          (("2"
                                                                                                            (lemma
                                                                                                             "length_injected_edge_seq_pos")
                                                                                                            (("2"
                                                                                                              (inst
                                                                                                               -
                                                                                                               "edges_of_polygon(A)(1 + i)"
                                                                                                               "A"
                                                                                                               "B"
                                                                                                               "1+i")
                                                                                                              (("2"
                                                                                                                (assert)
                                                                                                                nil
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil))
                                                                                                    nil))
                                                                                                  nil))
                                                                                                nil))
                                                                                              nil))
                                                                                            nil))
                                                                                          nil)
                                                                                         ("3"
                                                                                          (expand
                                                                                           "injected_vertices"
                                                                                           1)
                                                                                          (("3"
                                                                                            (expand
                                                                                             "injected_vertices"
                                                                                             1)
                                                                                            (("3"
                                                                                              (expand
                                                                                               "o")
                                                                                              (("3"
                                                                                                (lemma
                                                                                                 "length_injected_edge_seq_pos")
                                                                                                (("3"
                                                                                                  (inst
                                                                                                   -
                                                                                                   "edges_of_polygon(A)(1 + i)"
                                                                                                   "A"
                                                                                                   "B"
                                                                                                   "1+i")
                                                                                                  (("3"
                                                                                                    (assert)
                                                                                                    nil
                                                                                                    nil))
                                                                                                  nil))
                                                                                                nil))
                                                                                              nil))
                                                                                            nil))
                                                                                          nil))
                                                                                        nil))
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("2"
                                                      (replace -15 +)
                                                      (("2"
                                                        (assert)
                                                        (("2"
                                                          (case-replace
                                                           "A`num_vertices = 1+i")
                                                          (("1"
                                                            (expand
                                                             "injected_vertices"
                                                             +)
                                                            (("1"
                                                              (expand
                                                               "o")
                                                              (("1"
                                                                (assert)
                                                                nil
                                                                nil))
                                                              nil))
                                                            nil)
                                                           ("2"
                                                            (lemma
                                                             "length_injected_vertices_ordered")
                                                            (("2"
                                                              (inst
                                                               -
                                                               "A"
                                                               "B"
                                                               "1+i"
                                                               "A`num_vertices")
                                                              (("2"
                                                                (assert)
                                                                (("2"
                                                                  (expand
                                                                   "injected_vertices"
                                                                   -1
                                                                   1)
                                                                  (("2"
                                                                    (expand
                                                                     "o")
                                                                    (("2"
                                                                      (assert)
                                                                      nil
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil)
                                   ("2"
                                    (expand "o ")
                                    (("2"
                                      (expand "singleton_seq")
                                      (("2"
                                        (ground)
                                        (("2"
                                          (expand "SS" -1)
                                          (("2"
                                            (expand "o ")
                                            (("2"
                                              (expand "singleton_seq")
                                              (("2"
                                                (lift-if)
                                                (("2"
                                                  (ground)
                                                  (("1"
                                                    (typepred "S")
                                                    (("1"
                                                      (inst
                                                       -4
                                                       "1+k"
                                                       "k")
                                                      (("1"
                                                        (replace -6)
                                                        (("1"
                                                          (assert)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil)
                                                   ("2"
                                                    (typepred "S")
                                                    (("2"
                                                      (inst -3 "k")
                                                      (("2"
                                                        (replace
                                                         -13
                                                         -3
                                                         :dir
                                                         rl)
                                                        (("2"
                                                          (expand
                                                           "injected_edge")
                                                          (("2"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil)
                                   ("3" (assert) nil nil)
                                   ("4" (assert) nil nil))
                                  nil))
                                nil)
                               ("2"
                                (replace -1)
                                (("2"
                                  (hide-all-but 1)
                                  (("2" (grind-with-ext) nil nil))
                                  nil))
                                nil)
                               ("3"
                                (skeep + t)
                                (("3"
                                  (expand "o" -1)
                                  (("3"
                                    (expand "singleton_seq" -1)
                                    (("3"
                                      (case "i!1 = S`length")
                                      (("1"
                                        (replace -1)
                                        (("1"
                                          (replace -4)
                                          (("1" (assert) nil nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (typepred "S")
                                        (("2"
                                          (inst -3 "i!1")
                                          (("1"
                                            (use
                                             "member_injected_edge_on_segment")
                                            (("1"
                                              (assert)
                                              (("1"
                                                (expand "SS" 1)
                                                (("1"
                                                  (expand "o" 1)
                                                  (("1"
                                                    (assert)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2" (assert) nil nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("4"
                                (skeep + t)
                                (("4"
                                  (typepred "S")
                                  (("4"
                                    (expand "o " (-5 -6))
                                    (("4"
                                      (expand "singleton_seq" (-5 -6))
                                      (("4"
                                        (case "j!1 = S`length")
                                        (("1"
                                          (inst -5 "j!1 - 1" "i!1")
                                          (("1"
                                            (replace -9)
                                            (("1"
                                              (case
                                               "norm(S`seq(j!1 - 1) - e`p1) < norm(SS`seq(j!1) - e`p1)")
                                              (("1"
                                                (equate
                                                 "SS`seq(i!1)"
                                                 "S`seq(i!1)")
                                                (("1" (assert) nil nil)
                                                 ("2"
                                                  (expand "SS" 1)
                                                  (("2"
                                                    (expand "o" 1)
                                                    (("2"
                                                      (assert)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil)
                                                 ("3"
                                                  (assert)
                                                  nil
                                                  nil))
                                                nil)
                                               ("2"
                                                (expand "SS" 1)
                                                (("2"
                                                  (expand "o" 1)
                                                  (("2"
                                                    (assert)
                                                    (("2"
                                                      (expand
                                                       "singleton_seq"
                                                       1)
                                                      (("2"
                                                        (inst
                                                         -4
                                                         "j!1 - 1")
                                                        (("2"
                                                          (lemma
                                                           "member_injected_edge_on_segment")
                                                          (("2"
                                                            (inst
                                                             -
                                                             "S`seq(j!1 - 1)"
                                                             "e"
                                                             "B")
                                                            (("2"
                                                              (assert)
                                                              (("2"
                                                                (rewrite
                                                                 "point_on_segment_has_offset"
                                                                 -1)
                                                                (("2"
                                                                  (skeep)
                                                                  (("2"
                                                                    (replace
                                                                     -1)
                                                                    (("2"
                                                                      (assert)
                                                                      (("2"
                                                                        (case-replace
                                                                         "d=1")
                                                                        (("1"
                                                                          (assert)
                                                                          (("1"
                                                                            (equate
                                                                             "e`p1 + (e`p2 - e`p1)"
                                                                             "e`p2")
                                                                            (("1"
                                                                              (expand
                                                                               "ie")
                                                                              (("1"
                                                                                (expand
                                                                                 "injected_edge")
                                                                                (("1"
                                                                                  (propax)
                                                                                  nil
                                                                                  nil))
                                                                                nil))
                                                                              nil)
                                                                             ("2"
                                                                              (hide-all-but
                                                                               1)
                                                                              (("2"
                                                                                (grind-with-ext)
                                                                                nil
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil)
                                                                         ("2"
                                                                          (rewrite
                                                                           "norm_scal")
                                                                          (("2"
                                                                            (expand
                                                                             "abs")
                                                                            (("2"
                                                                              (cancel-by
                                                                               2
                                                                               "norm(e`p2 - e`p1)")
                                                                              nil
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil)
                                               ("3" (assert) nil nil)
                                               ("4" (assert) nil nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (typepred "S")
                                            (("2"
                                              (expand "SS" +)
                                              (("2"
                                                (expand "o" +)
                                                (("2"
                                                  (expand
                                                   "singleton_seq")
                                                  (("2"
                                                    (assert)
                                                    (("2"
                                                      (inst -3 "i!1")
                                                      (("2"
                                                        (lemma
                                                         "member_injected_edge_on_segment")
                                                        (("2"
                                                          (inst
                                                           -
                                                           "S`seq(i!1)"
                                                           "e"
                                                           "B")
                                                          (("2"
                                                            (assert)
                                                            (("2"
                                                              (rewrite
                                                               "point_on_segment_has_offset"
                                                               -1)
                                                              (("2"
                                                                (skeep)
                                                                (("2"
                                                                  (replace
                                                                   -1)
                                                                  (("2"
                                                                    (equate
                                                                     "S`seq(0)"
                                                                     "e`p1")
                                                                    (("1"
                                                                      (assert)
                                                                      (("1"
                                                                        (case-replace
                                                                         "d=1")
                                                                        (("1"
                                                                          (assert)
                                                                          (("1"
                                                                            (equate
                                                                             "e`p1 + (e`p2 - e`p1)"
                                                                             "e`p2")
                                                                            (("1"
                                                                              (replace
                                                                               -20
                                                                               -6
                                                                               :dir
                                                                               rl)
                                                                              (("1"
                                                                                (expand
                                                                                 "injected_edge")
                                                                                (("1"
                                                                                  (propax)
                                                                                  nil
                                                                                  nil))
                                                                                nil))
                                                                              nil)
                                                                             ("2"
                                                                              (hide-all-but
                                                                               1)
                                                                              (("2"
                                                                                (grind-with-ext)
                                                                                nil
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil)
                                                                         ("2"
                                                                          (rewrite
                                                                           "norm_scal")
                                                                          (("2"
                                                                            (expand
                                                                             "abs")
                                                                            (("2"
                                                                              (mult-cases
                                                                               3
                                                                               :mult-op
                                                                               1*)
                                                                              (("1"
                                                                                (ground)
                                                                                (("1"
                                                                                  (use
                                                                                   "norm_diff_pos")
                                                                                  (("1"
                                                                                    (assert)
                                                                                    nil
                                                                                    nil))
                                                                                  nil))
                                                                                nil)
                                                                               ("2"
                                                                                (expand
                                                                                 "abs")
                                                                                (("2"
                                                                                  (assert)
                                                                                  nil
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil)
                                                                     ("2"
                                                                      (hide-all-but
                                                                       (-14
                                                                        1))
                                                                      (("2"
                                                                        (expand
                                                                         "SS")
                                                                        (("2"
                                                                          (expand
                                                                           "o ")
                                                                          (("2"
                                                                            (propax)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("3" (assert) nil nil))
                                          nil)
                                         ("2"
                                          (inst -4 "j!1" "i!1")
                                          (("1"
                                            (replace -8)
                                            (("1"
                                              (expand "SS" +)
                                              (("1"
                                                (expand "o ")
                                                (("1"
                                                  (expand
                                                   "singleton_seq")
                                                  (("1"
                                                    (assert)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2" (assert) nil nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (hide -2 2)
                              (("2"
                                (expand "SS")
                                (("2"
                                  (expand "o ")
                                  (("2"
                                    (expand "singleton_seq")
                                    (("2"
                                      (use
                                       "injected_edge_seq_starts_with_p1")
                                      (("2" (assert) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("3" (ground) nil nil)
                             ("4" (assert) nil nil))
                            nil)
                           ("2" (expand "SS")
                            (("2" (expand "o ")
                              (("2"
                                (expand "singleton_seq")
                                (("2" (propax) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (use "injected_edge_nonempty")
                  (("2" (assert)
                    (("2" (expand "nonempty?")
                      (("2" (use "empty_card[point_2d]")
                        (("2" (assert) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (A_vertex_is_Am_vertex 0
  (A_vertex_is_Am_vertex-1 nil 3874129019
   ("" (skeep*)
    (("" (invoke (typepred "%1`1") (! -1 r))
      (("" (expand "inject_post_condition?")
        (("" (assert)
          (("" (replace -3 :dir rl)
            (("" (assert)
              (("" (expand "vertex?")
                (("" (skeep)
                  (("" (replace -2 +)
                    (("" (assert)
                      (("" (use "injected_vertex_in_injected_edge")
                        (("" (assert)
                          (("" (flatten)
                            (("" (hide -1)
                              ((""
                                (ground)
                                (("1"
                                  (skeep)
                                  (("1"
                                    (inst?)
                                    (("1" (assert) nil nil)
                                     ("2" (assert) nil nil))
                                    nil))
                                  nil)
                                 ("2"
                                  (inst + "i")
                                  (("2"
                                    (assert)
                                    (("2"
                                      (expand "member")
                                      (("2"
                                        (expand "injected_edge")
                                        (("2"
                                          (ground)
                                          (("1"
                                            (expand "edges_of_polygon")
                                            (("1"
                                              (typepred "A`vertices")
                                              (("1"
                                                (expand
                                                 "uniq_vertex_list?")
                                                (("1"
                                                  (inst
                                                   -
                                                   "i"
                                                   "next_index(A,i)")
                                                  (("1"
                                                    (assert)
                                                    nil
                                                    nil)
                                                   ("2"
                                                    (hide-all-but 1)
                                                    (("2"
                                                      (grind)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (hide 2 3)
                                            (("2"
                                              (expand
                                               "edges_of_polygon")
                                              (("2" (propax) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_vertex_index_in_range_TCC1 0
  (injected_vertex_index_in_range_TCC1-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (injected_vertex_index_in_range subtype "injection_props.j"
    "naturalnumbers.upto(injection_props.A`num_vertices)"))
  (injected_vertex_index_in_range_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (injected_vertex_index_in_range subtype "injection_props.j"
    "naturalnumbers.upto(injection_props.A`num_vertices)")))
 (injected_vertex_index_in_range_TCC2 0
  (injected_vertex_index_in_range_TCC2-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (injected_vertex_index_in_range subtype
    "(number_fields.+)(injection_props.j, 1)"
    "naturalnumbers.upto(injection_props.A`num_vertices)"))
  (injected_vertex_index_in_range_TCC2-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (injected_vertex_index_in_range subtype
    "(number_fields.+)(injection_props.j, 1)"
    "naturalnumbers.upto(injection_props.A`num_vertices)")))
 (injected_vertex_index_in_range 0
  (injected_vertex_index_in_range-1 nil 3874129019
   ("" (skeep*)
    (("" (lemma "injected_vertex_p1_is_seq_element")
      (("" (inst - "A" "B" "j" "A`num_vertices")
        (("" (assert)
          (("" (typepred "inject_vertices_into_polygon(A, B)`1")
            (("" (replace -4 :dir rl)
              (("" (assert)
                (("" (expand "inject_post_condition?")
                  (("" (expand "edges_of_polygon")
                    (("" (split -10)
                      (("1" (replace -8 -1)
                        (("1" (replace -9 -1)
                          (("1" (assert)
                            (("1" (replace -1 :dir rl)
                              (("1"
                                (replace -3 -4)
                                (("1"
                                  (assert)
                                  (("1"
                                    (case
                                     "i = injected_vertices(A, B, j)`length")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (use
                                         "length_injected_vertices_incr")
                                        (("1" (assert) nil nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (lemma
                                       "all_injected_vertices_distinct")
                                      (("2"
                                        (inst
                                         -
                                         "A"
                                         "B"
                                         "injected_vertices(A, B, A`num_vertices)"
                                         "A`num_vertices")
                                        (("2"
                                          (assert)
                                          (("2"
                                            (inst
                                             -
                                             "i"
                                             "injected_vertices(A, B, j)`length")
                                            (("2" (assert) nil nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil)
                       ("2" (lemma "injected_vertex_p1_is_seq_element")
                        (("2"
                          (inst - "A" "B" "next_index(A,j)"
                           "A`num_vertices")
                          (("2" (assert)
                            (("2" (replace -9 -2)
                              (("2"
                                (replace -10 -2)
                                (("2"
                                  (assert)
                                  (("2"
                                    (expand "edges_of_polygon")
                                    (("2"
                                      (replace -1 -2)
                                      (("2"
                                        (case
                                         "next_index(Am,i) = injected_vertices(A, B, next_index(A,j))`length")
                                        (("1"
                                          (expand "next_index" -1)
                                          (("1"
                                            (apply (repeat (lift-if)))
                                            (("1"
                                              (expand
                                               "injected_vertices"
                                               -1)
                                              (("1"
                                                (assert)
                                                (("1"
                                                  (split -1)
                                                  (("1"
                                                    (flatten)
                                                    (("1"
                                                      (split -2)
                                                      (("1"
                                                        (flatten)
                                                        (("1"
                                                          (replace -1)
                                                          (("1"
                                                            (assert)
                                                            (("1"
                                                              (replace
                                                               -7
                                                               -3)
                                                              (("1"
                                                                (assert)
                                                                (("1"
                                                                  (lemma
                                                                   "length_injected_vertices_incr")
                                                                  (("1"
                                                                    (inst
                                                                     -
                                                                     "A"
                                                                     "B"
                                                                     "A`num_vertices - 1")
                                                                    (("1"
                                                                      (assert)
                                                                      nil
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil)
                                                       ("2"
                                                        (flatten)
                                                        (("2"
                                                          (use
                                                           "length_injected_edge_seq_pos")
                                                          (("2"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil)
                                                   ("2"
                                                    (flatten)
                                                    (("2"
                                                      (split -1)
                                                      (("1"
                                                        (flatten)
                                                        (("1"
                                                          (expand
                                                           "empty_seq")
                                                          (("1"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil)
                                                       ("2"
                                                        (flatten)
                                                        (("2"
                                                          (expand
                                                           "injected_vertices"
                                                           3
                                                           2)
                                                          (("2"
                                                            (assert)
                                                            (("2"
                                                              (move-terms
                                                               -1
                                                               l
                                                               1)
                                                              (("2"
                                                                (replace
                                                                 -1
                                                                 3)
                                                                (("2"
                                                                  (use
                                                                   "length_injected_edge_seq_pos")
                                                                  (("2"
                                                                    (assert)
                                                                    nil
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (lemma
                                           "all_injected_vertices_distinct")
                                          (("2"
                                            (inst
                                             -
                                             "A"
                                             "B"
                                             "injected_vertices(A, B, A`num_vertices)"
                                             "A`num_vertices")
                                            (("2"
                                              (assert)
                                              (("2"
                                                (inst
                                                 -
                                                 "next_index(Am, i)"
                                                 "injected_vertices(A, B, next_index(A, j))`length")
                                                (("2"
                                                  (assert)
                                                  nil
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_p2_eq_imp_p1_on_segment 0
  (injected_p2_eq_imp_p1_on_segment-1 nil 3874129019
   ("" (skeep*)
    (("" (typepred "inject_vertices_into_polygon(A, B)`1")
      (("" (replace -3 :dir rl)
        (("" (assert)
          (("" (expand "inject_post_condition?")
            (("" (expand "edges_of_polygon" -6)
              (("" (replace -2 -6)
                (("" (assert)
                  (("" (replace -2 :dir rl)
                    (("" (replace -6 1)
                      (("" (assert)
                        (("" (lemma "injected_vertex_on_original_edge")
                          (("" (inst - "A" "B" "i" "j")
                            ((""
                              (case "j >= injected_edge_indices(A, B)`seq(i) AND
       j < injected_edge_indices(A, B)`seq(i + 1)")
                              (("1"
                                (ground)
                                (("1"
                                  (lemma "injected_vertices_tail_eq")
                                  (("1"
                                    (inst - "A" "B" "j" "i+1")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (rewrite
                                         "injected_edge_indices_eq_len_inj_vert")
                                        nil
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (hide -1 2)
                                (("2"
                                  (rewrite*
                                   "injected_edge_indices_eq_len_inj_vert"
                                   :dir
                                   rl)
                                  (("2"
                                    (case "1+i = A`num_vertices")
                                    (("1"
                                      (assert)
                                      (("1"
                                        (case
                                         "j = Am`num_vertices - 1")
                                        (("1"
                                          (lemma
                                           "length_injected_vertices_ordered")
                                          (("1"
                                            (inst - "A" "B" "i" "i+1")
                                            (("1" (assert) nil nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (case "next_index(A,i) = 0")
                                          (("1"
                                            (expand "edges_of_polygon")
                                            (("1"
                                              (case
                                               "next_index(Am,j)=0")
                                              (("1"
                                                (expand "next_index")
                                                (("1"
                                                  (lift-if)
                                                  (("1"
                                                    (ground)
                                                    nil
                                                    nil))
                                                  nil))
                                                nil)
                                               ("2"
                                                (lemma
                                                 "injected_vertex_p1_is_seq_element")
                                                (("2"
                                                  (inst
                                                   -
                                                   "A"
                                                   "B"
                                                   "0"
                                                   "A`num_vertices")
                                                  (("2"
                                                    (assert)
                                                    (("2"
                                                      (expand
                                                       "injected_vertices"
                                                       -1
                                                       2)
                                                      (("2"
                                                        (expand
                                                         "empty_seq")
                                                        (("2"
                                                          (lemma
                                                           "all_injected_vertices_distinct")
                                                          (("2"
                                                            (inst
                                                             -
                                                             "A"
                                                             "B"
                                                             "injected_vertices(A, B, A`num_vertices)"
                                                             "i+1")
                                                            (("2"
                                                              (assert)
                                                              (("2"
                                                                (inst
                                                                 -
                                                                 "0"
                                                                 "next_index(Am, j)")
                                                                (("2"
                                                                  (assert)
                                                                  (("2"
                                                                    (expand
                                                                     "edges_of_polygon")
                                                                    (("2"
                                                                      (assert)
                                                                      nil
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (expand "next_index")
                                            (("2" (propax) nil nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (lemma
                                       "injected_vertex_p1_is_seq_element")
                                      (("2"
                                        (inst
                                         -
                                         "A"
                                         "B"
                                         "i+1"
                                         "A`num_vertices")
                                        (("2"
                                          (assert)
                                          (("2"
                                            (case-replace
                                             "next_index(Am,j) = injected_vertices(A, B, 1 + i)`length")
                                            (("1"
                                              (replace -2 :dir rl)
                                              (("1"
                                                (expand "next_index")
                                                (("1"
                                                  (lift-if)
                                                  (("1"
                                                    (ground)
                                                    (("1"
                                                      (lemma
                                                       "length_injected_vertices_ordered")
                                                      (("1"
                                                        (inst
                                                         -
                                                         "A"
                                                         "B"
                                                         "i"
                                                         "i+1")
                                                        (("1"
                                                          (assert)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("2"
                                                      (lemma
                                                       "length_injected_vertices_ordered")
                                                      (("2"
                                                        (inst
                                                         -
                                                         "A"
                                                         "B"
                                                         "0"
                                                         "i+1")
                                                        (("2"
                                                          (assert)
                                                          (("2"
                                                            (expand
                                                             "injected_vertices"
                                                             -1
                                                             1)
                                                            (("2"
                                                              (expand
                                                               "empty_seq")
                                                              (("2"
                                                                (assert)
                                                                nil
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("3"
                                                      (lemma
                                                       "length_injected_vertices_ordered")
                                                      (("3"
                                                        (inst
                                                         -
                                                         "A"
                                                         "B"
                                                         "i"
                                                         "i+1")
                                                        (("3"
                                                          (assert)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil)
                                             ("2"
                                              (equate
                                               "edges_of_polygon(A)(1 + i)`p1"
                                               "s`p2")
                                              (("1"
                                                (lemma
                                                 "all_injected_vertices_distinct")
                                                (("1"
                                                  (inst
                                                   -
                                                   "A"
                                                   "B"
                                                   "injected_vertices(A, B, A`num_vertices)"
                                                   "A`num_vertices")
                                                  (("1"
                                                    (assert)
                                                    (("1"
                                                      (inst
                                                       -
                                                       "injected_vertices(A, B, 1 + i)`length"
                                                       "next_index(Am, j)")
                                                      (("1"
                                                        (assert)
                                                        nil
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil)
                                               ("2"
                                                (expand
                                                 "edges_of_polygon")
                                                (("2"
                                                  (replace -6 1)
                                                  (("2"
                                                    (assert)
                                                    (("2"
                                                      (expand
                                                       "next_index")
                                                      (("2"
                                                        (propax)
                                                        nil
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("3"
                                (expand "injected_edge_indices")
                                (("3" (propax) nil nil))
                                nil)
                               ("4"
                                (expand "injected_edge_indices")
                                (("4" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (no_crossings_between_overlap_endpoints_TCC1 0
  (no_crossings_between_overlap_endpoints_TCC1-2 nil 3874129019
   ("" (skeep*)
    (("" (use "min_max_overlap_points_neq") (("" (assert) nil nil))
      nil))
    nil)
   nil shostak
   (no_crossings_between_overlap_endpoints subtype "injection_props.q"
    "{p_1: vectors_cross_2d.point_2d | p_1 /= injection_props.p}"))
  (no_crossings_between_overlap_endpoints_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (no_crossings_between_overlap_endpoints subtype "injection_props.q"
    "{p_1: vectors_cross_2d.point_2d | p_1 /= injection_props.p}")))
 (no_crossings_between_overlap_endpoints 0
  (no_crossings_between_overlap_endpoints-1 nil 3874129019
   ("" (skeep)
    (("" (assert)
      (("" (skeep - t)
        (("" (lemma "only_adjacent_edges_intersect")
          (("" (inst - "B" "i" "j")
            (("" (assert)
              (("" (inst?)
                (("" (use "min_overlap_point_props")
                  (("" (use "max_overlap_point_props")
                    (("" (assert)
                      (("" (use "min_max_overlap_points_neq")
                        (("" (flatten)
                          ((""
                            (case "point_on_segment?(r, edges_of_polygon(B)(i))")
                            (("1" (assert)
                              (("1"
                                (lemma
                                 "adjacent_edges_share_only_vertex")
                                (("1"
                                  (inst - "B" "i" "j")
                                  (("1"
                                    (assert)
                                    (("1"
                                      (inst?)
                                      (("1"
                                        (assert)
                                        (("1"
                                          (expand
                                           "edges_of_polygon"
                                           -1)
                                          (("1"
                                            (lemma
                                             "segment_endpoint_subsegment_endpoint")
                                            (("1"
                                              (inst
                                               -
                                               "r"
                                               "(# p1 := min_overlap_point(s, e),
                                         p2 := max_overlap_point(s, e) #)"
                                               "e")
                                              (("1"
                                                (expand
                                                 "segment_endpoint?")
                                                (("1"
                                                  (split 1)
                                                  (("1"
                                                    (expand
                                                     "subsegment?")
                                                    (("1"
                                                      (propax)
                                                      nil
                                                      nil))
                                                    nil)
                                                   ("2"
                                                    (replace -12 1)
                                                    (("2"
                                                      (expand
                                                       "edges_of_polygon")
                                                      (("2"
                                                        (ground)
                                                        nil
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil)
                                   ("2"
                                    (hide-all-but (-8 1 3))
                                    (("2" (grind) nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (lemma "point_on_subsegment")
                              (("2"
                                (inst
                                 -
                                 "r"
                                 "(# p1 := min_overlap_point(s, e),
                                       p2 := max_overlap_point(s, e) #)"
                                 "edges_of_polygon(B)(i)")
                                (("1"
                                  (assert)
                                  (("1"
                                    (expand "subsegment?")
                                    (("1" (propax) nil nil))
                                    nil))
                                  nil)
                                 ("2" (assert) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_vertex_on_edge_imp_subsegment 0
  (injected_vertex_on_edge_imp_subsegment-1 nil 3874129019
   ("" (skeep*)
    (("" (expand "edge_of_polygon?")
      (("" (skeep)
        ((""
          (name-replace "IV" "injected_vertices(A, B, A`num_vertices)")
          (("" (lemma "injected_p2_on_same_original_edge")
            ((""
              (inst - "A" "B" "IV" "i" "j"
               "IF i = IV`length - 1 THEN 0 ELSE i + 1 ENDIF")
              (("" (assert)
                (("" (expand "subsegment?")
                  (("" (expand "edges_of_polygon" -5)
                    ((""
                      (typepred "inject_vertices_into_polygon(A, B)`1")
                      (("" (expand "inject_post_condition?")
                        (("" (replace -4)
                          (("" (replace -5 :dir rl)
                            (("" (assert)
                              ((""
                                (case
                                 "IF i = IV`length - 1 THEN IV`seq(0)
                        ELSE IV`seq(1 + i)
                        ENDIF = s`p2")
                                (("1"
                                  (replace -1)
                                  (("1" (assert) nil nil))
                                  nil)
                                 ("2"
                                  (hide-all-but (-7 1))
                                  (("2" (grind) nil nil))
                                  nil)
                                 ("3" (ground) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_edge_same_dir_as_original_TCC1 0
  (injected_edge_same_dir_as_original_TCC1-2 nil 3874129019
   ("" (skeep*) (("" (assert) nil nil)) nil) nil shostak
   (injected_edge_same_dir_as_original subtype
    "(vectors_2D.-)(injection_props.s`p2, injection_props.s`p1)"
    "Nz_vector"))
  (injected_edge_same_dir_as_original_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (injected_edge_same_dir_as_original subtype
    "(vectors_2D.-)(injection_props.s`p2, injection_props.s`p1)"
    "Nz_vector")))
 (injected_edge_same_dir_as_original_TCC2 0
  (injected_edge_same_dir_as_original_TCC2-2 nil 3874129019
   ("" (skeep*) (("" (assert) nil nil)) nil) nil shostak
   (injected_edge_same_dir_as_original subtype
    "(vectors_2D.-)(injection_props.e`p2, injection_props.e`p1)"
    "Nz_vector"))
  (injected_edge_same_dir_as_original_TCC2-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (injected_edge_same_dir_as_original subtype
    "(vectors_2D.-)(injection_props.e`p2, injection_props.e`p1)"
    "Nz_vector")))
 (injected_edge_same_dir_as_original 0
  (injected_edge_same_dir_as_original-1 nil 3874129019
   ("" (skeep*)
    (("" (lemma "normalized_edge_endpoint_diffs_eq")
      (("" (inst - "A" "B" "i" "j")
        (("" (assert)
          (("" (typepred "inject_vertices_into_polygon(A, B)`1")
            (("" (expand "inject_post_condition?")
              (("" (replace -4 :dir rl)
                (("" (assert)
                  (("" (lemma "injected_vertex_index_in_range")
                    (("" (inst - "A" "B" "Am" "Bm" "e" "s" "j" "i")
                      (("" (assert)
                        (("" (split -1)
                          (("1" (propax) nil nil)
                           ("2" (split -6)
                            (("1" (replace -1 :dir rl)
                              (("1" (assert) nil nil)) nil)
                             ("2"
                              (use "injected_p2_eq_imp_p1_on_segment")
                              (("2" (assert) nil nil)) nil))
                            nil)
                           ("3" (ground) nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_perimeter_points_same 0
  (injected_perimeter_points_same-1 nil 3874129019
   ("" (skeep*)
    (("" (invoke (typepred "%1`1") (! -1 r))
      (("" (expand "inject_post_condition?")
        (("" (replace -3 :dir rl)
          (("" (assert)
            (("" (expand "point_on_polygon_perimeter?")
              (("" (ground)
                (("1" (skeep - t)
                  (("1" (expand "edge_of_polygon?")
                    (("1" (skeep)
                      (("1" (use "injected_vertex_p1_is_seq_element")
                        (("1" (assert)
                          (("1" (use "point_on_injected_segment")
                            (("1" (assert) nil nil)) nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (skeep - t)
                  (("2" (use "point_on_injected_on_original")
                    (("2" (assert)
                      (("2" (assert)
                        (("2" (skeep) (("2" (inst?) nil nil)) nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_interior_points_same 0
  (injected_interior_points_same-1 nil 3874129019
   ("" (skeep*)
    (("" (lemma "point_out_not_in")
      (("" (inst-cp - "p" "A")
        (("" (inst - "p" "Am")
          (("" (split 1)
            (("1" (ground)
              (("1" (use "injected_perimeter_points_same")
                (("1" (ground) nil nil)) nil)
               ("2" (hide -1 -3 3 4)
                (("2" (expand "point_outside_polygon?")
                  (("2" (skeep)
                    (("2" (inst?)
                      (("2" (assert)
                        (("2" (expand "serp_ray_outside?")
                          (("2" (ground)
                            (("1" (skeep)
                              (("1"
                                (inst? -3)
                                (("1"
                                  (assert)
                                  (("1"
                                    (use
                                     "injected_perimeter_points_same")
                                    (("1" (assert) nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (skeep)
                              (("2"
                                (inst? -3)
                                (("2"
                                  (lemma
                                   "injected_perimeter_points_same")
                                  (("2"
                                    (inst
                                     -
                                     "A"
                                     "B"
                                     "Am"
                                     "Bm"
                                     "S`body`seq(S`body`length - 1) + d * S`tail")
                                    (("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (flatten)
              (("2" (ground)
                (("1" (use "injected_perimeter_points_same")
                  (("1" (assert) nil nil)) nil)
                 ("2" (hide -2 -3 1 4)
                  (("2" (expand "point_outside_polygon?")
                    (("2" (skeep)
                      (("2" (inst?)
                        (("2" (assert)
                          (("2" (expand "serp_ray_outside?")
                            (("2" (ground)
                              (("1"
                                (skeep)
                                (("1"
                                  (inst?)
                                  (("1"
                                    (assert)
                                    (("1"
                                      (use
                                       "injected_perimeter_points_same")
                                      (("1" (assert) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (skeep)
                                (("2"
                                  (inst? -3)
                                  (("2"
                                    (lemma
                                     "injected_perimeter_points_same")
                                    (("2"
                                      (inst
                                       -
                                       "A"
                                       "B"
                                       "Am"
                                       "Bm"
                                       "S`body`seq(S`body`length - 1) + d * S`tail")
                                      (("2" (assert) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_exterior_points_same 0
  (injected_exterior_points_same-1 nil 3874129019
   ("" (skeep*)
    (("" (lemma "point_out_not_in")
      (("" (inst-cp - "p" "A")
        (("" (inst - "p" "Am")
          (("" (use "injected_perimeter_points_same")
            (("" (use "injected_interior_points_same")
              (("" (assert)
                (("" (assert)
                  (("" (lemma "perimeter_not_outside")
                    (("" (inst-cp - "p" "A")
                      (("" (inst - "p" "Am") (("" (ground) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_topleft_vertex_same 0
  (injected_topleft_vertex_same-1 nil 3874129019
   ("" (skeep*)
    (("" (lemma "injected_perimeter_points_same")
      (("" (inst - "A" "B" "Am" "Bm" _)
        (("" (replace -2)
          (("" (lemma "topleft_vertex_bounds_all_points")
            (("" (inst-cp - "Am" "A`vertices(topleft_vertex_idx(A))")
              (("1" (assert)
                (("1" (skeep + t)
                  (("1"
                    (inst - "A" "A`vertices(topleft_vertex_idx(A))")
                    (("1" (assert)
                      (("1" (inst?)
                        (("1" (assert) nil nil)
                         ("2" (inst?) (("2" (assert) nil nil)) nil))
                        nil))
                      nil)
                     ("2" (expand "vertex?") (("2" (inst?) nil nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("2" (lemma "A_vertex_is_Am_vertex")
                (("2" (inst?)
                  (("2" (inst - "A`vertices(topleft_vertex_idx(A))")
                    (("2" (ground)
                      (("2" (expand "vertex?") (("2" (inst?) nil nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (same_edge_or_vertex_intersection_symm 0
  (same_edge_or_vertex_intersection_symm-1 nil 3874129019
   ("" (skeep)
    (("" (expand "same_edge_or_vertex_intersection?")
      (("" (use "are_segments_overlapping_symm")
        (("" (ground)
          (("1" (replace -2 2)
            (("1" (rewrite "reverse_reverse_segment") nil nil)) nil)
           ("2" (replace -2 2)
            (("2" (rewrite "reverse_reverse_segment") nil nil)) nil)
           ("3" (skeep) (("3" (inst?) (("3" (ground) nil nil)) nil))
            nil)
           ("4" (skeep) (("4" (inst?) (("4" (ground) nil nil)) nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (only_vertex_intersections_symm 0
  (only_vertex_intersections_symm-1 nil 3874129019
   ("" (skeep)
    (("" (skeep + t)
      (("" (expand "only_vertex_intersections?")
        (("" (skeep + t)
          (("" (inst - "s_1" "s")
            (("" (rewrite "are_segments_overlapping_symm")
              (("" (ground)
                (("1" (replace -2)
                  (("1" (rewrite "reverse_reverse_segment") nil nil))
                  nil)
                 ("2" (skeep)
                  (("2" (inst?) (("2" (ground) nil nil)) nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (only_vertex_intersections_reverse_TCC1 0
  (only_vertex_intersections_reverse_TCC1-2 nil 3874129019
   ("" (skeep)
    (("" (rewrite "edge_of_rev_polygon_imp_edge_rev_seg") nil nil))
    nil)
   nil shostak
   (only_vertex_intersections_reverse subtype
    "segments_2d.reverse_segment(injection_props.s)"
    "(polygons_2d.edge_of_polygon?(injection_props.H))"))
  (only_vertex_intersections_reverse_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (only_vertex_intersections_reverse subtype
    "segments_2d.reverse_segment(injection_props.s)"
    "(polygons_2d.edge_of_polygon?(injection_props.H))")))
 (only_vertex_intersections_reverse_TCC2 0
  (only_vertex_intersections_reverse_TCC2-2 nil 3874129019
   ("" (skeep) (("" (rewrite "reverse_polygon_is_simple") nil nil))
    nil)
   nil shostak
   (only_vertex_intersections_reverse subtype
    "reverse_polygons.reverse_polygon(injection_props.G)"
    "simple_polygon_2d"))
  (only_vertex_intersections_reverse_TCC2-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (only_vertex_intersections_reverse subtype
    "reverse_polygons.reverse_polygon(injection_props.G)"
    "simple_polygon_2d")))
 (only_vertex_intersections_reverse_TCC3 0
  (only_vertex_intersections_reverse_TCC3-2 nil 3874129019
   ("" (skeep) (("" (rewrite "reverse_polygon_is_simple") nil nil))
    nil)
   nil shostak
   (only_vertex_intersections_reverse subtype
    "reverse_polygons.reverse_polygon(injection_props.H)"
    "simple_polygon_2d"))
  (only_vertex_intersections_reverse_TCC3-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (only_vertex_intersections_reverse subtype
    "reverse_polygons.reverse_polygon(injection_props.H)"
    "simple_polygon_2d")))
 (only_vertex_intersections_reverse 0
  (only_vertex_intersections_reverse-1 nil 3874129019
   ("" (skeep)
    (("" (expand "only_vertex_intersections?")
      (("" (skeep + t)
        (("" (inst - "reverse_segment(s_1)")
          (("1" (lemma "reverse_segment_overlapping")
            (("1" (inst - "reverse_segment(s_1)" "s")
              (("1" (lemma "are_segments_overlapping_symm")
                (("1" (inst-cp - "s_1" "s")
                  (("1" (inst - "reverse_segment(s_1)" "s")
                    (("1" (lemma "reverse_segment_overlapping")
                      (("1" (inst - "s" "s_1")
                        (("1" (ground)
                          (("1" (hide-all-but (-2 1))
                            (("1" (grind-with-ext) nil nil)) nil)
                           ("2" (rewrite "reverse_reverse_segment")
                            (("2" (replace -2 2 :dir rl)
                              (("2"
                                (rewrite "reverse_reverse_segment")
                                nil
                                nil))
                              nil))
                            nil)
                           ("3" (skeep)
                            (("3" (inst?)
                              (("3"
                                (split -3)
                                (("1"
                                  (hide-all-but (-1 2))
                                  (("1" (grind) nil nil))
                                  nil)
                                 ("2"
                                  (rewrite "point_on_reverse_segment")
                                  nil
                                  nil)
                                 ("3"
                                  (rewrite "point_on_reverse_segment")
                                  nil
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("2" (rewrite "edge_of_rev_polygon_imp_edge_rev_seg") nil
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (seq_only_vertex_intersections?_TCC1 0
  (seq_only_vertex_intersections?_TCC1-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (seq_only_vertex_intersections? subtype "injection_props.i"
    "below[V`length]"))
  (seq_only_vertex_intersections?_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (seq_only_vertex_intersections? subtype "injection_props.i"
    "below[V`length]")))
 (seq_only_vertex_intersections?_TCC2 0
  (seq_only_vertex_intersections?_TCC2-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (seq_only_vertex_intersections? subtype
    "(number_fields.+)(injection_props.i, 1)" "below[V`length]"))
  (seq_only_vertex_intersections?_TCC2-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (seq_only_vertex_intersections? subtype
    "(number_fields.+)(injection_props.i, 1)" "below[V`length]")))
 (seq_only_vertex_intersections?_TCC3 0
  (seq_only_vertex_intersections?_TCC3-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (seq_only_vertex_intersections? subtype "injection_props.s"
    "segment_2d"))
  (seq_only_vertex_intersections?_TCC3-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (seq_only_vertex_intersections? subtype "injection_props.s"
    "segment_2d")))
 (only_vertex_int_seq_imp_polygon_TCC1 0
  (only_vertex_int_seq_imp_polygon_TCC1-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (only_vertex_int_seq_imp_polygon subtype
    "(number_fields.-)(injection_props.V`length, 2)" "nat"))
  (only_vertex_int_seq_imp_polygon_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (only_vertex_int_seq_imp_polygon subtype
    "(number_fields.-)(injection_props.V`length, 2)" "nat")))
 (only_vertex_int_seq_imp_polygon_TCC2 0
  (only_vertex_int_seq_imp_polygon_TCC2-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (only_vertex_int_seq_imp_polygon subtype
    "injection_props.G`vertices"
    "[below[(^[point_2d](V, (0, V`length - 2)))`length] -> point_2d]"))
  (only_vertex_int_seq_imp_polygon_TCC2-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (only_vertex_int_seq_imp_polygon subtype
    "injection_props.G`vertices"
    "[below[(^[point_2d](V, (0, V`length - 2)))`length] -> point_2d]")))
 (only_vertex_int_seq_imp_polygon_TCC3 0
  (only_vertex_int_seq_imp_polygon_TCC3-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (only_vertex_int_seq_imp_polygon subtype
    "(number_fields.-)(injection_props.V`length, 1)"
    "below[V`length]"))
  (only_vertex_int_seq_imp_polygon_TCC3-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (only_vertex_int_seq_imp_polygon subtype
    "(number_fields.-)(injection_props.V`length, 1)"
    "below[V`length]")))
 (only_vertex_int_seq_imp_polygon_TCC4 0
  (only_vertex_int_seq_imp_polygon_TCC4-2 nil 3874129019
   ("" (then (skeep* + t) (assert) (subtype-tcc)) nil nil) nil shostak
   (only_vertex_int_seq_imp_polygon subtype "0"
    "naturalnumbers.below(injection_props.G`num_vertices)"))
  (only_vertex_int_seq_imp_polygon_TCC4-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (only_vertex_int_seq_imp_polygon subtype "0"
    "naturalnumbers.below(injection_props.G`num_vertices)")))
 (only_vertex_int_seq_imp_polygon 0
  (only_vertex_int_seq_imp_polygon-1 nil 3874129019
   ("" (skeep)
    (("" (expand "only_vertex_intersections?")
      (("" (skeep + t)
        (("" (expand "edge_of_polygon?")
          (("" (skeep)
            (("" (expand "seq_only_vertex_intersections?")
              (("" (inst - "i")
                (("1" (expand "same_edge_or_vertex_intersection?")
                  (("1"
                    (case-replace
                     "(# p1 := V`seq(i), p2 := V`seq(1 + i) #) = s")
                    (("1" (hide -2 2)
                      (("1" (expand "edges_of_polygon")
                        (("1" (expand "next_index")
                          (("1" (lift-if)
                            (("1" (ground)
                              (("1"
                                (replace -5 :dir rl)
                                (("1"
                                  (replace -4 -2 :dir rl)
                                  (("1"
                                    (expand "^")
                                    (("1" (assert) nil nil))
                                    nil))
                                  nil))
                                nil)
                               ("2"
                                (replace -3 :dir rl)
                                (("2" (grind) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (assert) nil nil) ("3" (assert) nil nil))
                    nil))
                  nil)
                 ("2" (assert) nil nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (edges_included_imp_edge_sets_eq 0
  (edges_included_imp_edge_sets_eq-1 nil 3874129019
   ("" (skeep)
    ((""
      (case "exists (k: below(B`num_vertices)):
                                  forall (i: below(A`num_vertices)):
                                    A`vertices(i) = B`vertices(rem(B`num_vertices)(i+k))")
      (("1" (skeep)
        (("1" (case "A`num_vertices = B`num_vertices")
          (("1" (ground)
            (("1" (skeep + t)
              (("1" (expand "edge_of_polygon?" (-1 1))
                (("1" (skeep)
                  (("1" (inst + "rem(B`num_vertices)(i - k)")
                    (("1" (inst - "rem(B`num_vertices)(i - k)")
                      (("1"
                        (case-replace
                         "rem(B`num_vertices)(rem(B`num_vertices)(i - k) + k) = i")
                        (("1" (replace -2 :dir rl)
                          (("1" (expand "edges_of_polygon" +)
                            (("1" (assert)
                              (("1"
                                (inst
                                 -
                                 "edges_of_polygon(A)(rem(B`num_vertices)(i - k))")
                                (("1"
                                  (ground)
                                  (("1"
                                    (expand "edge_of_polygon?")
                                    (("1"
                                      (skeep - t)
                                      (("1"
                                        (typepred "B`vertices")
                                        (("1"
                                          (expand "uniq_vertex_list?")
                                          (("1"
                                            (expand
                                             "edges_of_polygon"
                                             -3)
                                            (("1"
                                              (flatten)
                                              (("1"
                                                (inst - "i" "i_1")
                                                (("1" (ground) nil nil)
                                                 ("2"
                                                  (ground)
                                                  nil
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (hide-all-but (-2 1))
                          (("2" (rewrite "rem_sum1")
                            (("2" (rewrite "rem_mod") nil nil)) nil))
                          nil))
                        nil))
                      nil)
                     ("2" (assert) nil nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("2" (hide 2)
            (("2" (typepred "k")
              (("2" (case "A`num_vertices > B`num_vertices")
                (("1" (inst-cp - "0")
                  (("1" (inst - "B`num_vertices")
                    (("1"
                      (equate "rem(B`num_vertices)(B`num_vertices + k)"
                       "k")
                      (("1" (assert)
                        (("1" (rewrite "rem_mod")
                          (("1" (typepred "A`vertices")
                            (("1" (expand "uniq_vertex_list?")
                              (("1"
                                (inst - "0" "B`num_vertices")
                                (("1" (ground) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil)
                       ("2" (hide-all-but (-2 1))
                        (("2" (rewrite "rem_sum1" :dir rl)
                          (("2" (rewrite "rem_self")
                            (("2" (assert)
                              (("2" (rewrite "rem_mod") nil nil)) nil))
                            nil))
                          nil))
                        nil))
                      nil)
                     ("2" (assert) nil nil))
                    nil)
                   ("2" (assert) nil nil))
                  nil)
                 ("2" (inst-cp - "0")
                  (("1" (inst - "A`num_vertices - 1")
                    (("1"
                      (inst -
                       "edges_of_polygon(A)(A`num_vertices - 1)")
                      (("1" (ground)
                        (("1" (expand "edge_of_polygon?" -1)
                          (("1" (skeep - t)
                            (("1" (expand "edges_of_polygon")
                              (("1"
                                (flatten)
                                (("1"
                                  (rewrite "rem_mod" -6)
                                  (("1"
                                    (expand "next_index" -3 2)
                                    (("1"
                                      (case
                                       "k = next_index(B, i) and i = rem(B`num_vertices)(A`num_vertices - 1 + k)")
                                      (("1"
                                        (flatten)
                                        (("1"
                                          (replace -2)
                                          (("1"
                                            (hide-all-but (-1 -6 +))
                                            (("1"
                                              (expand "next_index")
                                              (("1"
                                                (lift-if)
                                                (("1"
                                                  (ground)
                                                  (("1"
                                                    (rewrite "rem_mod")
                                                    (("1"
                                                      (assert)
                                                      nil
                                                      nil))
                                                    nil)
                                                   ("2"
                                                    (case
                                                     "A`num_vertices - 1 < B`num_vertices - 1")
                                                    (("1"
                                                      (name-replace
                                                       "m"
                                                       "A`num_vertices - 1")
                                                      (("1"
                                                        (case
                                                         "m+k < B`num_vertices")
                                                        (("1"
                                                          (rewrite
                                                           "rem_mod"
                                                           -)
                                                          (("1"
                                                            (assert)
                                                            (("1"
                                                              (expand
                                                               "m")
                                                              (("1"
                                                                (assert)
                                                                nil
                                                                nil))
                                                              nil))
                                                            nil)
                                                           ("2"
                                                            (expand
                                                             "m")
                                                            (("2"
                                                              (assert)
                                                              nil
                                                              nil))
                                                            nil))
                                                          nil)
                                                         ("2"
                                                          (lemma
                                                           "rem_def")
                                                          (("2"
                                                            (inst
                                                             -
                                                             "B`num_vertices"
                                                             "m+k"
                                                             _)
                                                            (("2"
                                                              (inst
                                                               -
                                                               "m+k-B`num_vertices")
                                                              (("1"
                                                                (flatten)
                                                                (("1"
                                                                  (split
                                                                   -2)
                                                                  (("1"
                                                                    (assert)
                                                                    nil
                                                                    nil)
                                                                   ("2"
                                                                    (inst
                                                                     +
                                                                     "1")
                                                                    (("2"
                                                                      (assert)
                                                                      nil
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil)
                                                               ("2"
                                                                (ground)
                                                                nil
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("2"
                                                      (assert)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (typepred "B`vertices")
                                        (("2"
                                          (expand "uniq_vertex_list?")
                                          (("2"
                                            (ground)
                                            (("1"
                                              (inst
                                               -
                                               "k"
                                               "next_index(B, i)")
                                              (("1" (ground) nil nil))
                                              nil)
                                             ("2"
                                              (inst
                                               -
                                               "i"
                                               "rem(B`num_vertices)(A`num_vertices - 1 + k)")
                                              (("2" (ground) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (assert) nil nil))
                        nil)
                       ("2" (assert) nil nil))
                      nil)
                     ("2" (assert) nil nil))
                    nil)
                   ("2" (assert) nil nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (hide 2)
        (("2" (inst-cp - "edges_of_polygon(A)(0)")
          (("1" (ground)
            (("1" (expand "edge_of_polygon?" -1)
              (("1" (skeep)
                (("1" (inst + "i")
                  (("1" (induct "i_1")
                    (("1" (ground)
                      (("1" (rewrite "rem_mod")
                        (("1" (expand "edges_of_polygon")
                          (("1" (ground) nil nil)) nil))
                        nil))
                      nil)
                     ("2" (skeep)
                      (("2" (inst - "edges_of_polygon(A)(jb)")
                        (("2" (ground)
                          (("2" (expand "edge_of_polygon?")
                            (("2" (skeep - t)
                              (("2"
                                (expand "edges_of_polygon" -2)
                                (("2"
                                  (flatten)
                                  (("2"
                                    (typepred "B`vertices")
                                    (("2"
                                      (expand "uniq_vertex_list?")
                                      (("2"
                                        (inst
                                         -
                                         "i!1"
                                         "rem(B`num_vertices)(i + jb)")
                                        (("1" (ground) nil nil)
                                         ("2"
                                          (ground)
                                          (("2"
                                            (replace -1 -4 :dir rl)
                                            (("2"
                                              (expand "next_index")
                                              (("2"
                                                (replace -4 :dir rl)
                                                (("2"
                                                  (hide-all-but
                                                   (-2 -5 1))
                                                  (("2"
                                                    (lift-if)
                                                    (("2"
                                                      (lemma
                                                       "rem_add_one")
                                                      (("2"
                                                        (inst
                                                         -
                                                         "B`num_vertices"
                                                         "i+jb")
                                                        (("2"
                                                          (ground)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil)
           ("2" (assert) nil nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (edges_included_imp_vertex_sets_eq 0
  (edges_included_imp_vertex_sets_eq-1 nil 3874129019
   ("" (skeep)
    (("" (skeep)
      (("" (inst - "edges_of_polygon(A)(i)")
        (("" (ground)
          (("" (expand "edge_of_polygon?")
            (("" (skeep)
              (("" (expand "edges_of_polygon")
                (("" (flatten)
                  (("" (inst + "i_1") (("" (assert) nil nil)) nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (edges_included_imp_rotated_vertices_TCC1 0
  (edges_included_imp_rotated_vertices_TCC1-2 nil 3874129019
   ("" (skeep*)
    (("" (lemma "edges_included_imp_edge_sets_eq")
      (("" (inst - "A" "B") (("" (ground) nil nil)) nil)) nil))
    nil)
   nil shostak
   (edges_included_imp_rotated_vertices subtype
    "vertex_list.rotated_vertices(injection_props.B`num_vertices)(injection_props.B`vertices, injection_props.n)"
    "[naturalnumbers.below(injection_props.A`num_vertices) -> point_2d]"))
  (edges_included_imp_rotated_vertices_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (edges_included_imp_rotated_vertices subtype
    "vertex_list.rotated_vertices(injection_props.B`num_vertices)(injection_props.B`vertices, injection_props.n)"
    "[naturalnumbers.below(injection_props.A`num_vertices) -> point_2d]")))
 (edges_included_imp_rotated_vertices 0
  (edges_included_imp_rotated_vertices-1 nil 3874129019
   ("" (skeep)
    (("" (inst-cp - "edges_of_polygon(A)(0)")
      (("1" (ground)
        (("1" (expand "edge_of_polygon?" -1)
          (("1" (skeep)
            (("1" (inst + "i")
              (("1" (lemma "edges_included_imp_edge_sets_eq")
                (("1" (inst - "A" "B")
                  (("1" (ground)
                    (("1" (hide -2)
                      (("1"
                        (case "forall (n: upto(A`num_vertices), k: below(n)):
           A`vertices(k) = rotated_vertices(B`num_vertices)(B`vertices, i)(k)")
                        (("1" (apply-extensionality :hide? t)
                          (("1" (inst - "A`num_vertices" x!1) nil nil))
                          nil)
                         ("2" (hide 2)
                          (("2" (induct "n")
                            (("1" (grind) nil nil)
                             ("2" (skeep*)
                              (("2"
                                (typepred "k")
                                (("2"
                                  (expand "rotated_vertices")
                                  (("2"
                                    (case "k = jt")
                                    (("1"
                                      (inst
                                       -
                                       "rem(B`num_vertices)(k - 1)")
                                      (("1"
                                        (case-replace "k = 0")
                                        (("1"
                                          (rewrite "rem_minus_one")
                                          (("1"
                                            (inst
                                             -
                                             "edges_of_polygon(A)(B`num_vertices - 1)")
                                            (("1"
                                              (ground)
                                              (("1"
                                                (expand
                                                 "edge_of_polygon?")
                                                (("1"
                                                  (skeep)
                                                  (("1"
                                                    (expand
                                                     "edges_of_polygon"
                                                     -1)
                                                    (("1"
                                                      (flatten)
                                                      (("1"
                                                        (expand
                                                         "next_index"
                                                         -2
                                                         2)
                                                        (("1"
                                                          (rewrite
                                                           "rem_mod"
                                                           1)
                                                          (("1"
                                                            (case
                                                             "i = next_index(B, i!1)")
                                                            (("1"
                                                              (assert)
                                                              nil
                                                              nil)
                                                             ("2"
                                                              (typepred
                                                               "B`vertices")
                                                              (("2"
                                                                (expand
                                                                 "uniq_vertex_list?")
                                                                (("2"
                                                                  (inst
                                                                   -
                                                                   "i!1"
                                                                   "rem(B`num_vertices)(B`num_vertices - 1 + i)")
                                                                  (("1"
                                                                    (ground)
                                                                    nil
                                                                    nil)
                                                                   ("2"
                                                                    (flatten)
                                                                    (("2"
                                                                      (replace
                                                                       -1
                                                                       1
                                                                       :dir
                                                                       rl)
                                                                      (("2"
                                                                        (hide-all-but
                                                                         1)
                                                                        (("2"
                                                                          (grind)
                                                                          (("1"
                                                                            (lemma
                                                                             "rem_sum1")
                                                                            (("1"
                                                                              (inst
                                                                               -1
                                                                               "B`num_vertices"
                                                                               "B`num_vertices"
                                                                               "i - 1")
                                                                              (("1"
                                                                                (rewrite
                                                                                 "rem_self")
                                                                                (("1"
                                                                                  (rewrite
                                                                                   "rem_mod")
                                                                                  (("1"
                                                                                    (assert)
                                                                                    nil
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil)
                                                                           ("2"
                                                                            (lemma
                                                                             "rem_sum1")
                                                                            (("2"
                                                                              (inst
                                                                               -1
                                                                               "B`num_vertices"
                                                                               "B`num_vertices"
                                                                               "i - 1")
                                                                              (("2"
                                                                                (rewrite
                                                                                 "rem_self")
                                                                                (("2"
                                                                                  (case-replace
                                                                                   "i = 0")
                                                                                  (("1"
                                                                                    (rewrite
                                                                                     "rem_mod"
                                                                                     1)
                                                                                    nil
                                                                                    nil)
                                                                                   ("2"
                                                                                    (rewrite
                                                                                     "rem_mod")
                                                                                    (("2"
                                                                                      (assert)
                                                                                      nil
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil)
                                         ("2"
                                          (rewrite "rem_mod")
                                          (("2"
                                            (inst
                                             -
                                             "edges_of_polygon(A)(k - 1)")
                                            (("1"
                                              (ground)
                                              (("1"
                                                (expand
                                                 "edge_of_polygon?")
                                                (("1"
                                                  (skeep)
                                                  (("1"
                                                    (expand
                                                     "edges_of_polygon"
                                                     -1)
                                                    (("1"
                                                      (flatten)
                                                      (("1"
                                                        (expand
                                                         "next_index"
                                                         -2
                                                         2)
                                                        (("1"
                                                          (case
                                                           "i!1 = rem(B`num_vertices)(i - 1 + k)")
                                                          (("1"
                                                            (replace
                                                             -1
                                                             -3)
                                                            (("1"
                                                              (equate
                                                               "next_index(B, rem(B`num_vertices)(i - 1 + k))"
                                                               "rem(B`num_vertices)(i + k)")
                                                              (("1"
                                                                (assert)
                                                                nil
                                                                nil)
                                                               ("2"
                                                                (hide-all-but
                                                                 1)
                                                                (("2"
                                                                  (lemma
                                                                   "rem_add_one")
                                                                  (("2"
                                                                    (inst
                                                                     -
                                                                     "B`num_vertices"
                                                                     "i - 1 + k")
                                                                    (("2"
                                                                      (assert)
                                                                      (("2"
                                                                        (grind)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil)
                                                           ("2"
                                                            (typepred
                                                             "B`vertices")
                                                            (("2"
                                                              (expand
                                                               "uniq_vertex_list?")
                                                              (("2"
                                                                (inst
                                                                 -
                                                                 "i!1"
                                                                 "rem(B`num_vertices)(i - 1 + k)")
                                                                (("1"
                                                                  (ground)
                                                                  nil
                                                                  nil)
                                                                 ("2"
                                                                  (ground)
                                                                  nil
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil)
                                               ("2" (ground) nil nil))
                                              nil)
                                             ("2" (ground) nil nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2"
                                        (rewrite "rem_mod" 1)
                                        (("1" (assert) nil nil)
                                         ("2"
                                          (equate "k" "0" (assert))
                                          (("2"
                                            (rewrite "rem_mod" 3)
                                            (("2"
                                              (expand
                                               "edges_of_polygon")
                                              (("2" (ground) nil nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (inst - "k")
                                      (("1" (assert) nil nil)
                                       ("2" (assert) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil)
       ("2" (assert) nil nil))
      nil))
    nil)
   nil shostak))
 (edges_included_imp_topleft_eq 0
  (edges_included_imp_topleft_eq-1 nil 3874129019
   ("" (skeep)
    (("" (use "edges_included_imp_rotated_vertices")
      (("" (ground)
        (("" (skeep)
          (("" (case "leftmost_vertex_val(A) = leftmost_vertex_val(B)")
            (("1" (case "leftmost_vertices(A) = leftmost_vertices(B)")
              (("1" (typepred "topleft_vertex_idx(A)")
                (("1" (typepred "topleft_vertex_idx(B)")
                  (("1" (expand "topleft_vertex_val")
                    (("1" (apply-extensionality :hide? t)
                      (("1"
                        (case "{y: real | EXISTS (v: (leftmost_vertices(B))): y = v`y} =
  {y: real | EXISTS (v: (leftmost_vertices(A))): y = v`y}")
                        (("1" (assert) nil nil)
                         ("2" (apply-extensionality :hide? t)
                          (("2" (iff)
                            (("2" (ground)
                              (("1"
                                (skeep - t)
                                (("1" (inst?) nil nil))
                                nil)
                               ("2"
                                (skeep - t)
                                (("2" (inst?) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil)
               ("2" (apply-extensionality :hide? t)
                (("2" (expand "leftmost_vertices")
                  (("2" (iff)
                    (("2" (ground)
                      (("1" (skeep - t)
                        (("1" (expand "rotated_vertices")
                          (("1" (replace -5 -3)
                            (("1" (assert) (("1" (inst?) nil nil))
                              nil))
                            nil))
                          nil))
                        nil)
                       ("2" (skeep)
                        (("2" (expand "rotated_vertices")
                          (("2" (inst + "rem(B`num_vertices)(i - n)")
                            (("1" (assert)
                              (("1"
                                (replace -4 1)
                                (("1"
                                  (assert)
                                  (("1"
                                    (rewrite "rem_sum1")
                                    (("1" (rewrite "rem_mod") nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("2"
                              (lemma "edges_included_imp_edge_sets_eq")
                              (("2"
                                (inst - "A" "B")
                                (("2" (ground) nil nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (expand "leftmost_vertex_val")
              (("2"
                (case "{r: real |
              EXISTS (i: below(A`num_vertices)): r = A`vertices(i)`x} =
  {r: real |
              EXISTS (i: below(B`num_vertices)): r = B`vertices(i)`x}")
                (("1" (assert) nil nil)
                 ("2" (hide 2 3)
                  (("2" (apply-extensionality :hide? t)
                    (("2" (lemma "edges_included_imp_edge_sets_eq")
                      (("2" (inst - "A" "B")
                        (("2" (ground)
                          (("2" (hide -2)
                            (("2" (iff)
                              (("2"
                                (expand "rotated_vertices")
                                (("2"
                                  (ground)
                                  (("1"
                                    (skeep)
                                    (("1"
                                      (replace -3 -1)
                                      (("1"
                                        (assert)
                                        (("1" (inst?) nil nil))
                                        nil))
                                      nil))
                                    nil)
                                   ("2"
                                    (skeep)
                                    (("2"
                                      (inst
                                       +
                                       "rem(B`num_vertices)(i - n)")
                                      (("1"
                                        (replace -3 1)
                                        (("1"
                                          (assert)
                                          (("1"
                                            (rewrite "rem_sum1")
                                            (("1"
                                              (rewrite "rem_mod")
                                              nil
                                              nil))
                                            nil))
                                          nil))
                                        nil)
                                       ("2" (assert) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (edges_included_imp_ccw_eqv 0
  (edges_included_imp_ccw_eqv-1 nil 3874129019
   ("" (skeep)
    (("" (lemma "edges_included_imp_edge_sets_eq")
      (("" (inst - "A" "B")
        (("" (split -1)
          (("1" (flatten)
            (("1" (hide -2)
              (("1" (use "edges_included_imp_topleft_eq")
                (("1" (split -1)
                  (("1" (lemma "ccw_eqv_cross_topleft_edges_neg")
                    (("1" (inst - "A")
                      (("1" (skoletin*)
                        (("1" (replace -1 :hide? t)
                          (("1"
                            (lemma "ccw_eqv_cross_topleft_edges_neg")
                            (("1" (inst - "B")
                              (("1"
                                (skoletin*)
                                (("1"
                                  (replace -1 :hide? t)
                                  (("1"
                                    (expand "edges_of_polygon")
                                    (("1"
                                      (replace -6 :dir rl)
                                      (("1"
                                        (replace -3 :dir rl)
                                        (("1"
                                          (use
                                           "edges_included_imp_rotated_vertices")
                                          (("1"
                                            (split -1)
                                            (("1"
                                              (skeep)
                                              (("1"
                                                (assert)
                                                (("1"
                                                  (expand
                                                   "rotated_vertices")
                                                  (("1"
                                                    (replace -1)
                                                    (("1"
                                                      (assert)
                                                      (("1"
                                                        (case-replace
                                                         "i_1 = rem(B`num_vertices)((i) + n)")
                                                        (("1"
                                                          (case-replace
                                                           "next_index(B, rem(B`num_vertices)((i) + n)) =
           rem(B`num_vertices)(next_index(A, i) + n)")
                                                          (("1"
                                                            (case-replace
                                                             "prev_index(B, rem(B`num_vertices)((i) + n)) =
             rem(B`num_vertices)(prev_index(A, i) + n)")
                                                            (("1"
                                                              (replace
                                                               -5
                                                               1)
                                                              (("1"
                                                                (replace
                                                                 -6
                                                                 1)
                                                                (("1"
                                                                  (assert)
                                                                  (("1"
                                                                    (replace
                                                                     -8
                                                                     1)
                                                                    (("1"
                                                                      (replace
                                                                       -9
                                                                       1)
                                                                      (("1"
                                                                        (assert)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil)
                                                             ("2"
                                                              (equate
                                                               "prev_index(A, i)"
                                                               "prev_index(B, i)")
                                                              (("1"
                                                                (hide-all-but
                                                                 1)
                                                                (("1"
                                                                  (grind)
                                                                  (("1"
                                                                    (use
                                                                     "rem_sum2")
                                                                    (("1"
                                                                      (replace
                                                                       -2)
                                                                      (("1"
                                                                        (rewrite
                                                                         "rem_mod")
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil)
                                                                   ("2"
                                                                    (lemma
                                                                     "rem_sum1")
                                                                    (("2"
                                                                      (inst
                                                                       -
                                                                       "B`num_vertices"
                                                                       "i + n"
                                                                       "-1")
                                                                      (("2"
                                                                        (replace
                                                                         -2)
                                                                        (("2"
                                                                          (assert)
                                                                          (("2"
                                                                            (rewrite
                                                                             "rem_minus_one")
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil)
                                                                   ("3"
                                                                    (lemma
                                                                     "rem_add_one")
                                                                    (("3"
                                                                      (inst
                                                                       -
                                                                       "B`num_vertices"
                                                                       "B`num_vertices - 1 + n")
                                                                      (("3"
                                                                        (ground)
                                                                        (("1"
                                                                          (rewrite
                                                                           "rem_sum1"
                                                                           :dir
                                                                           rl)
                                                                          (("1"
                                                                            (rewrite
                                                                             "rem_self")
                                                                            (("1"
                                                                              (assert)
                                                                              nil
                                                                              nil))
                                                                            nil))
                                                                          nil)
                                                                         ("2"
                                                                          (rewrite
                                                                           "rem_sum1"
                                                                           -2
                                                                           :dir
                                                                           rl)
                                                                          (("2"
                                                                            (rewrite
                                                                             "rem_self")
                                                                            (("2"
                                                                              (assert)
                                                                              nil
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil)
                                                                   ("4"
                                                                    (lemma
                                                                     "rem_add_one")
                                                                    (("4"
                                                                      (inst
                                                                       -
                                                                       "B`num_vertices"
                                                                       "i - 1 + n")
                                                                      (("4"
                                                                        (ground)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil)
                                                               ("2"
                                                                (hide-all-but
                                                                 (-10
                                                                  1))
                                                                (("2"
                                                                  (grind)
                                                                  nil
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil)
                                                           ("2"
                                                            (equate
                                                             "next_index(A, i)"
                                                             "next_index(B, i)")
                                                            (("1"
                                                              (hide-all-but
                                                               1)
                                                              (("1"
                                                                (grind)
                                                                (("1"
                                                                  (lemma
                                                                   "rem_add_one")
                                                                  (("1"
                                                                    (inst
                                                                     -
                                                                     "B`num_vertices"
                                                                     "B`num_vertices - 1 + n")
                                                                    (("1"
                                                                      (ground)
                                                                      (("1"
                                                                        (rewrite
                                                                         "rem_sum1"
                                                                         -2
                                                                         :dir
                                                                         rl)
                                                                        (("1"
                                                                          (rewrite
                                                                           "rem_self")
                                                                          (("1"
                                                                            (assert)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil)
                                                                 ("2"
                                                                  (lemma
                                                                   "rem_sum1")
                                                                  (("2"
                                                                    (inst
                                                                     -
                                                                     "B`num_vertices"
                                                                     "i + n"
                                                                     "1")
                                                                    (("2"
                                                                      (replace
                                                                       -2)
                                                                      (("2"
                                                                        (assert)
                                                                        (("2"
                                                                          (rewrite
                                                                           "rem_self")
                                                                          nil
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil)
                                                                 ("3"
                                                                  (lemma
                                                                   "rem_add_one")
                                                                  (("3"
                                                                    (inst
                                                                     -
                                                                     "B`num_vertices"
                                                                     "B`num_vertices - 1 + n")
                                                                    (("3"
                                                                      (ground)
                                                                      (("3"
                                                                        (rewrite
                                                                         "rem_sum1"
                                                                         :dir
                                                                         rl)
                                                                        (("3"
                                                                          (rewrite
                                                                           "rem_self")
                                                                          (("3"
                                                                            (assert)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil)
                                                                 ("4"
                                                                  (lemma
                                                                   "rem_add_one")
                                                                  (("4"
                                                                    (inst
                                                                     -
                                                                     "B`num_vertices"
                                                                     "i + n")
                                                                    (("4"
                                                                      (ground)
                                                                      nil
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil)
                                                             ("2"
                                                              (hide-all-but
                                                               (-9 1))
                                                              (("2"
                                                                (grind)
                                                                nil
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil)
                                                         ("2"
                                                          (typepred
                                                           "B`vertices")
                                                          (("2"
                                                            (expand
                                                             "uniq_vertex_list?")
                                                            (("2"
                                                              (inst
                                                               -
                                                               "i_1"
                                                               "rem(B`num_vertices)((i) + n)")
                                                              (("1"
                                                                (ground)
                                                                nil
                                                                nil)
                                                               ("2"
                                                                (ground)
                                                                nil
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil)
                                             ("2" (propax) nil nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (propax) nil nil))
                  nil))
                nil))
              nil))
            nil)
           ("2" (propax) nil nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (outer_polygon_has_pt_left_of_inner_perim 0
  (outer_polygon_has_pt_left_of_inner_perim-1 nil 3874129019
   ("" (auto-rewrite "sets.member")
    (("" (skeep)
      (("" (lemma "leftmost_vtx_val_le_any_perim_point")
        (("" (inst + "A`vertices(topleft_vertex_idx(A))")
          (("" (ground)
            (("1" (expand "vertex?") (("1" (inst? +) nil nil)) nil)
             ("2" (skeep)
              (("2" (inst?)
                (("2" (assert)
                  (("2" (inst-cp - "A`vertices(topleft_vertex_idx(A))")
                    (("2" (ground)
                      (("1"
                        (case "point_in_polygon?(B`vertices(topleft_vertex_idx(B)), A)")
                        (("1" (lemma "point_in_polygon_conds_equiv")
                          (("1"
                            (inst - "B`vertices(topleft_vertex_idx(B))"
                             "(# x := -1, y := 0 #)" "A")
                            (("1" (replace -1 :hide? t)
                              (("1"
                                (expand "point_in_polygon_arb?")
                                (("1"
                                  (ground)
                                  (("1"
                                    (use "nonempty_card[point_2d]")
                                    (("1"
                                      (expand "odd?")
                                      (("1"
                                        (skeep)
                                        (("1"
                                          (replace -3)
                                          (("1"
                                            (ground)
                                            (("1"
                                              (hide -2 -3)
                                              (("1"
                                                (expand "nonempty?")
                                                (("1"
                                                  (expand "empty?")
                                                  (("1"
                                                    (skeep)
                                                    (("1"
                                                      (expand
                                                       "arb_crossing_set")
                                                      (("1"
                                                        (assert)
                                                        (("1"
                                                          (flatten)
                                                          (("1"
                                                            (case
                                                             "point_on_polygon_perimeter?(A)(x_1)")
                                                            (("1"
                                                              (lemma
                                                               "leftmost_vtx_val_le_any_perim_point")
                                                              (("1"
                                                                (inst
                                                                 -
                                                                 "A"
                                                                 "x_1")
                                                                (("1"
                                                                  (use
                                                                   "leftmost_is_topleft_x")
                                                                  (("1"
                                                                    (assert)
                                                                    (("1"
                                                                      (expand
                                                                       "point_on_arb_ray?")
                                                                      (("1"
                                                                        (skeep)
                                                                        (("1"
                                                                          (replace
                                                                           -4
                                                                           -2)
                                                                          (("1"
                                                                            (expand
                                                                             "+"
                                                                             -2)
                                                                            (("1"
                                                                              (expand
                                                                               "*"
                                                                               -2)
                                                                              (("1"
                                                                                (lemma
                                                                                 "leftmost_is_topleft_x")
                                                                                (("1"
                                                                                  (inst
                                                                                   -
                                                                                   "B")
                                                                                  (("1"
                                                                                    (case
                                                                                     "leftmost_vertex_val(A) <= B`vertices(topleft_vertex_idx(B))`x")
                                                                                    (("1"
                                                                                      (assert)
                                                                                      (("1"
                                                                                        (replace
                                                                                         -3
                                                                                         :dir
                                                                                         rl)
                                                                                        (("1"
                                                                                          (case
                                                                                           "leftmost_vertex_val(A) < B`vertices(topleft_vertex_idx(B))`x")
                                                                                          (("1"
                                                                                            (assert)
                                                                                            nil
                                                                                            nil)
                                                                                           ("2"
                                                                                            (case-replace
                                                                                             "d=0")
                                                                                            (("1"
                                                                                              (assert)
                                                                                              nil
                                                                                              nil)
                                                                                             ("2"
                                                                                              (assert)
                                                                                              nil
                                                                                              nil))
                                                                                            nil))
                                                                                          nil))
                                                                                        nil))
                                                                                      nil)
                                                                                     ("2"
                                                                                      (assert)
                                                                                      nil
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil)
                                                             ("2"
                                                              (expand
                                                               "counted_crossing_arb?")
                                                              (("2"
                                                                (ground)
                                                                (("1"
                                                                  (use
                                                                   "vertex_on_perimeter")
                                                                  (("1"
                                                                    (assert)
                                                                    nil
                                                                    nil))
                                                                  nil)
                                                                 ("2"
                                                                  (skeep)
                                                                  (("2"
                                                                    (expand
                                                                     "point_on_polygon_perimeter?")
                                                                    (("2"
                                                                      (inst
                                                                       +
                                                                       "s")
                                                                      nil
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (hide-all-but 1)
                              (("2" (grind) nil nil)) nil))
                            nil))
                          nil)
                         ("2"
                          (use "A_perim_outside_imp_B_perim_inside")
                          (("2" (ground)
                            (("2" (inst?)
                              (("2"
                                (ground)
                                (("2"
                                  (expand
                                   "point_on_polygon_perimeter?")
                                  (("2"
                                    (inst
                                     +
                                     "edges_of_polygon(B)(topleft_vertex_idx(B))")
                                    (("2"
                                      (hide-all-but 1)
                                      (("2"
                                        (expand "edges_of_polygon")
                                        (("2"
                                          (expand "point_on_segment?")
                                          (("2"
                                            (inst + "0")
                                            (("2" (assert) nil nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil)
                       ("2" (use "vertex_on_perimeter")
                        (("2" (assert)
                          (("2" (expand "vertex?")
                            (("2" (inst?) nil nil)) nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (inject_vertices_into_polygon_comm_TCC1 0
  (inject_vertices_into_polygon_comm_TCC1-2 nil 3874129019
   ("" (skeep) (("" (rewrite "merge_pre_condition_symmetric") nil nil))
    nil)
   nil shostak
   (inject_vertices_into_polygon_comm subtype "injection_props.A"
    "(injection_props.merge_pre_condition(injection_props.B))"))
  (inject_vertices_into_polygon_comm_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (inject_vertices_into_polygon_comm subtype "injection_props.A"
    "(injection_props.merge_pre_condition(injection_props.B))")))
 (inject_vertices_into_polygon_comm 0
  (inject_vertices_into_polygon_comm-1 nil 3874129019
   ("" (skeep*)
    (("" (use "merge_pre_condition_symmetric")
      (("" (typepred "inject_vertices_into_polygon(A, B)`1")
        (("" (typepred "inject_vertices_into_polygon(A, B)`2")
          (("" (replace -7 :dir rl)
            (("" (assert)
              (("" (typepred "inject_vertices_into_polygon(B, A)`1")
                (("" (typepred "inject_vertices_into_polygon(B, A)`2")
                  (("" (apply-extensionality 1 :hide? t)
                    (("1" (expand "inject_post_condition?")
                      (("1" (assert) nil nil)) nil)
                     ("2" (expand "inject_post_condition?")
                      (("2" (assert) nil nil)) nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (intersections_only_at_vertices 0
  (intersections_only_at_vertices-1 nil 3874129019
   ("" (skeep* + t)
    (("" (lemma "A_vertex_is_Am_vertex")
      (("" (inst-cp -1 "A" "B" "Am" "Bm" "p")
        (("" (use "merge_pre_condition_symmetric")
          (("" (inst - "B" "A" "Bm" "Am" "p")
            (("1" (assert)
              (("1" (assert)
                (("1" (invoke (typepred "%1`1") (! -9 r))
                  (("1" (invoke (typepred "%1`2") (! -11 r))
                    (("1" (expand "inject_post_condition?")
                      (("1" (expand "vertex?")
                        (("1" (replace -13 :dir rl)
                          (("1" (assert)
                            (("1" (replace -2 +)
                              (("1"
                                (replace -4 +)
                                (("1"
                                  (assert)
                                  (("1"
                                    (expand "edge_of_polygon?")
                                    (("1"
                                      (skeep*)
                                      (("1"
                                        (lemma
                                         "injected_vertex_in_injected_edge")
                                        (("1"
                                          (split 2)
                                          (("1"
                                            (inst
                                             -
                                             "p"
                                             "A"
                                             "B"
                                             "A`num_vertices")
                                            (("1"
                                              (assert)
                                              (("1"
                                                (flatten)
                                                (("1"
                                                  (hide -1)
                                                  (("1"
                                                    (split -1)
                                                    (("1"
                                                      (skeep)
                                                      (("1"
                                                        (inst + "i!2")
                                                        (("1"
                                                          (replace
                                                           -6
                                                           +)
                                                          (("1"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("2"
                                                      (inst + "i")
                                                      (("2"
                                                        (assert)
                                                        (("2"
                                                          (expand
                                                           "member")
                                                          (("2"
                                                            (expand
                                                             "injected_edge")
                                                            (("2"
                                                              (split 1)
                                                              (("1"
                                                                (flatten)
                                                                (("1"
                                                                  (split
                                                                   -8)
                                                                  (("1"
                                                                    (skeep)
                                                                    (("1"
                                                                      (inst
                                                                       +
                                                                       "i!2")
                                                                      (("1"
                                                                        (assert)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil)
                                                                   ("2"
                                                                    (expand
                                                                     "edges_of_polygon")
                                                                    (("2"
                                                                      (inst?
                                                                       1)
                                                                      (("2"
                                                                        (assert)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil)
                                                               ("2"
                                                                (flatten)
                                                                (("2"
                                                                  (inst
                                                                   2
                                                                   "e")
                                                                  (("2"
                                                                    (ground)
                                                                    nil
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (inst
                                             -
                                             "p"
                                             "B"
                                             "A"
                                             "B`num_vertices")
                                            (("2"
                                              (assert)
                                              (("2"
                                                (flatten)
                                                (("2"
                                                  (hide -1)
                                                  (("2"
                                                    (split -1)
                                                    (("1"
                                                      (skeep)
                                                      (("1"
                                                        (inst + "i!2")
                                                        (("1"
                                                          (replace
                                                           -4
                                                           +)
                                                          (("1"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("2"
                                                      (inst 1 "i!1")
                                                      (("2"
                                                        (assert)
                                                        (("2"
                                                          (expand
                                                           "member")
                                                          (("2"
                                                            (expand
                                                             "injected_edge")
                                                            (("2"
                                                              (split 1)
                                                              (("1"
                                                                (flatten)
                                                                (("1"
                                                                  (split
                                                                   -7)
                                                                  (("1"
                                                                    (skeep)
                                                                    (("1"
                                                                      (inst?
                                                                       +)
                                                                      (("1"
                                                                        (assert)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil)
                                                                   ("2"
                                                                    (typepred
                                                                     "inject_vertices_into_polygon(B, A)`1")
                                                                    (("2"
                                                                      (typepred
                                                                       "inject_vertices_into_polygon(B, A)`2")
                                                                      (("2"
                                                                        (expand
                                                                         "inject_post_condition?")
                                                                        (("2"
                                                                          (replace
                                                                           -7
                                                                           :dir
                                                                           rl)
                                                                          (("2"
                                                                            (replace
                                                                             -9
                                                                             :dir
                                                                             rl)
                                                                            (("2"
                                                                              (assert)
                                                                              nil
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil)
                                                                   ("3"
                                                                    (expand
                                                                     "edges_of_polygon")
                                                                    (("3"
                                                                      (inst?
                                                                       1)
                                                                      (("3"
                                                                        (assert)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil)
                                                               ("2"
                                                                (flatten)
                                                                (("2"
                                                                  (inst
                                                                   2
                                                                   "s")
                                                                  (("2"
                                                                    (assert)
                                                                    (("2"
                                                                      (split
                                                                       2)
                                                                      (("1"
                                                                        (flatten)
                                                                        (("1"
                                                                          (expand
                                                                           "are_segments_overlapping?")
                                                                          (("1"
                                                                            (skeep)
                                                                            (("1"
                                                                              (inst
                                                                               6
                                                                               "p1"
                                                                               "p2")
                                                                              (("1"
                                                                                (assert)
                                                                                nil
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil)
                                                                       ("2"
                                                                        (propax)
                                                                        nil
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (assert) nil nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_intersections_only_at_endpoints 0
  (injected_intersections_only_at_endpoints-1 nil 3874129019
   ("" (skeep* + t)
    (("" (use "inject_vertices_into_polygon_comm")
      (("" (use "merge_pre_condition_symmetric")
        (("" (assert)
          (("" (assert)
            (("" (lemma "injected_edge_subsegment_of_original")
              (("" (inst-cp - "A" "B" "s")
                (("" (inst - "B" "A" "e")
                  (("" (assert)
                    (("" (split -1)
                      (("1" (split -2)
                        (("1" (skeep* - t)
                          (("1" (lemma "point_on_subsegment")
                            (("1"
                              (inst-cp - "p" "s"
                               "edges_of_polygon(A)(j)")
                              (("1"
                                (inst
                                 -
                                 "p"
                                 "e"
                                 "edges_of_polygon(B)(j!1)")
                                (("1"
                                  (assert)
                                  (("1"
                                    (lemma
                                     "intersections_only_at_vertices")
                                    (("1"
                                      (inst
                                       -
                                       "A"
                                       "B"
                                       "Am"
                                       "Bm"
                                       "edges_of_polygon(A)(j)"
                                       "edges_of_polygon(B)(j!1)"
                                       "p")
                                      (("1"
                                        (assert)
                                        (("1"
                                          (split -1)
                                          (("1"
                                            (flatten)
                                            (("1"
                                              (expand "vertex?")
                                              (("1"
                                                (expand
                                                 "edge_of_polygon?")
                                                (("1"
                                                  (skeep* - t)
                                                  (("1"
                                                    (expand
                                                     "segment_endpoint?")
                                                    (("1"
                                                      (ground)
                                                      (("1"
                                                        (case-replace
                                                         "i!2 = i")
                                                        (("1"
                                                          (expand
                                                           "edges_of_polygon"
                                                           -22)
                                                          (("1"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil)
                                                         ("2"
                                                          (case
                                                           "i < i!2")
                                                          (("1"
                                                            (lemma
                                                             "points_on_distinct_edges_differ")
                                                            (("1"
                                                              (inst
                                                               -
                                                               "p"
                                                               "Am"
                                                               "i"
                                                               "i!2")
                                                              (("1"
                                                                (assert)
                                                                (("1"
                                                                  (replace
                                                                   -7
                                                                   -1
                                                                   :dir
                                                                   rl)
                                                                  (("1"
                                                                    (assert)
                                                                    (("1"
                                                                      (flatten)
                                                                      (("1"
                                                                        (expand
                                                                         "edges_of_polygon"
                                                                         -2)
                                                                        (("1"
                                                                          (use
                                                                           "vertex_neq_next")
                                                                          (("1"
                                                                            (assert)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil)
                                                           ("2"
                                                            (lemma
                                                             "points_on_distinct_edges_differ")
                                                            (("2"
                                                              (inst
                                                               -
                                                               "p"
                                                               "Am"
                                                               "i!2"
                                                               "i")
                                                              (("2"
                                                                (assert)
                                                                (("2"
                                                                  (replace
                                                                   -6
                                                                   -1
                                                                   :dir
                                                                   rl)
                                                                  (("2"
                                                                    (assert)
                                                                    (("2"
                                                                      (flatten)
                                                                      (("2"
                                                                        (expand
                                                                         "edges_of_polygon"
                                                                         -3)
                                                                        (("2"
                                                                          (use
                                                                           "vertex_neq_next")
                                                                          (("2"
                                                                            (assert)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil)
                                                       ("2"
                                                        (case-replace
                                                         "i!3 = i!1")
                                                        (("1"
                                                          (expand
                                                           "edges_of_polygon"
                                                           -23)
                                                          (("1"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil)
                                                         ("2"
                                                          (case
                                                           "i!1 < i!3")
                                                          (("1"
                                                            (lemma
                                                             "points_on_distinct_edges_differ")
                                                            (("1"
                                                              (inst
                                                               -
                                                               "p"
                                                               "Bm"
                                                               "i!1"
                                                               "i!3")
                                                              (("1"
                                                                (assert)
                                                                (("1"
                                                                  (replace
                                                                   -8
                                                                   -1
                                                                   :dir
                                                                   rl)
                                                                  (("1"
                                                                    (assert)
                                                                    (("1"
                                                                      (flatten)
                                                                      (("1"
                                                                        (expand
                                                                         "edges_of_polygon"
                                                                         -2)
                                                                        (("1"
                                                                          (use
                                                                           "vertex_neq_next")
                                                                          (("1"
                                                                            (assert)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil)
                                                           ("2"
                                                            (lemma
                                                             "points_on_distinct_edges_differ")
                                                            (("2"
                                                              (inst
                                                               -
                                                               "p"
                                                               "Bm"
                                                               "i!3"
                                                               "i!1")
                                                              (("2"
                                                                (assert)
                                                                (("2"
                                                                  (replace
                                                                   -7
                                                                   -1
                                                                   :dir
                                                                   rl)
                                                                  (("2"
                                                                    (assert)
                                                                    (("2"
                                                                      (flatten)
                                                                      (("2"
                                                                        (expand
                                                                         "edges_of_polygon"
                                                                         -3)
                                                                        (("2"
                                                                          (use
                                                                           "vertex_neq_next")
                                                                          (("2"
                                                                            (assert)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil)
                                           ("2"
                                            (use
                                             "overlapping_parallel")
                                            (("2"
                                              (assert)
                                              (("2"
                                                (lemma
                                                 "non_overlapping_parallel_segments_share_endpoint")
                                                (("2"
                                                  (inst - "s" "e" "p")
                                                  (("2"
                                                    (assert)
                                                    (("2"
                                                      (split -1)
                                                      (("1"
                                                        (propax)
                                                        nil
                                                        nil)
                                                       ("2"
                                                        (lemma
                                                         "segments_parallel_imp_subsegments_parallel")
                                                        (("2"
                                                          (inst
                                                           -
                                                           "edges_of_polygon(A)(j)"
                                                           "edges_of_polygon(B)(j!1)"
                                                           "s"
                                                           "e")
                                                          (("2"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2"
                          (typepred
                           "inject_vertices_into_polygon(A, B)`1")
                          (("2" (expand "inject_post_condition?")
                            (("2" (replace -11 -2 :dir rl)
                              (("2" (assert) nil nil)) nil))
                            nil))
                          nil))
                        nil)
                       ("2"
                        (typepred
                         "inject_vertices_into_polygon(B,A)`1")
                        (("2" (replace -5 -2 :dir rl)
                          (("2" (assert)
                            (("2" (expand "inject_post_condition?")
                              (("2" (assert) nil nil)) nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_intersections_only_at_vertices 0
  (injected_intersections_only_at_vertices-1 nil 3874129019
   ("" (skeep* + t)
    (("" (use "inject_vertices_into_polygon_comm")
      (("" (use "merge_pre_condition_symmetric")
        (("" (assert)
          (("" (assert)
            (("" (lemma "injected_edge_subsegment_of_original")
              (("" (inst-cp - "A" "B" "s")
                (("" (inst - "B" "A" "e")
                  (("" (assert)
                    (("" (split -1)
                      (("1" (split -2)
                        (("1" (skeep* - t)
                          (("1" (lemma "point_on_subsegment")
                            (("1"
                              (inst-cp - "p" "s"
                               "edges_of_polygon(A)(j)")
                              (("1"
                                (inst
                                 -
                                 "p"
                                 "e"
                                 "edges_of_polygon(B)(j!1)")
                                (("1"
                                  (assert)
                                  (("1"
                                    (lemma
                                     "intersections_only_at_vertices")
                                    (("1"
                                      (inst
                                       -
                                       "A"
                                       "B"
                                       "Am"
                                       "Bm"
                                       "edges_of_polygon(A)(j)"
                                       "edges_of_polygon(B)(j!1)"
                                       "p")
                                      (("1"
                                        (assert)
                                        (("1"
                                          (split -1)
                                          (("1" (propax) nil nil)
                                           ("2"
                                            (use
                                             "overlapping_parallel")
                                            (("2"
                                              (assert)
                                              (("2"
                                                (lemma
                                                 "non_overlapping_parallel_segments_share_endpoint")
                                                (("2"
                                                  (inst - "s" "e" "p")
                                                  (("2"
                                                    (split -1)
                                                    (("1"
                                                      (flatten)
                                                      (("1"
                                                        (rewrite*
                                                         "vertex_is_edge_endpoint")
                                                        (("1"
                                                          (ground)
                                                          (("1"
                                                            (inst?)
                                                            nil
                                                            nil)
                                                           ("2"
                                                            (inst
                                                             +
                                                             "e")
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("2"
                                                      (lemma
                                                       "segments_parallel_imp_subsegments_parallel")
                                                      (("2"
                                                        (inst
                                                         -
                                                         "edges_of_polygon(A)(j)"
                                                         "edges_of_polygon(B)(j!1)"
                                                         "s"
                                                         "e")
                                                        (("2"
                                                          (assert)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil)
                                                     ("3"
                                                      (propax)
                                                      nil
                                                      nil)
                                                     ("4"
                                                      (propax)
                                                      nil
                                                      nil)
                                                     ("5"
                                                      (propax)
                                                      nil
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2"
                          (typepred
                           "inject_vertices_into_polygon(A, B)`1")
                          (("2" (expand "inject_post_condition?")
                            (("2" (replace -11 -2 :dir rl)
                              (("2" (assert) nil nil)) nil))
                            nil))
                          nil))
                        nil)
                       ("2"
                        (typepred
                         "inject_vertices_into_polygon(B,A)`1")
                        (("2" (replace -5 -2 :dir rl)
                          (("2" (assert)
                            (("2" (expand "inject_post_condition?")
                              (("2" (assert) nil nil)) nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (overlapping_injected_edge_p1_is_MOP 0
  (overlapping_injected_edge_p1_is_MOP-1 nil 3874129019
   ("" (auto-rewrite "sets.member")
    (("" (skeep*)
      (("" (typepred "inject_vertices_into_polygon(A, B)`1")
        (("" (typepred "inject_vertices_into_polygon(A, B)`2")
          (("" (expand "inject_post_condition?")
            (("" (replace -5 :dir rl)
              (("" (assert)
                ((""
                  (name-replace*
                   ("IVA" "injected_vertices(A, B, A`num_vertices)"
                    "IVB" "injected_vertices(B, A, B`num_vertices)"))
                  (("" (lemma "injected_edge_subsegment_of_original")
                    (("" (inst-cp - "A" "B" "s")
                      (("" (inst - "B" "A" "e")
                        (("" (assert)
                          (("" (skeep* - t)
                            (("" (expand "edge_of_polygon?")
                              ((""
                                (skeep* - t)
                                ((""
                                  (lemma
                                   "overlapping_subsegments_and_segments")
                                  ((""
                                    (inst
                                     -
                                     "s"
                                     "e"
                                     "edges_of_polygon(A)(j!1)"
                                     "edges_of_polygon(B)(j)")
                                    ((""
                                      (assert)
                                      ((""
                                        (expand "subsegment?")
                                        ((""
                                          (flatten)
                                          ((""
                                            (lemma
                                             "injected_edge_p1_neq_original_p2")
                                            ((""
                                              (inst
                                               -
                                               "A"
                                               "B"
                                               "Am"
                                               "IVA"
                                               "j!1"
                                               "i"
                                               "edges_of_polygon(A)(j!1)"
                                               "s")
                                              ((""
                                                (assert)
                                                ((""
                                                  (name-replace*
                                                   ("ss"
                                                    "edges_of_polygon(A)(j!1)"
                                                    "ee"
                                                    "edges_of_polygon(B)(j)"))
                                                  ((""
                                                    (replace
                                                     -18
                                                     :dir
                                                     rl)
                                                    ((""
                                                      (case
                                                       "i < IVA`length")
                                                      (("1"
                                                        (assert)
                                                        (("1"
                                                          (flatten)
                                                          (("1"
                                                            (lemma
                                                             "injected_vertex_on_edge_index_bounds")
                                                            (("1"
                                                              (inst
                                                               -
                                                               "A"
                                                               "B"
                                                               "j!1"
                                                               "i"
                                                               "A`num_vertices"
                                                               "s`p1")
                                                              (("1"
                                                                (expand
                                                                 "edges_of_polygon"
                                                                 (-21
                                                                  -22))
                                                                (("1"
                                                                  (assert)
                                                                  (("1"
                                                                    (case
                                                                     "s`p1 = injected_vertices(A, B, A`num_vertices)`seq(i)")
                                                                    (("1"
                                                                      (assert)
                                                                      (("1"
                                                                        (flatten)
                                                                        (("1"
                                                                          (copy
                                                                           -3)
                                                                          (("1"
                                                                            (expand
                                                                             "injected_vertices"
                                                                             -1)
                                                                            (("1"
                                                                              (expand
                                                                               "o")
                                                                              (("1"
                                                                                (name-replace*
                                                                                 ("Q"
                                                                                  "injected_edge_seq(edges_of_polygon(A)(j!1),
                                                                                                                                                    injected_edge(edges_of_polygon(A)(j!1), B))"
                                                                                  "L"
                                                                                  "injected_vertices(A, B, j!1)`length"))
                                                                                (("1"
                                                                                  (lemma
                                                                                   "normalized_edge_endpoint_diffs_eq")
                                                                                  (("1"
                                                                                    (inst
                                                                                     -
                                                                                     "A"
                                                                                     "B"
                                                                                     "j!1"
                                                                                     "i")
                                                                                    (("1"
                                                                                      (assert)
                                                                                      (("1"
                                                                                        (replace
                                                                                         -21)
                                                                                        (("1"
                                                                                          (replace
                                                                                           -25
                                                                                           :dir
                                                                                           rl)
                                                                                          (("1"
                                                                                            (assert)
                                                                                            (("1"
                                                                                              (replace
                                                                                               -10)
                                                                                              (("1"
                                                                                                (case-replace
                                                                                                 "edges_of_polygon(Am)(i) = s")
                                                                                                (("1"
                                                                                                  (case
                                                                                                   "Q`length + L <= IVA`length")
                                                                                                  (("1"
                                                                                                    (name-replace*
                                                                                                     ("s_mop"
                                                                                                      "min_overlap_point(s, e)"
                                                                                                      "A_mop"
                                                                                                      "min_overlap_point(ss, ee)"))
                                                                                                    (("1"
                                                                                                      (case
                                                                                                       "point_on_segment?(s_mop, s) and point_on_segment?(s_mop, ss)")
                                                                                                      (("1"
                                                                                                        (flatten)
                                                                                                        (("1"
                                                                                                          (typepred
                                                                                                           "Q")
                                                                                                          (("1"
                                                                                                            (replace
                                                                                                             -20)
                                                                                                            (("1"
                                                                                                              (case
                                                                                                               "injected_edge(ss, B)(s_mop)")
                                                                                                              (("1"
                                                                                                                (inst-cp
                                                                                                                 -3
                                                                                                                 "s_mop")
                                                                                                                (("1"
                                                                                                                  (skeep
                                                                                                                   -
                                                                                                                   t)
                                                                                                                  (("1"
                                                                                                                    (lemma
                                                                                                                     "injected_edge_seq_elements_eq")
                                                                                                                    (("1"
                                                                                                                      (inst
                                                                                                                       -
                                                                                                                       "A"
                                                                                                                       "B"
                                                                                                                       "j!1"
                                                                                                                       "i")
                                                                                                                      (("1"
                                                                                                                        (assert)
                                                                                                                        (("1"
                                                                                                                          (replace
                                                                                                                           -24)
                                                                                                                          (("1"
                                                                                                                            (replace
                                                                                                                             -17)
                                                                                                                            (("1"
                                                                                                                              (replace
                                                                                                                               -35)
                                                                                                                              (("1"
                                                                                                                                (replace
                                                                                                                                 -16)
                                                                                                                                (("1"
                                                                                                                                  (case
                                                                                                                                   "norm(Q`seq(i-L) - ss`p1) < norm(Q`seq(i!2) - ss`p1)")
                                                                                                                                  (("1"
                                                                                                                                    (case
                                                                                                                                     "i + 1 = Q`length + L")
                                                                                                                                    (("1"
                                                                                                                                      (case
                                                                                                                                       "i!2 < i-L")
                                                                                                                                      (("1"
                                                                                                                                        (inst
                                                                                                                                         -11
                                                                                                                                         "i-L"
                                                                                                                                         "i!2")
                                                                                                                                        (("1"
                                                                                                                                          (assert)
                                                                                                                                          nil
                                                                                                                                          nil))
                                                                                                                                        nil)
                                                                                                                                       ("2"
                                                                                                                                        (assert)
                                                                                                                                        nil
                                                                                                                                        nil))
                                                                                                                                      nil)
                                                                                                                                     ("2"
                                                                                                                                      (lemma
                                                                                                                                       "injected_edge_seq_elements_eq")
                                                                                                                                      (("2"
                                                                                                                                        (inst
                                                                                                                                         -
                                                                                                                                         "A"
                                                                                                                                         "B"
                                                                                                                                         "j!1"
                                                                                                                                         "i+1")
                                                                                                                                        (("2"
                                                                                                                                          (assert)
                                                                                                                                          (("2"
                                                                                                                                            (assert)
                                                                                                                                            (("2"
                                                                                                                                              (replace
                                                                                                                                               -18)
                                                                                                                                              (("2"
                                                                                                                                                (replace
                                                                                                                                                 -37)
                                                                                                                                                (("2"
                                                                                                                                                  (replace
                                                                                                                                                   -26)
                                                                                                                                                  (("2"
                                                                                                                                                    (replace
                                                                                                                                                     -19)
                                                                                                                                                    (("2"
                                                                                                                                                      (case
                                                                                                                                                       "norm(Q`seq(i!2) - ss`p1) < norm(Q`seq(i+1 - L) - ss`p1)")
                                                                                                                                                      (("1"
                                                                                                                                                        (case
                                                                                                                                                         "i!2 < i-L")
                                                                                                                                                        (("1"
                                                                                                                                                          (inst
                                                                                                                                                           -12
                                                                                                                                                           "i-L"
                                                                                                                                                           "i!2")
                                                                                                                                                          (("1"
                                                                                                                                                            (assert)
                                                                                                                                                            nil
                                                                                                                                                            nil))
                                                                                                                                                          nil)
                                                                                                                                                         ("2"
                                                                                                                                                          (case
                                                                                                                                                           "i+1-L < i!2")
                                                                                                                                                          (("1"
                                                                                                                                                            (inst
                                                                                                                                                             -12
                                                                                                                                                             "i!2"
                                                                                                                                                             "i+1-L")
                                                                                                                                                            (("1"
                                                                                                                                                              (assert)
                                                                                                                                                              nil
                                                                                                                                                              nil)
                                                                                                                                                             ("2"
                                                                                                                                                              (assert)
                                                                                                                                                              nil
                                                                                                                                                              nil))
                                                                                                                                                            nil)
                                                                                                                                                           ("2"
                                                                                                                                                            (assert)
                                                                                                                                                            nil
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil)
                                                                                                                                                       ("2"
                                                                                                                                                        (lemma
                                                                                                                                                         "min_overlap_point_offset_lt_len")
                                                                                                                                                        (("2"
                                                                                                                                                          (inst
                                                                                                                                                           -
                                                                                                                                                           "s"
                                                                                                                                                           "e")
                                                                                                                                                          (("2"
                                                                                                                                                            (case
                                                                                                                                                             "Q`seq(i + 1 - L) = s`p2")
                                                                                                                                                            (("1"
                                                                                                                                                              (lemma
                                                                                                                                                               "collinear_distances_additive")
                                                                                                                                                              (("1"
                                                                                                                                                                (inst-cp
                                                                                                                                                                 -
                                                                                                                                                                 "ss"
                                                                                                                                                                 "s`p1"
                                                                                                                                                                 "Q`seq(i!2)")
                                                                                                                                                                (("1"
                                                                                                                                                                  (inst
                                                                                                                                                                   -
                                                                                                                                                                   "ss"
                                                                                                                                                                   "s`p1"
                                                                                                                                                                   "Q`seq(i+1-L)")
                                                                                                                                                                  (("1"
                                                                                                                                                                    (assert)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (ground)
                                                                                                                                                                      (("1"
                                                                                                                                                                        (replace
                                                                                                                                                                         -2)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (lemma
                                                                                                                                                                           "segment_far_endpoint_length")
                                                                                                                                                                          (("1"
                                                                                                                                                                            (inst
                                                                                                                                                                             -
                                                                                                                                                                             "s")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (replace
                                                                                                                                                                               -1
                                                                                                                                                                               1)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (replace
                                                                                                                                                                                 -21
                                                                                                                                                                                 1)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (hide-all-but
                                                                                                                                                                                   (-38
                                                                                                                                                                                    1))
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (rewrite
                                                                                                                                                                                     "point_on_segment_has_norm_offset")
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (skeep)
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (replace
                                                                                                                                                                                         -1)
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (assert)
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (factor!
                                                                                                                                                                                             (!
                                                                                                                                                                                              1
                                                                                                                                                                                              r
                                                                                                                                                                                              1))
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (assert)
                                                                                                                                                                                              (("1"
                                                                                                                                                                                                (expand
                                                                                                                                                                                                 "abs")
                                                                                                                                                                                                (("1"
                                                                                                                                                                                                  (assert)
                                                                                                                                                                                                  nil
                                                                                                                                                                                                  nil))
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil)
                                                                                                                                                             ("2"
                                                                                                                                                              (replace
                                                                                                                                                               -2
                                                                                                                                                               1
                                                                                                                                                               :dir
                                                                                                                                                               rl)
                                                                                                                                                              (("2"
                                                                                                                                                                (replace
                                                                                                                                                                 -42
                                                                                                                                                                 -44)
                                                                                                                                                                (("2"
                                                                                                                                                                  (assert)
                                                                                                                                                                  (("2"
                                                                                                                                                                    (expand
                                                                                                                                                                     "next_index"
                                                                                                                                                                     -44)
                                                                                                                                                                    (("2"
                                                                                                                                                                      (assert)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil))
                                                                                                                                    nil)
                                                                                                                                   ("2"
                                                                                                                                    (replace
                                                                                                                                     -6
                                                                                                                                     1
                                                                                                                                     :dir
                                                                                                                                     rl)
                                                                                                                                    (("2"
                                                                                                                                      (replace
                                                                                                                                       -1
                                                                                                                                       1
                                                                                                                                       :dir
                                                                                                                                       rl)
                                                                                                                                      (("2"
                                                                                                                                        (replace
                                                                                                                                         -19
                                                                                                                                         1
                                                                                                                                         :dir
                                                                                                                                         rl)
                                                                                                                                        (("2"
                                                                                                                                          (rewrite
                                                                                                                                           "point_on_segment_has_norm_offset"
                                                                                                                                           -9)
                                                                                                                                          (("2"
                                                                                                                                            (skeep)
                                                                                                                                            (("2"
                                                                                                                                              (replace
                                                                                                                                               -9
                                                                                                                                               1)
                                                                                                                                              (("2"
                                                                                                                                                (rewrite
                                                                                                                                                 "point_on_segment_has_norm_offset"
                                                                                                                                                 -33)
                                                                                                                                                (("2"
                                                                                                                                                  (skeep)
                                                                                                                                                  (("2"
                                                                                                                                                    (replace
                                                                                                                                                     -16
                                                                                                                                                     1)
                                                                                                                                                    (("2"
                                                                                                                                                      (replace
                                                                                                                                                       -33
                                                                                                                                                       1)
                                                                                                                                                      (("2"
                                                                                                                                                        (assert)
                                                                                                                                                        (("2"
                                                                                                                                                          (factor!
                                                                                                                                                           (!
                                                                                                                                                            1
                                                                                                                                                            r
                                                                                                                                                            1))
                                                                                                                                                          (("2"
                                                                                                                                                            (assert)
                                                                                                                                                            (("2"
                                                                                                                                                              (expand
                                                                                                                                                               "abs")
                                                                                                                                                              (("2"
                                                                                                                                                                (case-replace
                                                                                                                                                                 "d=0")
                                                                                                                                                                (("1"
                                                                                                                                                                  (assert)
                                                                                                                                                                  nil
                                                                                                                                                                  nil)
                                                                                                                                                                 ("2"
                                                                                                                                                                  (assert)
                                                                                                                                                                  nil
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil))
                                                                                                                                    nil))
                                                                                                                                  nil))
                                                                                                                                nil))
                                                                                                                              nil))
                                                                                                                            nil))
                                                                                                                          nil))
                                                                                                                        nil))
                                                                                                                      nil))
                                                                                                                    nil))
                                                                                                                  nil)
                                                                                                                 ("2"
                                                                                                                  (assert)
                                                                                                                  nil
                                                                                                                  nil))
                                                                                                                nil)
                                                                                                               ("2"
                                                                                                                (copy
                                                                                                                 -8)
                                                                                                                (("2"
                                                                                                                  (use
                                                                                                                   "inject_vertices_into_polygon_comm")
                                                                                                                  (("2"
                                                                                                                    (lemma
                                                                                                                     "merge_pre_condition_symmetric")
                                                                                                                    (("2"
                                                                                                                      (inst
                                                                                                                       -
                                                                                                                       "A"
                                                                                                                       "B")
                                                                                                                      (("2"
                                                                                                                        (assert)
                                                                                                                        (("2"
                                                                                                                          (lemma
                                                                                                                           "injected_edge_has_same_dir_as_original")
                                                                                                                          (("2"
                                                                                                                            (inst
                                                                                                                             -
                                                                                                                             "B"
                                                                                                                             "A"
                                                                                                                             "Bm"
                                                                                                                             "IVB"
                                                                                                                             "j"
                                                                                                                             "i!1"
                                                                                                                             "ee"
                                                                                                                             "e")
                                                                                                                            (("2"
                                                                                                                              (ground)
                                                                                                                              (("1"
                                                                                                                                (expand
                                                                                                                                 "min_overlap_point"
                                                                                                                                 -4)
                                                                                                                                (("1"
                                                                                                                                  (lift-if)
                                                                                                                                  (("1"
                                                                                                                                    (ground)
                                                                                                                                    (("1"
                                                                                                                                      (replace
                                                                                                                                       -2
                                                                                                                                       :dir
                                                                                                                                       rl)
                                                                                                                                      (("1"
                                                                                                                                        (case
                                                                                                                                         "e`p1 /= ee`p2 and point_on_segment?(e`p1, ss)")
                                                                                                                                        (("1"
                                                                                                                                          (flatten)
                                                                                                                                          (("1"
                                                                                                                                            (expand
                                                                                                                                             "injected_edge"
                                                                                                                                             3)
                                                                                                                                            (("1"
                                                                                                                                              (ground)
                                                                                                                                              (("1"
                                                                                                                                                (lemma
                                                                                                                                                 "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                (("1"
                                                                                                                                                  (inst
                                                                                                                                                   -
                                                                                                                                                   "s"
                                                                                                                                                   "e"
                                                                                                                                                   "ss")
                                                                                                                                                  (("1"
                                                                                                                                                    (ground)
                                                                                                                                                    nil
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil)
                                                                                                                                               ("2"
                                                                                                                                                (inst
                                                                                                                                                 +
                                                                                                                                                 "ee")
                                                                                                                                                (("1"
                                                                                                                                                  (ground)
                                                                                                                                                  (("1"
                                                                                                                                                    (case
                                                                                                                                                     "injected_edge(ee,A)(e`p1)")
                                                                                                                                                    (("1"
                                                                                                                                                      (case
                                                                                                                                                       "e`p1 = ee`p1")
                                                                                                                                                      (("1"
                                                                                                                                                        (expand
                                                                                                                                                         "min_overlap_point"
                                                                                                                                                         1)
                                                                                                                                                        (("1"
                                                                                                                                                          (lift-if)
                                                                                                                                                          (("1"
                                                                                                                                                            (ground)
                                                                                                                                                            (("1"
                                                                                                                                                              (hide-all-but
                                                                                                                                                               (-1
                                                                                                                                                                -2
                                                                                                                                                                -5
                                                                                                                                                                -6
                                                                                                                                                                -8
                                                                                                                                                                -21
                                                                                                                                                                +))
                                                                                                                                                              (("1"
                                                                                                                                                                (rewrite*
                                                                                                                                                                 "point_on_segment_has_norm_offset")
                                                                                                                                                                (("1"
                                                                                                                                                                  (skeep*)
                                                                                                                                                                  (("1"
                                                                                                                                                                    (equate
                                                                                                                                                                     "^(ss`p2 - ss`p1)"
                                                                                                                                                                     "^(ee`p2 - ee`p1)"
                                                                                                                                                                     (assert))
                                                                                                                                                                    (("1"
                                                                                                                                                                      (replace
                                                                                                                                                                       -3)
                                                                                                                                                                      (("1"
                                                                                                                                                                        (replace
                                                                                                                                                                         -1
                                                                                                                                                                         -4)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (name-replace
                                                                                                                                                                           "V"
                                                                                                                                                                           "^(ee`p2 - ee`p1)")
                                                                                                                                                                          (("1"
                                                                                                                                                                            (cancel-add
                                                                                                                                                                             -4)
                                                                                                                                                                            (("1"
                                                                                                                                                                              (factor
                                                                                                                                                                               -4
                                                                                                                                                                               r)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (lemma
                                                                                                                                                                                 "scal_eq_zero")
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (inst
                                                                                                                                                                                   -
                                                                                                                                                                                   "d+d!1"
                                                                                                                                                                                   "V")
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (ground)
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (equate
                                                                                                                                                                                       "d"
                                                                                                                                                                                       "0"
                                                                                                                                                                                       (assert))
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (assert)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil)
                                                                                                                                                                                     ("2"
                                                                                                                                                                                      (replace
                                                                                                                                                                                       -1)
                                                                                                                                                                                      (("2"
                                                                                                                                                                                        (assert)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil)
                                                                                                                                                       ("2"
                                                                                                                                                        (expand
                                                                                                                                                         "injected_edge"
                                                                                                                                                         -1)
                                                                                                                                                        (("2"
                                                                                                                                                          (assert)
                                                                                                                                                          (("2"
                                                                                                                                                            (skeep
                                                                                                                                                             -
                                                                                                                                                             t)
                                                                                                                                                            (("2"
                                                                                                                                                              (split
                                                                                                                                                               -2)
                                                                                                                                                              (("1"
                                                                                                                                                                (flatten)
                                                                                                                                                                (("1"
                                                                                                                                                                  (case-replace
                                                                                                                                                                   "s!1 = ss")
                                                                                                                                                                  (("1"
                                                                                                                                                                    (rewrite
                                                                                                                                                                     "min_overlap_point_symm"
                                                                                                                                                                     +)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (rewrite
                                                                                                                                                                       "max_overlap_point_symm"
                                                                                                                                                                       +)
                                                                                                                                                                      (("1"
                                                                                                                                                                        (assert)
                                                                                                                                                                        nil
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil)
                                                                                                                                                                   ("2"
                                                                                                                                                                    (lemma
                                                                                                                                                                     "same_polygon_edge_overlaps_equal")
                                                                                                                                                                    (("2"
                                                                                                                                                                      (inst
                                                                                                                                                                       -
                                                                                                                                                                       "A"
                                                                                                                                                                       "ss"
                                                                                                                                                                       "s!1")
                                                                                                                                                                      (("2"
                                                                                                                                                                        (assert)
                                                                                                                                                                        (("2"
                                                                                                                                                                          (split
                                                                                                                                                                           1)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (lemma
                                                                                                                                                                             "are_segments_overlapping_trans")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (inst
                                                                                                                                                                               -
                                                                                                                                                                               "ss"
                                                                                                                                                                               "ee"
                                                                                                                                                                               "s!1"
                                                                                                                                                                               "e`p1")
                                                                                                                                                                              (("1"
                                                                                                                                                                                (assert)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (expand
                                                                                                                                                                                   "segment_endpoint?")
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (split
                                                                                                                                                                                     1)
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (hide-all-but
                                                                                                                                                                                       (-1
                                                                                                                                                                                        -2
                                                                                                                                                                                        1))
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (use
                                                                                                                                                                                         "min_overlap_point_props")
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (use
                                                                                                                                                                                           "max_overlap_point_props")
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (assert)
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (ground)
                                                                                                                                                                                              nil
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil)
                                                                                                                                                                                     ("2"
                                                                                                                                                                                      (lemma
                                                                                                                                                                                       "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                                                      (("2"
                                                                                                                                                                                        (inst
                                                                                                                                                                                         -
                                                                                                                                                                                         "s"
                                                                                                                                                                                         "e"
                                                                                                                                                                                         "ss")
                                                                                                                                                                                        (("2"
                                                                                                                                                                                          (assert)
                                                                                                                                                                                          nil
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil)
                                                                                                                                                                           ("2"
                                                                                                                                                                            (expand
                                                                                                                                                                             "edge_of_polygon?")
                                                                                                                                                                            (("2"
                                                                                                                                                                              (inst?
                                                                                                                                                                               +)
                                                                                                                                                                              nil
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil)
                                                                                                                                                               ("2"
                                                                                                                                                                (flatten)
                                                                                                                                                                (("2"
                                                                                                                                                                  (expand
                                                                                                                                                                   "edge_of_polygon?")
                                                                                                                                                                  (("2"
                                                                                                                                                                    (skeep
                                                                                                                                                                     -
                                                                                                                                                                     t)
                                                                                                                                                                    (("2"
                                                                                                                                                                      (case
                                                                                                                                                                       "j!1 < i!2")
                                                                                                                                                                      (("1"
                                                                                                                                                                        (lemma
                                                                                                                                                                         "points_on_distinct_edges_differ")
                                                                                                                                                                        (("1"
                                                                                                                                                                          (inst
                                                                                                                                                                           -
                                                                                                                                                                           "e`p1"
                                                                                                                                                                           "A"
                                                                                                                                                                           "j!1"
                                                                                                                                                                           "i!2")
                                                                                                                                                                          (("1"
                                                                                                                                                                            (ground)
                                                                                                                                                                            (("1"
                                                                                                                                                                              (lemma
                                                                                                                                                                               "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                                              (("1"
                                                                                                                                                                                (inst
                                                                                                                                                                                 -
                                                                                                                                                                                 "s"
                                                                                                                                                                                 "e"
                                                                                                                                                                                 "ss")
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (ground)
                                                                                                                                                                                  nil
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil)
                                                                                                                                                                             ("2"
                                                                                                                                                                              (replace
                                                                                                                                                                               -1)
                                                                                                                                                                              (("2"
                                                                                                                                                                                (expand
                                                                                                                                                                                 "edges_of_polygon"
                                                                                                                                                                                 -3)
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (expand
                                                                                                                                                                                   "next_index"
                                                                                                                                                                                   -3)
                                                                                                                                                                                  (("2"
                                                                                                                                                                                    (expand
                                                                                                                                                                                     "edges_of_polygon"
                                                                                                                                                                                     -34)
                                                                                                                                                                                    (("2"
                                                                                                                                                                                      (assert)
                                                                                                                                                                                      nil
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil)
                                                                                                                                                                       ("2"
                                                                                                                                                                        (case-replace
                                                                                                                                                                         "i!2 = j!1")
                                                                                                                                                                        (("1"
                                                                                                                                                                          (rewrite
                                                                                                                                                                           "are_segments_overlapping_symm"
                                                                                                                                                                           2)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (assert)
                                                                                                                                                                            nil
                                                                                                                                                                            nil))
                                                                                                                                                                          nil)
                                                                                                                                                                         ("2"
                                                                                                                                                                          (lemma
                                                                                                                                                                           "points_on_distinct_edges_differ")
                                                                                                                                                                          (("2"
                                                                                                                                                                            (inst
                                                                                                                                                                             -
                                                                                                                                                                             "e`p1"
                                                                                                                                                                             "A"
                                                                                                                                                                             "i!2"
                                                                                                                                                                             "j!1")
                                                                                                                                                                            (("2"
                                                                                                                                                                              (ground)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (expand
                                                                                                                                                                                 "edges_of_polygon"
                                                                                                                                                                                 -2)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (expand
                                                                                                                                                                                   "next_index"
                                                                                                                                                                                   -2)
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (expand
                                                                                                                                                                                     "edges_of_polygon"
                                                                                                                                                                                     -32)
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (assert)
                                                                                                                                                                                      nil
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil)
                                                                                                                                                                               ("2"
                                                                                                                                                                                (lemma
                                                                                                                                                                                 "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (inst
                                                                                                                                                                                   -
                                                                                                                                                                                   "s"
                                                                                                                                                                                   "e"
                                                                                                                                                                                   "ss")
                                                                                                                                                                                  (("2"
                                                                                                                                                                                    (ground)
                                                                                                                                                                                    nil
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil)
                                                                                                                                                     ("2"
                                                                                                                                                      (lemma
                                                                                                                                                       "injected_vertex_on_edge_index_bounds")
                                                                                                                                                      (("2"
                                                                                                                                                        (inst
                                                                                                                                                         -
                                                                                                                                                         "B"
                                                                                                                                                         "A"
                                                                                                                                                         "j"
                                                                                                                                                         "i!1"
                                                                                                                                                         "B`num_vertices"
                                                                                                                                                         "e`p1")
                                                                                                                                                        (("2"
                                                                                                                                                          (replace
                                                                                                                                                           -38
                                                                                                                                                           -1)
                                                                                                                                                          (("2"
                                                                                                                                                            (ground)
                                                                                                                                                            (("1"
                                                                                                                                                              (lemma
                                                                                                                                                               "point_in_injected_edge_seq_index")
                                                                                                                                                              (("1"
                                                                                                                                                                (inst
                                                                                                                                                                 -
                                                                                                                                                                 "B"
                                                                                                                                                                 "A"
                                                                                                                                                                 "injected_edge_seq(ee, injected_edge(ee, A))"
                                                                                                                                                                 "ee"
                                                                                                                                                                 "e`p1"
                                                                                                                                                                 "j"
                                                                                                                                                                 "i!1"
                                                                                                                                                                 "injected_vertices(B, A, j)`length")
                                                                                                                                                                (("1"
                                                                                                                                                                  (ground)
                                                                                                                                                                  (("1"
                                                                                                                                                                    (skeep
                                                                                                                                                                     -
                                                                                                                                                                     t)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (typepred
                                                                                                                                                                       "injected_edge_seq(ee, injected_edge(ee, A))")
                                                                                                                                                                      (("1"
                                                                                                                                                                        (inst
                                                                                                                                                                         -3
                                                                                                                                                                         "m")
                                                                                                                                                                        (("1"
                                                                                                                                                                          (assert)
                                                                                                                                                                          nil
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil)
                                                                                                                                                                   ("2"
                                                                                                                                                                    (hide-all-but
                                                                                                                                                                     (-39
                                                                                                                                                                      -42
                                                                                                                                                                      -47
                                                                                                                                                                      1))
                                                                                                                                                                    (("2"
                                                                                                                                                                      (grind)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil)
                                                                                                                                                             ("2"
                                                                                                                                                              (replace
                                                                                                                                                               -40
                                                                                                                                                               -29)
                                                                                                                                                              (("2"
                                                                                                                                                                (assert)
                                                                                                                                                                nil
                                                                                                                                                                nil))
                                                                                                                                                              nil)
                                                                                                                                                             ("3"
                                                                                                                                                              (replace
                                                                                                                                                               -40
                                                                                                                                                               -45)
                                                                                                                                                              (("3"
                                                                                                                                                                (assert)
                                                                                                                                                                (("3"
                                                                                                                                                                  (replace
                                                                                                                                                                   -45
                                                                                                                                                                   1
                                                                                                                                                                   :dir
                                                                                                                                                                   rl)
                                                                                                                                                                  (("3"
                                                                                                                                                                    (assert)
                                                                                                                                                                    nil
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil)
                                                                                                                                                 ("2"
                                                                                                                                                  (expand
                                                                                                                                                   "edge_of_polygon?")
                                                                                                                                                  (("2"
                                                                                                                                                    (inst?
                                                                                                                                                     +)
                                                                                                                                                    nil
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil)
                                                                                                                                         ("2"
                                                                                                                                          (ground)
                                                                                                                                          (("2"
                                                                                                                                            (lemma
                                                                                                                                             "subsegment_min_overlap_point_neq_p2")
                                                                                                                                            (("2"
                                                                                                                                              (inst
                                                                                                                                               -
                                                                                                                                               "e"
                                                                                                                                               "s"
                                                                                                                                               "ee")
                                                                                                                                              (("1"
                                                                                                                                                (ground)
                                                                                                                                                (("1"
                                                                                                                                                  (rewrite
                                                                                                                                                   "min_overlap_point_symm"
                                                                                                                                                   1)
                                                                                                                                                  (("1"
                                                                                                                                                    (assert)
                                                                                                                                                    nil
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil)
                                                                                                                                               ("2"
                                                                                                                                                (rewrite
                                                                                                                                                 "are_segments_overlapping_symm"
                                                                                                                                                 1)
                                                                                                                                                nil
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil)
                                                                                                                                     ("2"
                                                                                                                                      (replace
                                                                                                                                       -1
                                                                                                                                       :dir
                                                                                                                                       rl)
                                                                                                                                      (("2"
                                                                                                                                        (lemma
                                                                                                                                         "overlapping_normalized_directions")
                                                                                                                                        (("2"
                                                                                                                                          (inst
                                                                                                                                           -
                                                                                                                                           "s"
                                                                                                                                           "e")
                                                                                                                                          (("2"
                                                                                                                                            (assert)
                                                                                                                                            (("2"
                                                                                                                                              (case
                                                                                                                                               "e`p2 /= ee`p1 and point_on_segment?(e`p2, ss)")
                                                                                                                                              (("1"
                                                                                                                                                (flatten)
                                                                                                                                                (("1"
                                                                                                                                                  (lemma
                                                                                                                                                   "min_overlap_point_symm")
                                                                                                                                                  (("1"
                                                                                                                                                    (inst
                                                                                                                                                     -
                                                                                                                                                     "s"
                                                                                                                                                     "e")
                                                                                                                                                    (("1"
                                                                                                                                                      (assert)
                                                                                                                                                      (("1"
                                                                                                                                                        (expand
                                                                                                                                                         "injected_edge"
                                                                                                                                                         +)
                                                                                                                                                        (("1"
                                                                                                                                                          (ground)
                                                                                                                                                          (("1"
                                                                                                                                                            (lemma
                                                                                                                                                             "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                            (("1"
                                                                                                                                                              (inst
                                                                                                                                                               -
                                                                                                                                                               "s"
                                                                                                                                                               "e"
                                                                                                                                                               "ss")
                                                                                                                                                              (("1"
                                                                                                                                                                (ground)
                                                                                                                                                                nil
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil)
                                                                                                                                                           ("2"
                                                                                                                                                            (inst
                                                                                                                                                             +
                                                                                                                                                             "ee")
                                                                                                                                                            (("1"
                                                                                                                                                              (ground)
                                                                                                                                                              (("1"
                                                                                                                                                                (case
                                                                                                                                                                 "e`p2 = ee`p2")
                                                                                                                                                                (("1"
                                                                                                                                                                  (expand
                                                                                                                                                                   "min_overlap_point"
                                                                                                                                                                   1)
                                                                                                                                                                  (("1"
                                                                                                                                                                    (lift-if)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (ground)
                                                                                                                                                                      (("1"
                                                                                                                                                                        (hide-all-but
                                                                                                                                                                         (-1
                                                                                                                                                                          -2
                                                                                                                                                                          -5
                                                                                                                                                                          -6
                                                                                                                                                                          -8
                                                                                                                                                                          -21
                                                                                                                                                                          1))
                                                                                                                                                                        (("1"
                                                                                                                                                                          (replace
                                                                                                                                                                           -2
                                                                                                                                                                           (-3
                                                                                                                                                                            1)
                                                                                                                                                                           :hide?
                                                                                                                                                                           t)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (rewrite*
                                                                                                                                                                             "point_on_segment_has_norm_offset")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (skeep*)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (replace
                                                                                                                                                                                 -5)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (replace
                                                                                                                                                                                   -7
                                                                                                                                                                                   :dir
                                                                                                                                                                                   rl)
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (replace
                                                                                                                                                                                     -6
                                                                                                                                                                                     :dir
                                                                                                                                                                                     rl)
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (hide
                                                                                                                                                                                       -5
                                                                                                                                                                                       -6
                                                                                                                                                                                       -7)
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (replace
                                                                                                                                                                                         -1)
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (rewrite
                                                                                                                                                                                           "scal_neg")
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (name-replace
                                                                                                                                                                                             "V"
                                                                                                                                                                                             "ee`p2 - ee`p1")
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (equate
                                                                                                                                                                                               "d!1"
                                                                                                                                                                                               "0")
                                                                                                                                                                                              (("1"
                                                                                                                                                                                                (assert)
                                                                                                                                                                                                nil
                                                                                                                                                                                                nil)
                                                                                                                                                                                               ("2"
                                                                                                                                                                                                (move-terms
                                                                                                                                                                                                 -3
                                                                                                                                                                                                 r
                                                                                                                                                                                                 1)
                                                                                                                                                                                                (("2"
                                                                                                                                                                                                  (factor
                                                                                                                                                                                                   -3
                                                                                                                                                                                                   r)
                                                                                                                                                                                                  (("2"
                                                                                                                                                                                                    (equate
                                                                                                                                                                                                     "d + (-d!1)"
                                                                                                                                                                                                     "d - d!1"
                                                                                                                                                                                                     (assert))
                                                                                                                                                                                                    (("2"
                                                                                                                                                                                                      (expand
                                                                                                                                                                                                       "^"
                                                                                                                                                                                                       -3)
                                                                                                                                                                                                      (("2"
                                                                                                                                                                                                        (rewrite
                                                                                                                                                                                                         "scal_assoc")
                                                                                                                                                                                                        (("2"
                                                                                                                                                                                                          (real-props)
                                                                                                                                                                                                          (("2"
                                                                                                                                                                                                            (cross-mult
                                                                                                                                                                                                             -3)
                                                                                                                                                                                                            (("2"
                                                                                                                                                                                                              (expand
                                                                                                                                                                                                               "V")
                                                                                                                                                                                                              (("2"
                                                                                                                                                                                                                (use
                                                                                                                                                                                                                 "scal_cancel")
                                                                                                                                                                                                                (("2"
                                                                                                                                                                                                                  (assert)
                                                                                                                                                                                                                  (("2"
                                                                                                                                                                                                                    (expand
                                                                                                                                                                                                                     "length")
                                                                                                                                                                                                                    (("2"
                                                                                                                                                                                                                      (assert)
                                                                                                                                                                                                                      nil
                                                                                                                                                                                                                      nil))
                                                                                                                                                                                                                    nil))
                                                                                                                                                                                                                  nil))
                                                                                                                                                                                                                nil))
                                                                                                                                                                                                              nil))
                                                                                                                                                                                                            nil))
                                                                                                                                                                                                          nil))
                                                                                                                                                                                                        nil))
                                                                                                                                                                                                      nil))
                                                                                                                                                                                                    nil))
                                                                                                                                                                                                  nil))
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil)
                                                                                                                                                                 ("2"
                                                                                                                                                                  (case
                                                                                                                                                                   "injected_edge(ee,A)(e`p2)")
                                                                                                                                                                  (("1"
                                                                                                                                                                    (expand
                                                                                                                                                                     "injected_edge"
                                                                                                                                                                     -1)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (assert)
                                                                                                                                                                      (("1"
                                                                                                                                                                        (skeep
                                                                                                                                                                         -
                                                                                                                                                                         t)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (split
                                                                                                                                                                           -2)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (flatten)
                                                                                                                                                                            (("1"
                                                                                                                                                                              (case-replace
                                                                                                                                                                               "s!1 = ss")
                                                                                                                                                                              (("1"
                                                                                                                                                                                (rewrite
                                                                                                                                                                                 "min_overlap_point_symm"
                                                                                                                                                                                 +)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (rewrite
                                                                                                                                                                                   "max_overlap_point_symm"
                                                                                                                                                                                   3)
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (assert)
                                                                                                                                                                                    nil
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil)
                                                                                                                                                                               ("2"
                                                                                                                                                                                (lemma
                                                                                                                                                                                 "same_polygon_edge_overlaps_equal")
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (inst
                                                                                                                                                                                   -
                                                                                                                                                                                   "A"
                                                                                                                                                                                   "ss"
                                                                                                                                                                                   "s!1")
                                                                                                                                                                                  (("2"
                                                                                                                                                                                    (assert)
                                                                                                                                                                                    (("2"
                                                                                                                                                                                      (split
                                                                                                                                                                                       1)
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (lemma
                                                                                                                                                                                         "are_segments_overlapping_trans")
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (inst
                                                                                                                                                                                           -
                                                                                                                                                                                           "ss"
                                                                                                                                                                                           "ee"
                                                                                                                                                                                           "s!1"
                                                                                                                                                                                           "e`p2")
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (assert)
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (expand
                                                                                                                                                                                               "segment_endpoint?")
                                                                                                                                                                                              (("1"
                                                                                                                                                                                                (split
                                                                                                                                                                                                 1)
                                                                                                                                                                                                (("1"
                                                                                                                                                                                                  (hide-all-but
                                                                                                                                                                                                   (-1
                                                                                                                                                                                                    -2
                                                                                                                                                                                                    1))
                                                                                                                                                                                                  (("1"
                                                                                                                                                                                                    (use
                                                                                                                                                                                                     "min_overlap_point_props")
                                                                                                                                                                                                    (("1"
                                                                                                                                                                                                      (use
                                                                                                                                                                                                       "max_overlap_point_props")
                                                                                                                                                                                                      (("1"
                                                                                                                                                                                                        (assert)
                                                                                                                                                                                                        (("1"
                                                                                                                                                                                                          (ground)
                                                                                                                                                                                                          nil
                                                                                                                                                                                                          nil))
                                                                                                                                                                                                        nil))
                                                                                                                                                                                                      nil))
                                                                                                                                                                                                    nil))
                                                                                                                                                                                                  nil)
                                                                                                                                                                                                 ("2"
                                                                                                                                                                                                  (lemma
                                                                                                                                                                                                   "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                                                                  (("2"
                                                                                                                                                                                                    (inst
                                                                                                                                                                                                     -
                                                                                                                                                                                                     "s"
                                                                                                                                                                                                     "e"
                                                                                                                                                                                                     "ss")
                                                                                                                                                                                                    (("2"
                                                                                                                                                                                                      (assert)
                                                                                                                                                                                                      nil
                                                                                                                                                                                                      nil))
                                                                                                                                                                                                    nil))
                                                                                                                                                                                                  nil))
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil)
                                                                                                                                                                                       ("2"
                                                                                                                                                                                        (expand
                                                                                                                                                                                         "edge_of_polygon?")
                                                                                                                                                                                        (("2"
                                                                                                                                                                                          (inst?)
                                                                                                                                                                                          nil
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil)
                                                                                                                                                                           ("2"
                                                                                                                                                                            (flatten)
                                                                                                                                                                            (("2"
                                                                                                                                                                              (expand
                                                                                                                                                                               "edge_of_polygon?")
                                                                                                                                                                              (("2"
                                                                                                                                                                                (skeep
                                                                                                                                                                                 -
                                                                                                                                                                                 t)
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (case
                                                                                                                                                                                   "j!1 < i!2")
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (lemma
                                                                                                                                                                                     "points_on_distinct_edges_differ")
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (inst
                                                                                                                                                                                       -
                                                                                                                                                                                       "e`p2"
                                                                                                                                                                                       "A"
                                                                                                                                                                                       "j!1"
                                                                                                                                                                                       "i!2")
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (ground)
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (lemma
                                                                                                                                                                                           "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (inst
                                                                                                                                                                                             -
                                                                                                                                                                                             "s"
                                                                                                                                                                                             "e"
                                                                                                                                                                                             "ss")
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (ground)
                                                                                                                                                                                              nil
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil)
                                                                                                                                                                                         ("2"
                                                                                                                                                                                          (replace
                                                                                                                                                                                           -1)
                                                                                                                                                                                          (("2"
                                                                                                                                                                                            (expand
                                                                                                                                                                                             "edges_of_polygon"
                                                                                                                                                                                             -3)
                                                                                                                                                                                            (("2"
                                                                                                                                                                                              (expand
                                                                                                                                                                                               "next_index"
                                                                                                                                                                                               -3)
                                                                                                                                                                                              (("2"
                                                                                                                                                                                                (expand
                                                                                                                                                                                                 "edges_of_polygon"
                                                                                                                                                                                                 -35)
                                                                                                                                                                                                (("2"
                                                                                                                                                                                                  (assert)
                                                                                                                                                                                                  nil
                                                                                                                                                                                                  nil))
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil)
                                                                                                                                                                                   ("2"
                                                                                                                                                                                    (case-replace
                                                                                                                                                                                     "i!2 = j!1")
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (rewrite
                                                                                                                                                                                       "are_segments_overlapping_symm"
                                                                                                                                                                                       2)
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (assert)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil)
                                                                                                                                                                                     ("2"
                                                                                                                                                                                      (lemma
                                                                                                                                                                                       "points_on_distinct_edges_differ")
                                                                                                                                                                                      (("2"
                                                                                                                                                                                        (inst
                                                                                                                                                                                         -
                                                                                                                                                                                         "e`p2"
                                                                                                                                                                                         "A"
                                                                                                                                                                                         "i!2"
                                                                                                                                                                                         "j!1")
                                                                                                                                                                                        (("2"
                                                                                                                                                                                          (ground)
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (expand
                                                                                                                                                                                             "edges_of_polygon"
                                                                                                                                                                                             -2)
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (expand
                                                                                                                                                                                               "next_index"
                                                                                                                                                                                               -2)
                                                                                                                                                                                              (("1"
                                                                                                                                                                                                (expand
                                                                                                                                                                                                 "edges_of_polygon"
                                                                                                                                                                                                 -33)
                                                                                                                                                                                                (("1"
                                                                                                                                                                                                  (assert)
                                                                                                                                                                                                  nil
                                                                                                                                                                                                  nil))
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil)
                                                                                                                                                                                           ("2"
                                                                                                                                                                                            (lemma
                                                                                                                                                                                             "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                                                            (("2"
                                                                                                                                                                                              (inst
                                                                                                                                                                                               -
                                                                                                                                                                                               "s"
                                                                                                                                                                                               "e"
                                                                                                                                                                                               "ss")
                                                                                                                                                                                              (("2"
                                                                                                                                                                                                (ground)
                                                                                                                                                                                                nil
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil)
                                                                                                                                                                   ("2"
                                                                                                                                                                    (lemma
                                                                                                                                                                     "injected_vertex_on_edge_index_bounds")
                                                                                                                                                                    (("2"
                                                                                                                                                                      (inst
                                                                                                                                                                       -
                                                                                                                                                                       "B"
                                                                                                                                                                       "A"
                                                                                                                                                                       "j"
                                                                                                                                                                       "next_index(Bm,i!1)"
                                                                                                                                                                       "B`num_vertices"
                                                                                                                                                                       "e`p2")
                                                                                                                                                                      (("2"
                                                                                                                                                                        (replace
                                                                                                                                                                         -39
                                                                                                                                                                         -1)
                                                                                                                                                                        (("2"
                                                                                                                                                                          (ground)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (lemma
                                                                                                                                                                             "point_in_injected_edge_seq_index")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (inst
                                                                                                                                                                               -
                                                                                                                                                                               "B"
                                                                                                                                                                               "A"
                                                                                                                                                                               "injected_edge_seq(ee, injected_edge(ee, A))"
                                                                                                                                                                               "ee"
                                                                                                                                                                               "e`p2"
                                                                                                                                                                               "j"
                                                                                                                                                                               "next_index(Bm,i!1)"
                                                                                                                                                                               "injected_vertices(B, A, j)`length")
                                                                                                                                                                              (("1"
                                                                                                                                                                                (ground)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (skeep
                                                                                                                                                                                   -
                                                                                                                                                                                   t)
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (typepred
                                                                                                                                                                                     "injected_edge_seq(ee, injected_edge(ee, A))")
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (inst
                                                                                                                                                                                       -3
                                                                                                                                                                                       "m")
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (assert)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil)
                                                                                                                                                                                 ("2"
                                                                                                                                                                                  (hide-all-but
                                                                                                                                                                                   (-40
                                                                                                                                                                                    -43
                                                                                                                                                                                    -48
                                                                                                                                                                                    1))
                                                                                                                                                                                  (("2"
                                                                                                                                                                                    (grind)
                                                                                                                                                                                    nil
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil)
                                                                                                                                                                           ("2"
                                                                                                                                                                            (lemma
                                                                                                                                                                             "nonlast_injected_vertex_index")
                                                                                                                                                                            (("2"
                                                                                                                                                                              (inst
                                                                                                                                                                               -
                                                                                                                                                                               "B"
                                                                                                                                                                               "A"
                                                                                                                                                                               "Bm"
                                                                                                                                                                               "IVB"
                                                                                                                                                                               "j"
                                                                                                                                                                               "i!1"
                                                                                                                                                                               "ee"
                                                                                                                                                                               "e")
                                                                                                                                                                              (("2"
                                                                                                                                                                                (replace
                                                                                                                                                                                 -42
                                                                                                                                                                                 -1
                                                                                                                                                                                 :dir
                                                                                                                                                                                 rl)
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (assert)
                                                                                                                                                                                  (("2"
                                                                                                                                                                                    (ground)
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (expand
                                                                                                                                                                                       "next_index"
                                                                                                                                                                                       +)
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (propax)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil)
                                                                                                                                                                                     ("2"
                                                                                                                                                                                      (replace
                                                                                                                                                                                       -41
                                                                                                                                                                                       -30)
                                                                                                                                                                                      (("2"
                                                                                                                                                                                        (assert)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil)
                                                                                                                                                                           ("3"
                                                                                                                                                                            (replace
                                                                                                                                                                             -41
                                                                                                                                                                             -46)
                                                                                                                                                                            (("3"
                                                                                                                                                                              (assert)
                                                                                                                                                                              (("3"
                                                                                                                                                                                (replace
                                                                                                                                                                                 -46
                                                                                                                                                                                 1
                                                                                                                                                                                 :dir
                                                                                                                                                                                 rl)
                                                                                                                                                                                (("3"
                                                                                                                                                                                  (assert)
                                                                                                                                                                                  nil
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil)
                                                                                                                                                             ("2"
                                                                                                                                                              (expand
                                                                                                                                                               "edge_of_polygon?")
                                                                                                                                                              (("2"
                                                                                                                                                                (inst?
                                                                                                                                                                 +)
                                                                                                                                                                nil
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil)
                                                                                                                                               ("2"
                                                                                                                                                (ground)
                                                                                                                                                (("2"
                                                                                                                                                  (lemma
                                                                                                                                                   "subsegment_max_overlap_point_neq_p1")
                                                                                                                                                  (("2"
                                                                                                                                                    (inst
                                                                                                                                                     -
                                                                                                                                                     "e"
                                                                                                                                                     "s"
                                                                                                                                                     "ee")
                                                                                                                                                    (("1"
                                                                                                                                                      (ground)
                                                                                                                                                      (("1"
                                                                                                                                                        (rewrite
                                                                                                                                                         "max_overlap_point_symm"
                                                                                                                                                         1)
                                                                                                                                                        (("1"
                                                                                                                                                          (assert)
                                                                                                                                                          nil
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil)
                                                                                                                                                     ("2"
                                                                                                                                                      (rewrite
                                                                                                                                                       "are_segments_overlapping_symm"
                                                                                                                                                       1)
                                                                                                                                                      nil
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil))
                                                                                                                                    nil))
                                                                                                                                  nil))
                                                                                                                                nil)
                                                                                                                               ("2"
                                                                                                                                (replace
                                                                                                                                 -36
                                                                                                                                 -25)
                                                                                                                                (("2"
                                                                                                                                  (assert)
                                                                                                                                  nil
                                                                                                                                  nil))
                                                                                                                                nil))
                                                                                                                              nil))
                                                                                                                            nil))
                                                                                                                          nil))
                                                                                                                        nil))
                                                                                                                      nil))
                                                                                                                    nil))
                                                                                                                  nil))
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil)
                                                                                                       ("2"
                                                                                                        (case
                                                                                                         "point_on_segment?(s_mop, s)")
                                                                                                        (("1"
                                                                                                          (lemma
                                                                                                           "point_on_subsegment")
                                                                                                          (("1"
                                                                                                            (inst
                                                                                                             -
                                                                                                             "s_mop"
                                                                                                             "s"
                                                                                                             "ss")
                                                                                                            (("1"
                                                                                                              (assert)
                                                                                                              nil
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil)
                                                                                                         ("2"
                                                                                                          (lemma
                                                                                                           "min_overlap_point_props")
                                                                                                          (("2"
                                                                                                            (inst
                                                                                                             -
                                                                                                             "s"
                                                                                                             "e")
                                                                                                            (("2"
                                                                                                              (assert)
                                                                                                              (("2"
                                                                                                                (flatten)
                                                                                                                (("2"
                                                                                                                  (assert)
                                                                                                                  nil
                                                                                                                  nil))
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil))
                                                                                                    nil)
                                                                                                   ("2"
                                                                                                    (lemma
                                                                                                     "inj_edge_seq_len_eq_diff_inj_indices")
                                                                                                    (("2"
                                                                                                      (inst
                                                                                                       -
                                                                                                       "A"
                                                                                                       "B"
                                                                                                       "j!1")
                                                                                                      (("2"
                                                                                                        (rewrite*
                                                                                                         "injected_edge_indices_eq_len_inj_vert"
                                                                                                         -1
                                                                                                         :dir
                                                                                                         rl)
                                                                                                        (("2"
                                                                                                          (assert)
                                                                                                          (("2"
                                                                                                            (typepred
                                                                                                             "seq_injected_edge_seq(A, B)")
                                                                                                            (("2"
                                                                                                              (inst
                                                                                                               -
                                                                                                               "j!1")
                                                                                                              (("2"
                                                                                                                (assert)
                                                                                                                (("2"
                                                                                                                  (replace
                                                                                                                   -2)
                                                                                                                  (("2"
                                                                                                                    (replace
                                                                                                                     -14)
                                                                                                                    (("2"
                                                                                                                      (replace
                                                                                                                       -7)
                                                                                                                      (("2"
                                                                                                                        (replace
                                                                                                                         -6)
                                                                                                                        (("2"
                                                                                                                          (replace
                                                                                                                           -3
                                                                                                                           1)
                                                                                                                          (("2"
                                                                                                                            (assert)
                                                                                                                            (("2"
                                                                                                                              (replace
                                                                                                                               -25
                                                                                                                               :dir
                                                                                                                               rl)
                                                                                                                              (("2"
                                                                                                                                (case
                                                                                                                                 "1+j!1 = A`num_vertices")
                                                                                                                                (("1"
                                                                                                                                  (assert)
                                                                                                                                  nil
                                                                                                                                  nil)
                                                                                                                                 ("2"
                                                                                                                                  (lemma
                                                                                                                                   "length_injected_vertices_ordered")
                                                                                                                                  (("2"
                                                                                                                                    (inst
                                                                                                                                     -
                                                                                                                                     "A"
                                                                                                                                     "B"
                                                                                                                                     "1+j!1"
                                                                                                                                     "A`num_vertices")
                                                                                                                                    (("2"
                                                                                                                                      (assert)
                                                                                                                                      nil
                                                                                                                                      nil))
                                                                                                                                    nil))
                                                                                                                                  nil))
                                                                                                                                nil))
                                                                                                                              nil))
                                                                                                                            nil))
                                                                                                                          nil))
                                                                                                                        nil))
                                                                                                                      nil))
                                                                                                                    nil))
                                                                                                                  nil))
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil))
                                                                                                    nil))
                                                                                                  nil)
                                                                                                 ("2"
                                                                                                  (hide-all-but
                                                                                                   (-27
                                                                                                    1))
                                                                                                  (("2"
                                                                                                    (grind)
                                                                                                    nil
                                                                                                    nil))
                                                                                                  nil))
                                                                                                nil))
                                                                                              nil))
                                                                                            nil))
                                                                                          nil))
                                                                                        nil))
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil)
                                                                     ("2"
                                                                      (replace
                                                                       -19
                                                                       -21)
                                                                      (("2"
                                                                        (assert)
                                                                        (("2"
                                                                          (replace
                                                                           -21
                                                                           1
                                                                           :dir
                                                                           rl)
                                                                          (("2"
                                                                            (assert)
                                                                            nil
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil))
                                                        nil)
                                                       ("2"
                                                        (replace
                                                         -18
                                                         -6)
                                                        (("2"
                                                          (assert)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (overlapping_injected_edge_p2_is_MOP 0
  (overlapping_injected_edge_p2_is_MOP-1 nil 3874129019
   ("" (auto-rewrite "sets.member")
    (("" (skeep*)
      (("" (typepred "inject_vertices_into_polygon(A, B)`1")
        (("" (typepred "inject_vertices_into_polygon(A, B)`2")
          (("" (expand "inject_post_condition?")
            (("" (replace -5 :dir rl)
              (("" (assert)
                ((""
                  (name-replace*
                   ("IVA" "injected_vertices(A, B, A`num_vertices)"
                    "IVB" "injected_vertices(B, A, B`num_vertices)"))
                  (("" (lemma "injected_edge_subsegment_of_original")
                    (("" (inst-cp - "A" "B" "s")
                      (("" (inst - "B" "A" "e")
                        (("" (assert)
                          (("" (skeep* - t)
                            (("" (expand "edge_of_polygon?")
                              ((""
                                (skeep* - t)
                                ((""
                                  (lemma
                                   "overlapping_subsegments_and_segments")
                                  ((""
                                    (inst
                                     -
                                     "s"
                                     "e"
                                     "edges_of_polygon(A)(j!1)"
                                     "edges_of_polygon(B)(j)")
                                    ((""
                                      (assert)
                                      ((""
                                        (expand "subsegment?")
                                        ((""
                                          (flatten)
                                          ((""
                                            (lemma
                                             "injected_edge_p1_neq_original_p2")
                                            ((""
                                              (inst
                                               -
                                               "A"
                                               "B"
                                               "Am"
                                               "IVA"
                                               "j!1"
                                               "i"
                                               "edges_of_polygon(A)(j!1)"
                                               "s")
                                              ((""
                                                (lemma
                                                 "injected_edge_p2_neq_original_p1")
                                                ((""
                                                  (inst
                                                   -
                                                   "A"
                                                   "B"
                                                   "Am"
                                                   "IVA"
                                                   "j!1"
                                                   "i"
                                                   "edges_of_polygon(A)(j!1)"
                                                   "s")
                                                  ((""
                                                    (assert)
                                                    ((""
                                                      (replace
                                                       -17
                                                       :dir
                                                       rl)
                                                      ((""
                                                        (case
                                                         "i < IVA`length")
                                                        (("1"
                                                          (assert)
                                                          (("1"
                                                            (flatten)
                                                            (("1"
                                                              (name-replace*
                                                               ("ss"
                                                                "edges_of_polygon(A)(j!1)"
                                                                "ee"
                                                                "edges_of_polygon(B)(j)"))
                                                              (("1"
                                                                (lemma
                                                                 "injected_vertex_on_edge_index_bounds")
                                                                (("1"
                                                                  (inst
                                                                   -
                                                                   "A"
                                                                   "B"
                                                                   "j!1"
                                                                   "i"
                                                                   "A`num_vertices"
                                                                   "s`p1")
                                                                  (("1"
                                                                    (expand
                                                                     "edges_of_polygon"
                                                                     (-21
                                                                      -22))
                                                                    (("1"
                                                                      (assert)
                                                                      (("1"
                                                                        (case
                                                                         "s`p1 = injected_vertices(A, B, A`num_vertices)`seq(i)")
                                                                        (("1"
                                                                          (assert)
                                                                          (("1"
                                                                            (flatten)
                                                                            (("1"
                                                                              (copy
                                                                               -3)
                                                                              (("1"
                                                                                (expand
                                                                                 "injected_vertices"
                                                                                 -1)
                                                                                (("1"
                                                                                  (expand
                                                                                   "o")
                                                                                  (("1"
                                                                                    (name-replace*
                                                                                     ("Q"
                                                                                      "injected_edge_seq(edges_of_polygon(A)(j!1),
                                            injected_edge(edges_of_polygon(A)(j!1), B))"
                                                                                      "L"
                                                                                      "injected_vertices(A, B, j!1)`length"))
                                                                                    (("1"
                                                                                      (lemma
                                                                                       "injected_edge_has_same_dir_as_original")
                                                                                      (("1"
                                                                                        (inst
                                                                                         -
                                                                                         "A"
                                                                                         "B"
                                                                                         "Am"
                                                                                         "IVA"
                                                                                         "j!1"
                                                                                         "i"
                                                                                         "ss"
                                                                                         "s")
                                                                                        (("1"
                                                                                          (assert)
                                                                                          (("1"
                                                                                            (replace
                                                                                             -25
                                                                                             :dir
                                                                                             rl)
                                                                                            (("1"
                                                                                              (case-replace
                                                                                               "edges_of_polygon(Am)(i) = s")
                                                                                              (("1"
                                                                                                (case
                                                                                                 "Q`length + L <= IVA`length")
                                                                                                (("1"
                                                                                                  (name-replace*
                                                                                                   ("s_mop"
                                                                                                    "max_overlap_point(s, e)"
                                                                                                    "A_mop"
                                                                                                    "max_overlap_point(ss, ee)"))
                                                                                                  (("1"
                                                                                                    (case
                                                                                                     "point_on_segment?(s_mop, s) and point_on_segment?(s_mop, ss)")
                                                                                                    (("1"
                                                                                                      (flatten)
                                                                                                      (("1"
                                                                                                        (typepred
                                                                                                         "Q")
                                                                                                        (("1"
                                                                                                          (replace
                                                                                                           -19)
                                                                                                          (("1"
                                                                                                            (case
                                                                                                             "injected_edge(ss, B)(s_mop)")
                                                                                                            (("1"
                                                                                                              (inst-cp
                                                                                                               -3
                                                                                                               "s_mop")
                                                                                                              (("1"
                                                                                                                (skeep
                                                                                                                 -
                                                                                                                 t)
                                                                                                                (("1"
                                                                                                                  (lemma
                                                                                                                   "injected_edge_seq_elements_eq")
                                                                                                                  (("1"
                                                                                                                    (inst
                                                                                                                     -
                                                                                                                     "A"
                                                                                                                     "B"
                                                                                                                     "j!1"
                                                                                                                     "i")
                                                                                                                    (("1"
                                                                                                                      (assert)
                                                                                                                      (("1"
                                                                                                                        (replace
                                                                                                                         -23)
                                                                                                                        (("1"
                                                                                                                          (replace
                                                                                                                           -17)
                                                                                                                          (("1"
                                                                                                                            (replace
                                                                                                                             -35)
                                                                                                                            (("1"
                                                                                                                              (replace
                                                                                                                               -16)
                                                                                                                              (("1"
                                                                                                                                (case
                                                                                                                                 "norm(Q`seq(i-L) - ss`p1) < norm(Q`seq(i!2) - ss`p1)")
                                                                                                                                (("1"
                                                                                                                                  (case
                                                                                                                                   "i + 1 = Q`length + L")
                                                                                                                                  (("1"
                                                                                                                                    (case
                                                                                                                                     "i!2 < i-L")
                                                                                                                                    (("1"
                                                                                                                                      (inst
                                                                                                                                       -11
                                                                                                                                       "i-L"
                                                                                                                                       "i!2")
                                                                                                                                      (("1"
                                                                                                                                        (assert)
                                                                                                                                        nil
                                                                                                                                        nil))
                                                                                                                                      nil)
                                                                                                                                     ("2"
                                                                                                                                      (assert)
                                                                                                                                      nil
                                                                                                                                      nil))
                                                                                                                                    nil)
                                                                                                                                   ("2"
                                                                                                                                    (lemma
                                                                                                                                     "injected_edge_seq_elements_eq")
                                                                                                                                    (("2"
                                                                                                                                      (inst
                                                                                                                                       -
                                                                                                                                       "A"
                                                                                                                                       "B"
                                                                                                                                       "j!1"
                                                                                                                                       "i+1")
                                                                                                                                      (("2"
                                                                                                                                        (assert)
                                                                                                                                        (("2"
                                                                                                                                          (assert)
                                                                                                                                          (("2"
                                                                                                                                            (replace
                                                                                                                                             -18)
                                                                                                                                            (("2"
                                                                                                                                              (replace
                                                                                                                                               -37)
                                                                                                                                              (("2"
                                                                                                                                                (replace
                                                                                                                                                 -25)
                                                                                                                                                (("2"
                                                                                                                                                  (replace
                                                                                                                                                   -19)
                                                                                                                                                  (("2"
                                                                                                                                                    (case
                                                                                                                                                     "norm(Q`seq(i!2) - ss`p1) < norm(Q`seq(i+1 - L) - ss`p1)")
                                                                                                                                                    (("1"
                                                                                                                                                      (case
                                                                                                                                                       "i!2 < i-L")
                                                                                                                                                      (("1"
                                                                                                                                                        (inst
                                                                                                                                                         -12
                                                                                                                                                         "i-L"
                                                                                                                                                         "i!2")
                                                                                                                                                        (("1"
                                                                                                                                                          (assert)
                                                                                                                                                          nil
                                                                                                                                                          nil))
                                                                                                                                                        nil)
                                                                                                                                                       ("2"
                                                                                                                                                        (case
                                                                                                                                                         "i+1-L < i!2")
                                                                                                                                                        (("1"
                                                                                                                                                          (inst
                                                                                                                                                           -12
                                                                                                                                                           "i!2"
                                                                                                                                                           "i+1-L")
                                                                                                                                                          (("1"
                                                                                                                                                            (assert)
                                                                                                                                                            nil
                                                                                                                                                            nil)
                                                                                                                                                           ("2"
                                                                                                                                                            (assert)
                                                                                                                                                            nil
                                                                                                                                                            nil))
                                                                                                                                                          nil)
                                                                                                                                                         ("2"
                                                                                                                                                          (assert)
                                                                                                                                                          nil
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil)
                                                                                                                                                     ("2"
                                                                                                                                                      (case-replace
                                                                                                                                                       "Q`seq(i + 1 - L) = s`p2")
                                                                                                                                                      (("1"
                                                                                                                                                        (replace
                                                                                                                                                         -9
                                                                                                                                                         :dir
                                                                                                                                                         rl)
                                                                                                                                                        (("1"
                                                                                                                                                          (hide-all-but
                                                                                                                                                           (-12
                                                                                                                                                            -13
                                                                                                                                                            -18
                                                                                                                                                            -35
                                                                                                                                                            -36
                                                                                                                                                            1
                                                                                                                                                            5))
                                                                                                                                                          (("1"
                                                                                                                                                            (lemma
                                                                                                                                                             "segment_far_endpoint_length")
                                                                                                                                                            (("1"
                                                                                                                                                              (inst
                                                                                                                                                               -
                                                                                                                                                               "s")
                                                                                                                                                              (("1"
                                                                                                                                                                (rewrite*
                                                                                                                                                                 "point_on_segment_has_norm_offset")
                                                                                                                                                                (("1"
                                                                                                                                                                  (skeep*)
                                                                                                                                                                  (("1"
                                                                                                                                                                    (replace
                                                                                                                                                                     -1
                                                                                                                                                                     1)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (replace
                                                                                                                                                                       -2
                                                                                                                                                                       1)
                                                                                                                                                                      (("1"
                                                                                                                                                                        (replace
                                                                                                                                                                         -6
                                                                                                                                                                         :dir
                                                                                                                                                                         rl)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (replace
                                                                                                                                                                           -7
                                                                                                                                                                           1)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (assert)
                                                                                                                                                                            (("1"
                                                                                                                                                                              (factor!
                                                                                                                                                                               (!
                                                                                                                                                                                1
                                                                                                                                                                                *
                                                                                                                                                                                1))
                                                                                                                                                                              (("1"
                                                                                                                                                                                (assert)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (expand
                                                                                                                                                                                   "abs")
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (case-replace
                                                                                                                                                                                     "d = length(s)")
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (assert)
                                                                                                                                                                                      nil
                                                                                                                                                                                      nil)
                                                                                                                                                                                     ("2"
                                                                                                                                                                                      (assert)
                                                                                                                                                                                      nil
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil)
                                                                                                                                                       ("2"
                                                                                                                                                        (expand
                                                                                                                                                         "next_index"
                                                                                                                                                         -43)
                                                                                                                                                        (("2"
                                                                                                                                                          (lift-if)
                                                                                                                                                          (("2"
                                                                                                                                                            (assert)
                                                                                                                                                            (("2"
                                                                                                                                                              (replace
                                                                                                                                                               -41)
                                                                                                                                                              (("2"
                                                                                                                                                                (assert)
                                                                                                                                                                nil
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil))
                                                                                                                                    nil))
                                                                                                                                  nil)
                                                                                                                                 ("2"
                                                                                                                                  (replace
                                                                                                                                   -6
                                                                                                                                   1
                                                                                                                                   :dir
                                                                                                                                   rl)
                                                                                                                                  (("2"
                                                                                                                                    (replace
                                                                                                                                     -1
                                                                                                                                     1
                                                                                                                                     :dir
                                                                                                                                     rl)
                                                                                                                                    (("2"
                                                                                                                                      (replace
                                                                                                                                       -19
                                                                                                                                       1
                                                                                                                                       :dir
                                                                                                                                       rl)
                                                                                                                                      (("2"
                                                                                                                                        (rewrite
                                                                                                                                         "point_on_segment_has_norm_offset"
                                                                                                                                         -9)
                                                                                                                                        (("2"
                                                                                                                                          (skeep)
                                                                                                                                          (("2"
                                                                                                                                            (replace
                                                                                                                                             -9
                                                                                                                                             1)
                                                                                                                                            (("2"
                                                                                                                                              (rewrite
                                                                                                                                               "point_on_segment_has_norm_offset"
                                                                                                                                               -33)
                                                                                                                                              (("2"
                                                                                                                                                (skeep)
                                                                                                                                                (("2"
                                                                                                                                                  (replace
                                                                                                                                                   -16
                                                                                                                                                   1
                                                                                                                                                   :dir
                                                                                                                                                   rl)
                                                                                                                                                  (("2"
                                                                                                                                                    (replace
                                                                                                                                                     -33
                                                                                                                                                     1)
                                                                                                                                                    (("2"
                                                                                                                                                      (assert)
                                                                                                                                                      (("2"
                                                                                                                                                        (factor!
                                                                                                                                                         (!
                                                                                                                                                          1
                                                                                                                                                          r
                                                                                                                                                          1))
                                                                                                                                                        (("2"
                                                                                                                                                          (assert)
                                                                                                                                                          (("2"
                                                                                                                                                            (expand
                                                                                                                                                             "abs")
                                                                                                                                                            (("2"
                                                                                                                                                              (lemma
                                                                                                                                                               "max_overlap_point_neq_p1")
                                                                                                                                                              (("2"
                                                                                                                                                                (inst
                                                                                                                                                                 -
                                                                                                                                                                 "s"
                                                                                                                                                                 "e")
                                                                                                                                                                (("2"
                                                                                                                                                                  (flatten)
                                                                                                                                                                  (("2"
                                                                                                                                                                    (case-replace
                                                                                                                                                                     "d=0")
                                                                                                                                                                    (("1"
                                                                                                                                                                      (assert)
                                                                                                                                                                      nil
                                                                                                                                                                      nil)
                                                                                                                                                                     ("2"
                                                                                                                                                                      (assert)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil))
                                                                                                                                    nil))
                                                                                                                                  nil))
                                                                                                                                nil))
                                                                                                                              nil))
                                                                                                                            nil))
                                                                                                                          nil))
                                                                                                                        nil))
                                                                                                                      nil))
                                                                                                                    nil))
                                                                                                                  nil))
                                                                                                                nil)
                                                                                                               ("2"
                                                                                                                (assert)
                                                                                                                nil
                                                                                                                nil))
                                                                                                              nil)
                                                                                                             ("2"
                                                                                                              (copy
                                                                                                               -8)
                                                                                                              (("2"
                                                                                                                (use
                                                                                                                 "inject_vertices_into_polygon_comm")
                                                                                                                (("2"
                                                                                                                  (lemma
                                                                                                                   "merge_pre_condition_symmetric")
                                                                                                                  (("2"
                                                                                                                    (inst
                                                                                                                     -
                                                                                                                     "A"
                                                                                                                     "B")
                                                                                                                    (("2"
                                                                                                                      (assert)
                                                                                                                      (("2"
                                                                                                                        (lemma
                                                                                                                         "injected_edge_has_same_dir_as_original")
                                                                                                                        (("2"
                                                                                                                          (inst
                                                                                                                           -
                                                                                                                           "B"
                                                                                                                           "A"
                                                                                                                           "Bm"
                                                                                                                           "IVB"
                                                                                                                           "j"
                                                                                                                           "i!1"
                                                                                                                           "ee"
                                                                                                                           "e")
                                                                                                                          (("2"
                                                                                                                            (ground)
                                                                                                                            (("1"
                                                                                                                              (expand
                                                                                                                               "max_overlap_point"
                                                                                                                               -4)
                                                                                                                              (("1"
                                                                                                                                (lift-if)
                                                                                                                                (("1"
                                                                                                                                  (ground)
                                                                                                                                  (("1"
                                                                                                                                    (replace
                                                                                                                                     -2
                                                                                                                                     :dir
                                                                                                                                     rl)
                                                                                                                                    (("1"
                                                                                                                                      (case
                                                                                                                                       "e`p2 /= ee`p1 and point_on_segment?(e`p2, ss)")
                                                                                                                                      (("1"
                                                                                                                                        (flatten)
                                                                                                                                        (("1"
                                                                                                                                          (expand
                                                                                                                                           "injected_edge"
                                                                                                                                           3)
                                                                                                                                          (("1"
                                                                                                                                            (ground)
                                                                                                                                            (("1"
                                                                                                                                              (lemma
                                                                                                                                               "subsegment_max_overlap_point_eq_p2")
                                                                                                                                              (("1"
                                                                                                                                                (inst
                                                                                                                                                 -
                                                                                                                                                 "s"
                                                                                                                                                 "e"
                                                                                                                                                 "ss")
                                                                                                                                                (("1"
                                                                                                                                                  (assert)
                                                                                                                                                  nil
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil)
                                                                                                                                             ("2"
                                                                                                                                              (inst
                                                                                                                                               +
                                                                                                                                               "ee")
                                                                                                                                              (("1"
                                                                                                                                                (ground)
                                                                                                                                                (("1"
                                                                                                                                                  (case
                                                                                                                                                   "e`p2 = ee`p2")
                                                                                                                                                  (("1"
                                                                                                                                                    (lemma
                                                                                                                                                     "subsegment_max_overlap_points_eq")
                                                                                                                                                    (("1"
                                                                                                                                                      (inst
                                                                                                                                                       -
                                                                                                                                                       "e"
                                                                                                                                                       "s"
                                                                                                                                                       "ee"
                                                                                                                                                       "ss")
                                                                                                                                                      (("1"
                                                                                                                                                        (ground)
                                                                                                                                                        (("1"
                                                                                                                                                          (rewrite
                                                                                                                                                           "max_overlap_point_symm"
                                                                                                                                                           -1)
                                                                                                                                                          nil
                                                                                                                                                          nil)
                                                                                                                                                         ("2"
                                                                                                                                                          (rewrite
                                                                                                                                                           "max_overlap_point_symm"
                                                                                                                                                           1)
                                                                                                                                                          (("2"
                                                                                                                                                            (assert)
                                                                                                                                                            nil
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil)
                                                                                                                                                       ("2"
                                                                                                                                                        (rewrite
                                                                                                                                                         "are_segments_overlapping_symm"
                                                                                                                                                         1)
                                                                                                                                                        nil
                                                                                                                                                        nil)
                                                                                                                                                       ("3"
                                                                                                                                                        (rewrite
                                                                                                                                                         "are_segments_overlapping_symm"
                                                                                                                                                         1)
                                                                                                                                                        nil
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil)
                                                                                                                                                   ("2"
                                                                                                                                                    (case
                                                                                                                                                     "injected_edge(ee,A)(e`p2)")
                                                                                                                                                    (("1"
                                                                                                                                                      (expand
                                                                                                                                                       "injected_edge"
                                                                                                                                                       -1)
                                                                                                                                                      (("1"
                                                                                                                                                        (assert)
                                                                                                                                                        (("1"
                                                                                                                                                          (skeep
                                                                                                                                                           -
                                                                                                                                                           t)
                                                                                                                                                          (("1"
                                                                                                                                                            (split
                                                                                                                                                             -2)
                                                                                                                                                            (("1"
                                                                                                                                                              (flatten)
                                                                                                                                                              (("1"
                                                                                                                                                                (case-replace
                                                                                                                                                                 "s!1 = ss")
                                                                                                                                                                (("1"
                                                                                                                                                                  (rewrite
                                                                                                                                                                   "min_overlap_point_symm"
                                                                                                                                                                   +)
                                                                                                                                                                  (("1"
                                                                                                                                                                    (rewrite
                                                                                                                                                                     "max_overlap_point_symm"
                                                                                                                                                                     +)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (assert)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil)
                                                                                                                                                                 ("2"
                                                                                                                                                                  (lemma
                                                                                                                                                                   "same_polygon_edge_overlaps_equal")
                                                                                                                                                                  (("2"
                                                                                                                                                                    (inst
                                                                                                                                                                     -
                                                                                                                                                                     "A"
                                                                                                                                                                     "ss"
                                                                                                                                                                     "s!1")
                                                                                                                                                                    (("2"
                                                                                                                                                                      (assert)
                                                                                                                                                                      (("2"
                                                                                                                                                                        (split
                                                                                                                                                                         1)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (lemma
                                                                                                                                                                           "are_segments_overlapping_trans")
                                                                                                                                                                          (("1"
                                                                                                                                                                            (inst
                                                                                                                                                                             -
                                                                                                                                                                             "ss"
                                                                                                                                                                             "ee"
                                                                                                                                                                             "s!1"
                                                                                                                                                                             "e`p2")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (assert)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (expand
                                                                                                                                                                                 "segment_endpoint?")
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (split
                                                                                                                                                                                   1)
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (hide-all-but
                                                                                                                                                                                     (-1
                                                                                                                                                                                      -2
                                                                                                                                                                                      1))
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (use
                                                                                                                                                                                       "min_overlap_point_props")
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (use
                                                                                                                                                                                         "max_overlap_point_props")
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (assert)
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (ground)
                                                                                                                                                                                            nil
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil)
                                                                                                                                                                                   ("2"
                                                                                                                                                                                    (lemma
                                                                                                                                                                                     "subsegment_max_overlap_point_eq_p2")
                                                                                                                                                                                    (("2"
                                                                                                                                                                                      (inst
                                                                                                                                                                                       -
                                                                                                                                                                                       "s"
                                                                                                                                                                                       "e"
                                                                                                                                                                                       "ss")
                                                                                                                                                                                      (("2"
                                                                                                                                                                                        (assert)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil)
                                                                                                                                                                         ("2"
                                                                                                                                                                          (expand
                                                                                                                                                                           "edge_of_polygon?")
                                                                                                                                                                          (("2"
                                                                                                                                                                            (inst?
                                                                                                                                                                             +)
                                                                                                                                                                            nil
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil)
                                                                                                                                                             ("2"
                                                                                                                                                              (flatten)
                                                                                                                                                              (("2"
                                                                                                                                                                (expand
                                                                                                                                                                 "edge_of_polygon?")
                                                                                                                                                                (("2"
                                                                                                                                                                  (skeep
                                                                                                                                                                   -
                                                                                                                                                                   t)
                                                                                                                                                                  (("2"
                                                                                                                                                                    (case
                                                                                                                                                                     "j!1 < i!2")
                                                                                                                                                                    (("1"
                                                                                                                                                                      (lemma
                                                                                                                                                                       "points_on_distinct_edges_differ")
                                                                                                                                                                      (("1"
                                                                                                                                                                        (inst
                                                                                                                                                                         -
                                                                                                                                                                         "e`p2"
                                                                                                                                                                         "A"
                                                                                                                                                                         "j!1"
                                                                                                                                                                         "i!2")
                                                                                                                                                                        (("1"
                                                                                                                                                                          (ground)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (lemma
                                                                                                                                                                             "subsegment_max_overlap_point_eq_p2")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (inst
                                                                                                                                                                               -
                                                                                                                                                                               "s"
                                                                                                                                                                               "e"
                                                                                                                                                                               "ss")
                                                                                                                                                                              (("1"
                                                                                                                                                                                (assert)
                                                                                                                                                                                nil
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil)
                                                                                                                                                                           ("2"
                                                                                                                                                                            (replace
                                                                                                                                                                             -1)
                                                                                                                                                                            (("2"
                                                                                                                                                                              (expand
                                                                                                                                                                               "edges_of_polygon"
                                                                                                                                                                               -3)
                                                                                                                                                                              (("2"
                                                                                                                                                                                (expand
                                                                                                                                                                                 "next_index"
                                                                                                                                                                                 -3)
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (expand
                                                                                                                                                                                   "edges_of_polygon"
                                                                                                                                                                                   -33)
                                                                                                                                                                                  (("2"
                                                                                                                                                                                    (assert)
                                                                                                                                                                                    nil
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil)
                                                                                                                                                                     ("2"
                                                                                                                                                                      (case-replace
                                                                                                                                                                       "i!2 = j!1")
                                                                                                                                                                      (("1"
                                                                                                                                                                        (rewrite
                                                                                                                                                                         "are_segments_overlapping_symm"
                                                                                                                                                                         2)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (assert)
                                                                                                                                                                          nil
                                                                                                                                                                          nil))
                                                                                                                                                                        nil)
                                                                                                                                                                       ("2"
                                                                                                                                                                        (lemma
                                                                                                                                                                         "points_on_distinct_edges_differ")
                                                                                                                                                                        (("2"
                                                                                                                                                                          (inst
                                                                                                                                                                           -
                                                                                                                                                                           "e`p2"
                                                                                                                                                                           "A"
                                                                                                                                                                           "i!2"
                                                                                                                                                                           "j!1")
                                                                                                                                                                          (("2"
                                                                                                                                                                            (ground)
                                                                                                                                                                            (("1"
                                                                                                                                                                              (expand
                                                                                                                                                                               "edges_of_polygon"
                                                                                                                                                                               -2)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (expand
                                                                                                                                                                                 "next_index"
                                                                                                                                                                                 -2)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (expand
                                                                                                                                                                                   "edges_of_polygon"
                                                                                                                                                                                   -31)
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (assert)
                                                                                                                                                                                    nil
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil)
                                                                                                                                                                             ("2"
                                                                                                                                                                              (lemma
                                                                                                                                                                               "subsegment_max_overlap_point_eq_p2")
                                                                                                                                                                              (("2"
                                                                                                                                                                                (inst
                                                                                                                                                                                 -
                                                                                                                                                                                 "s"
                                                                                                                                                                                 "e"
                                                                                                                                                                                 "ss")
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (assert)
                                                                                                                                                                                  nil
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil)
                                                                                                                                                     ("2"
                                                                                                                                                      (lemma
                                                                                                                                                       "injected_vertex_on_edge_index_bounds")
                                                                                                                                                      (("2"
                                                                                                                                                        (inst
                                                                                                                                                         -
                                                                                                                                                         "B"
                                                                                                                                                         "A"
                                                                                                                                                         "j"
                                                                                                                                                         "next_index(Bm,i!1)"
                                                                                                                                                         "B`num_vertices"
                                                                                                                                                         "e`p2")
                                                                                                                                                        (("2"
                                                                                                                                                          (replace
                                                                                                                                                           -38
                                                                                                                                                           -1)
                                                                                                                                                          (("2"
                                                                                                                                                            (ground)
                                                                                                                                                            (("1"
                                                                                                                                                              (lemma
                                                                                                                                                               "point_in_injected_edge_seq_index")
                                                                                                                                                              (("1"
                                                                                                                                                                (inst
                                                                                                                                                                 -
                                                                                                                                                                 "B"
                                                                                                                                                                 "A"
                                                                                                                                                                 "injected_edge_seq(ee, injected_edge(ee, A))"
                                                                                                                                                                 "ee"
                                                                                                                                                                 "e`p2"
                                                                                                                                                                 "j"
                                                                                                                                                                 "next_index(Bm,i!1)"
                                                                                                                                                                 "injected_vertices(B, A, j)`length")
                                                                                                                                                                (("1"
                                                                                                                                                                  (ground)
                                                                                                                                                                  (("1"
                                                                                                                                                                    (skeep
                                                                                                                                                                     -
                                                                                                                                                                     t)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (typepred
                                                                                                                                                                       "injected_edge_seq(ee, injected_edge(ee, A))")
                                                                                                                                                                      (("1"
                                                                                                                                                                        (inst
                                                                                                                                                                         -3
                                                                                                                                                                         m)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (assert)
                                                                                                                                                                          nil
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil)
                                                                                                                                                                   ("2"
                                                                                                                                                                    (hide-all-but
                                                                                                                                                                     (-39
                                                                                                                                                                      -42
                                                                                                                                                                      -47
                                                                                                                                                                      1))
                                                                                                                                                                    (("2"
                                                                                                                                                                      (grind)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil)
                                                                                                                                                             ("2"
                                                                                                                                                              (expand
                                                                                                                                                               "next_index"
                                                                                                                                                               1)
                                                                                                                                                              (("2"
                                                                                                                                                                (lift-if)
                                                                                                                                                                (("2"
                                                                                                                                                                  (ground)
                                                                                                                                                                  (("2"
                                                                                                                                                                    (replace
                                                                                                                                                                     -40
                                                                                                                                                                     (-29
                                                                                                                                                                      1))
                                                                                                                                                                    (("2"
                                                                                                                                                                      (assert)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil)
                                                                                                                                                             ("3"
                                                                                                                                                              (replace
                                                                                                                                                               -40
                                                                                                                                                               -45)
                                                                                                                                                              (("3"
                                                                                                                                                                (assert)
                                                                                                                                                                (("3"
                                                                                                                                                                  (replace
                                                                                                                                                                   -40
                                                                                                                                                                   -45
                                                                                                                                                                   :dir
                                                                                                                                                                   rl)
                                                                                                                                                                  (("3"
                                                                                                                                                                    (replace
                                                                                                                                                                     -45
                                                                                                                                                                     1
                                                                                                                                                                     :dir
                                                                                                                                                                     rl)
                                                                                                                                                                    (("3"
                                                                                                                                                                      (assert)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil)
                                                                                                                                               ("2"
                                                                                                                                                (expand
                                                                                                                                                 "edge_of_polygon?")
                                                                                                                                                (("2"
                                                                                                                                                  (inst?)
                                                                                                                                                  nil
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil)
                                                                                                                                       ("2"
                                                                                                                                        (ground)
                                                                                                                                        (("2"
                                                                                                                                          (lemma
                                                                                                                                           "subsegment_max_overlap_point_neq_p1")
                                                                                                                                          (("2"
                                                                                                                                            (inst
                                                                                                                                             -
                                                                                                                                             "e"
                                                                                                                                             "s"
                                                                                                                                             "ee")
                                                                                                                                            (("1"
                                                                                                                                              (ground)
                                                                                                                                              (("1"
                                                                                                                                                (rewrite
                                                                                                                                                 "max_overlap_point_symm"
                                                                                                                                                 1)
                                                                                                                                                (("1"
                                                                                                                                                  (assert)
                                                                                                                                                  nil
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil)
                                                                                                                                             ("2"
                                                                                                                                              (rewrite
                                                                                                                                               "are_segments_overlapping_symm"
                                                                                                                                               1)
                                                                                                                                              nil
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil))
                                                                                                                                    nil)
                                                                                                                                   ("2"
                                                                                                                                    (replace
                                                                                                                                     -1
                                                                                                                                     :dir
                                                                                                                                     rl)
                                                                                                                                    (("2"
                                                                                                                                      (lemma
                                                                                                                                       "overlapping_normalized_directions")
                                                                                                                                      (("2"
                                                                                                                                        (inst
                                                                                                                                         -
                                                                                                                                         "s"
                                                                                                                                         "e")
                                                                                                                                        (("2"
                                                                                                                                          (assert)
                                                                                                                                          (("2"
                                                                                                                                            (case
                                                                                                                                             "e`p1 /= ee`p2 and point_on_segment?(e`p1, ss)")
                                                                                                                                            (("1"
                                                                                                                                              (flatten)
                                                                                                                                              (("1"
                                                                                                                                                (lemma
                                                                                                                                                 "max_overlap_point_symm")
                                                                                                                                                (("1"
                                                                                                                                                  (inst
                                                                                                                                                   -
                                                                                                                                                   "s"
                                                                                                                                                   "e")
                                                                                                                                                  (("1"
                                                                                                                                                    (assert)
                                                                                                                                                    (("1"
                                                                                                                                                      (expand
                                                                                                                                                       "injected_edge"
                                                                                                                                                       +)
                                                                                                                                                      (("1"
                                                                                                                                                        (ground)
                                                                                                                                                        (("1"
                                                                                                                                                          (lemma
                                                                                                                                                           "subsegment_max_overlap_point_eq_p2")
                                                                                                                                                          (("1"
                                                                                                                                                            (inst
                                                                                                                                                             -
                                                                                                                                                             "s"
                                                                                                                                                             "e"
                                                                                                                                                             "ss")
                                                                                                                                                            (("1"
                                                                                                                                                              (assert)
                                                                                                                                                              nil
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil)
                                                                                                                                                         ("2"
                                                                                                                                                          (inst
                                                                                                                                                           +
                                                                                                                                                           "ee")
                                                                                                                                                          (("1"
                                                                                                                                                            (ground)
                                                                                                                                                            (("1"
                                                                                                                                                              (case
                                                                                                                                                               "e`p1 = ee`p1")
                                                                                                                                                              (("1"
                                                                                                                                                                (lemma
                                                                                                                                                                 "subsegment_min_overlap_points_eq")
                                                                                                                                                                (("1"
                                                                                                                                                                  (inst
                                                                                                                                                                   -
                                                                                                                                                                   "e"
                                                                                                                                                                   "s"
                                                                                                                                                                   "ee"
                                                                                                                                                                   "ss")
                                                                                                                                                                  (("1"
                                                                                                                                                                    (ground)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (rewrite
                                                                                                                                                                       "min_overlap_point_symm"
                                                                                                                                                                       -1)
                                                                                                                                                                      nil
                                                                                                                                                                      nil))
                                                                                                                                                                    nil)
                                                                                                                                                                   ("2"
                                                                                                                                                                    (rewrite
                                                                                                                                                                     "are_segments_overlapping_symm"
                                                                                                                                                                     1)
                                                                                                                                                                    nil
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil)
                                                                                                                                                               ("2"
                                                                                                                                                                (case
                                                                                                                                                                 "injected_edge(ee,A)(e`p1)")
                                                                                                                                                                (("1"
                                                                                                                                                                  (expand
                                                                                                                                                                   "injected_edge"
                                                                                                                                                                   -1)
                                                                                                                                                                  (("1"
                                                                                                                                                                    (assert)
                                                                                                                                                                    (("1"
                                                                                                                                                                      (skeep
                                                                                                                                                                       -
                                                                                                                                                                       t)
                                                                                                                                                                      (("1"
                                                                                                                                                                        (split
                                                                                                                                                                         -2)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (flatten)
                                                                                                                                                                          (("1"
                                                                                                                                                                            (case-replace
                                                                                                                                                                             "s!1 = ss")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (rewrite
                                                                                                                                                                               "min_overlap_point_symm"
                                                                                                                                                                               +)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (rewrite
                                                                                                                                                                                 "max_overlap_point_symm"
                                                                                                                                                                                 3)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (assert)
                                                                                                                                                                                  nil
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil)
                                                                                                                                                                             ("2"
                                                                                                                                                                              (lemma
                                                                                                                                                                               "same_polygon_edge_overlaps_equal")
                                                                                                                                                                              (("2"
                                                                                                                                                                                (inst
                                                                                                                                                                                 -
                                                                                                                                                                                 "A"
                                                                                                                                                                                 "ss"
                                                                                                                                                                                 "s!1")
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (assert)
                                                                                                                                                                                  (("2"
                                                                                                                                                                                    (split
                                                                                                                                                                                     1)
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (lemma
                                                                                                                                                                                       "are_segments_overlapping_trans")
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (inst
                                                                                                                                                                                         -
                                                                                                                                                                                         "ss"
                                                                                                                                                                                         "ee"
                                                                                                                                                                                         "s!1"
                                                                                                                                                                                         "e`p1")
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (assert)
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (expand
                                                                                                                                                                                             "segment_endpoint?")
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (split
                                                                                                                                                                                               1)
                                                                                                                                                                                              (("1"
                                                                                                                                                                                                (hide-all-but
                                                                                                                                                                                                 (-1
                                                                                                                                                                                                  -2
                                                                                                                                                                                                  1))
                                                                                                                                                                                                (("1"
                                                                                                                                                                                                  (use
                                                                                                                                                                                                   "min_overlap_point_props")
                                                                                                                                                                                                  (("1"
                                                                                                                                                                                                    (use
                                                                                                                                                                                                     "max_overlap_point_props")
                                                                                                                                                                                                    (("1"
                                                                                                                                                                                                      (assert)
                                                                                                                                                                                                      (("1"
                                                                                                                                                                                                        (ground)
                                                                                                                                                                                                        nil
                                                                                                                                                                                                        nil))
                                                                                                                                                                                                      nil))
                                                                                                                                                                                                    nil))
                                                                                                                                                                                                  nil))
                                                                                                                                                                                                nil)
                                                                                                                                                                                               ("2"
                                                                                                                                                                                                (lemma
                                                                                                                                                                                                 "subsegment_max_overlap_point_eq_p2")
                                                                                                                                                                                                (("2"
                                                                                                                                                                                                  (inst
                                                                                                                                                                                                   -
                                                                                                                                                                                                   "s"
                                                                                                                                                                                                   "e"
                                                                                                                                                                                                   "ss")
                                                                                                                                                                                                  (("2"
                                                                                                                                                                                                    (assert)
                                                                                                                                                                                                    nil
                                                                                                                                                                                                    nil))
                                                                                                                                                                                                  nil))
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil)
                                                                                                                                                                                     ("2"
                                                                                                                                                                                      (expand
                                                                                                                                                                                       "edge_of_polygon?")
                                                                                                                                                                                      (("2"
                                                                                                                                                                                        (inst?)
                                                                                                                                                                                        nil
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil)
                                                                                                                                                                         ("2"
                                                                                                                                                                          (flatten)
                                                                                                                                                                          (("2"
                                                                                                                                                                            (expand
                                                                                                                                                                             "edge_of_polygon?")
                                                                                                                                                                            (("2"
                                                                                                                                                                              (skeep
                                                                                                                                                                               -
                                                                                                                                                                               t)
                                                                                                                                                                              (("2"
                                                                                                                                                                                (case
                                                                                                                                                                                 "j!1 < i!2")
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (lemma
                                                                                                                                                                                   "points_on_distinct_edges_differ")
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (inst
                                                                                                                                                                                     -
                                                                                                                                                                                     "e`p1"
                                                                                                                                                                                     "A"
                                                                                                                                                                                     "j!1"
                                                                                                                                                                                     "i!2")
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (ground)
                                                                                                                                                                                      (("1"
                                                                                                                                                                                        (lemma
                                                                                                                                                                                         "subsegment_max_overlap_point_eq_p2")
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (inst
                                                                                                                                                                                           -
                                                                                                                                                                                           "s"
                                                                                                                                                                                           "e"
                                                                                                                                                                                           "ss")
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (assert)
                                                                                                                                                                                            nil
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil)
                                                                                                                                                                                       ("2"
                                                                                                                                                                                        (replace
                                                                                                                                                                                         -1)
                                                                                                                                                                                        (("2"
                                                                                                                                                                                          (expand
                                                                                                                                                                                           "edges_of_polygon"
                                                                                                                                                                                           -3)
                                                                                                                                                                                          (("2"
                                                                                                                                                                                            (expand
                                                                                                                                                                                             "next_index"
                                                                                                                                                                                             -3)
                                                                                                                                                                                            (("2"
                                                                                                                                                                                              (expand
                                                                                                                                                                                               "edges_of_polygon"
                                                                                                                                                                                               -34)
                                                                                                                                                                                              (("2"
                                                                                                                                                                                                (assert)
                                                                                                                                                                                                nil
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil)
                                                                                                                                                                                 ("2"
                                                                                                                                                                                  (case-replace
                                                                                                                                                                                   "i!2 = j!1")
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (rewrite
                                                                                                                                                                                     "are_segments_overlapping_symm"
                                                                                                                                                                                     2)
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (assert)
                                                                                                                                                                                      nil
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil)
                                                                                                                                                                                   ("2"
                                                                                                                                                                                    (lemma
                                                                                                                                                                                     "points_on_distinct_edges_differ")
                                                                                                                                                                                    (("2"
                                                                                                                                                                                      (inst
                                                                                                                                                                                       -
                                                                                                                                                                                       "e`p1"
                                                                                                                                                                                       "A"
                                                                                                                                                                                       "i!2"
                                                                                                                                                                                       "j!1")
                                                                                                                                                                                      (("2"
                                                                                                                                                                                        (ground)
                                                                                                                                                                                        (("1"
                                                                                                                                                                                          (expand
                                                                                                                                                                                           "edges_of_polygon"
                                                                                                                                                                                           -2)
                                                                                                                                                                                          (("1"
                                                                                                                                                                                            (expand
                                                                                                                                                                                             "next_index"
                                                                                                                                                                                             -2)
                                                                                                                                                                                            (("1"
                                                                                                                                                                                              (expand
                                                                                                                                                                                               "edges_of_polygon"
                                                                                                                                                                                               -32)
                                                                                                                                                                                              (("1"
                                                                                                                                                                                                (assert)
                                                                                                                                                                                                nil
                                                                                                                                                                                                nil))
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil)
                                                                                                                                                                                         ("2"
                                                                                                                                                                                          (lemma
                                                                                                                                                                                           "subsegment_max_overlap_point_eq_p2")
                                                                                                                                                                                          (("2"
                                                                                                                                                                                            (inst
                                                                                                                                                                                             -
                                                                                                                                                                                             "s"
                                                                                                                                                                                             "e"
                                                                                                                                                                                             "ss")
                                                                                                                                                                                            (("2"
                                                                                                                                                                                              (assert)
                                                                                                                                                                                              nil
                                                                                                                                                                                              nil))
                                                                                                                                                                                            nil))
                                                                                                                                                                                          nil))
                                                                                                                                                                                        nil))
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil)
                                                                                                                                                                 ("2"
                                                                                                                                                                  (lemma
                                                                                                                                                                   "injected_vertex_on_edge_index_bounds")
                                                                                                                                                                  (("2"
                                                                                                                                                                    (inst
                                                                                                                                                                     -
                                                                                                                                                                     "B"
                                                                                                                                                                     "A"
                                                                                                                                                                     "j"
                                                                                                                                                                     "i!1"
                                                                                                                                                                     "B`num_vertices"
                                                                                                                                                                     "e`p1")
                                                                                                                                                                    (("2"
                                                                                                                                                                      (replace
                                                                                                                                                                       -39
                                                                                                                                                                       -1)
                                                                                                                                                                      (("2"
                                                                                                                                                                        (ground)
                                                                                                                                                                        (("1"
                                                                                                                                                                          (lemma
                                                                                                                                                                           "point_in_injected_edge_seq_index")
                                                                                                                                                                          (("1"
                                                                                                                                                                            (inst
                                                                                                                                                                             -
                                                                                                                                                                             "B"
                                                                                                                                                                             "A"
                                                                                                                                                                             "injected_edge_seq(ee, injected_edge(ee, A))"
                                                                                                                                                                             "ee"
                                                                                                                                                                             "e`p1"
                                                                                                                                                                             "j"
                                                                                                                                                                             "i!1"
                                                                                                                                                                             "injected_vertices(B, A, j)`length")
                                                                                                                                                                            (("1"
                                                                                                                                                                              (ground)
                                                                                                                                                                              (("1"
                                                                                                                                                                                (skeep
                                                                                                                                                                                 -
                                                                                                                                                                                 t)
                                                                                                                                                                                (("1"
                                                                                                                                                                                  (typepred
                                                                                                                                                                                   "injected_edge_seq(ee, injected_edge(ee, A))")
                                                                                                                                                                                  (("1"
                                                                                                                                                                                    (inst
                                                                                                                                                                                     -3
                                                                                                                                                                                     "m")
                                                                                                                                                                                    (("1"
                                                                                                                                                                                      (assert)
                                                                                                                                                                                      nil
                                                                                                                                                                                      nil))
                                                                                                                                                                                    nil))
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil)
                                                                                                                                                                               ("2"
                                                                                                                                                                                (hide-all-but
                                                                                                                                                                                 (-40
                                                                                                                                                                                  -43
                                                                                                                                                                                  -48
                                                                                                                                                                                  1))
                                                                                                                                                                                (("2"
                                                                                                                                                                                  (grind)
                                                                                                                                                                                  nil
                                                                                                                                                                                  nil))
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil)
                                                                                                                                                                         ("2"
                                                                                                                                                                          (replace
                                                                                                                                                                           -41
                                                                                                                                                                           -30)
                                                                                                                                                                          (("2"
                                                                                                                                                                            (assert)
                                                                                                                                                                            nil
                                                                                                                                                                            nil))
                                                                                                                                                                          nil)
                                                                                                                                                                         ("3"
                                                                                                                                                                          (replace
                                                                                                                                                                           -41
                                                                                                                                                                           -46)
                                                                                                                                                                          (("3"
                                                                                                                                                                            (assert)
                                                                                                                                                                            (("3"
                                                                                                                                                                              (replace
                                                                                                                                                                               -46
                                                                                                                                                                               1
                                                                                                                                                                               :dir
                                                                                                                                                                               rl)
                                                                                                                                                                              (("3"
                                                                                                                                                                                (assert)
                                                                                                                                                                                nil
                                                                                                                                                                                nil))
                                                                                                                                                                              nil))
                                                                                                                                                                            nil))
                                                                                                                                                                          nil))
                                                                                                                                                                        nil))
                                                                                                                                                                      nil))
                                                                                                                                                                    nil))
                                                                                                                                                                  nil))
                                                                                                                                                                nil))
                                                                                                                                                              nil))
                                                                                                                                                            nil)
                                                                                                                                                           ("2"
                                                                                                                                                            (expand
                                                                                                                                                             "edge_of_polygon?")
                                                                                                                                                            (("2"
                                                                                                                                                              (inst?
                                                                                                                                                               +)
                                                                                                                                                              nil
                                                                                                                                                              nil))
                                                                                                                                                            nil))
                                                                                                                                                          nil))
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil)
                                                                                                                                             ("2"
                                                                                                                                              (ground)
                                                                                                                                              (("2"
                                                                                                                                                (lemma
                                                                                                                                                 "subsegment_min_overlap_point_neq_p2")
                                                                                                                                                (("2"
                                                                                                                                                  (inst
                                                                                                                                                   -
                                                                                                                                                   "e"
                                                                                                                                                   "s"
                                                                                                                                                   "ee")
                                                                                                                                                  (("1"
                                                                                                                                                    (ground)
                                                                                                                                                    (("1"
                                                                                                                                                      (rewrite
                                                                                                                                                       "min_overlap_point_symm"
                                                                                                                                                       1)
                                                                                                                                                      (("1"
                                                                                                                                                        (assert)
                                                                                                                                                        nil
                                                                                                                                                        nil))
                                                                                                                                                      nil))
                                                                                                                                                    nil)
                                                                                                                                                   ("2"
                                                                                                                                                    (rewrite
                                                                                                                                                     "are_segments_overlapping_symm"
                                                                                                                                                     1)
                                                                                                                                                    nil
                                                                                                                                                    nil))
                                                                                                                                                  nil))
                                                                                                                                                nil))
                                                                                                                                              nil))
                                                                                                                                            nil))
                                                                                                                                          nil))
                                                                                                                                        nil))
                                                                                                                                      nil))
                                                                                                                                    nil))
                                                                                                                                  nil))
                                                                                                                                nil))
                                                                                                                              nil)
                                                                                                                             ("2"
                                                                                                                              (replace
                                                                                                                               -36
                                                                                                                               -25)
                                                                                                                              (("2"
                                                                                                                                (assert)
                                                                                                                                nil
                                                                                                                                nil))
                                                                                                                              nil))
                                                                                                                            nil))
                                                                                                                          nil))
                                                                                                                        nil))
                                                                                                                      nil))
                                                                                                                    nil))
                                                                                                                  nil))
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil)
                                                                                                     ("2"
                                                                                                      (case
                                                                                                       "point_on_segment?(s_mop, s)")
                                                                                                      (("1"
                                                                                                        (lemma
                                                                                                         "point_on_subsegment")
                                                                                                        (("1"
                                                                                                          (inst
                                                                                                           -
                                                                                                           "s_mop"
                                                                                                           "s"
                                                                                                           "ss")
                                                                                                          (("1"
                                                                                                            (assert)
                                                                                                            nil
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil)
                                                                                                       ("2"
                                                                                                        (lemma
                                                                                                         "max_overlap_point_props")
                                                                                                        (("2"
                                                                                                          (inst
                                                                                                           -
                                                                                                           "s"
                                                                                                           "e")
                                                                                                          (("2"
                                                                                                            (assert)
                                                                                                            (("2"
                                                                                                              (flatten)
                                                                                                              (("2"
                                                                                                                (assert)
                                                                                                                nil
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil))
                                                                                                    nil))
                                                                                                  nil)
                                                                                                 ("2"
                                                                                                  (lemma
                                                                                                   "inj_edge_seq_len_eq_diff_inj_indices")
                                                                                                  (("2"
                                                                                                    (inst
                                                                                                     -
                                                                                                     "A"
                                                                                                     "B"
                                                                                                     "j!1")
                                                                                                    (("2"
                                                                                                      (rewrite*
                                                                                                       "injected_edge_indices_eq_len_inj_vert"
                                                                                                       -1
                                                                                                       :dir
                                                                                                       rl)
                                                                                                      (("2"
                                                                                                        (assert)
                                                                                                        (("2"
                                                                                                          (typepred
                                                                                                           "seq_injected_edge_seq(A, B)")
                                                                                                          (("2"
                                                                                                            (inst
                                                                                                             -
                                                                                                             "j!1")
                                                                                                            (("2"
                                                                                                              (assert)
                                                                                                              (("2"
                                                                                                                (replace
                                                                                                                 -2)
                                                                                                                (("2"
                                                                                                                  (replace
                                                                                                                   -7)
                                                                                                                  (("2"
                                                                                                                    (replace
                                                                                                                     -6)
                                                                                                                    (("2"
                                                                                                                      (replace
                                                                                                                       -3
                                                                                                                       1)
                                                                                                                      (("2"
                                                                                                                        (assert)
                                                                                                                        (("2"
                                                                                                                          (replace
                                                                                                                           -25
                                                                                                                           :dir
                                                                                                                           rl)
                                                                                                                          (("2"
                                                                                                                            (case
                                                                                                                             "1+j!1 = A`num_vertices")
                                                                                                                            (("1"
                                                                                                                              (assert)
                                                                                                                              nil
                                                                                                                              nil)
                                                                                                                             ("2"
                                                                                                                              (lemma
                                                                                                                               "length_injected_vertices_ordered")
                                                                                                                              (("2"
                                                                                                                                (inst
                                                                                                                                 -
                                                                                                                                 "A"
                                                                                                                                 "B"
                                                                                                                                 "1+j!1"
                                                                                                                                 "A`num_vertices")
                                                                                                                                (("2"
                                                                                                                                  (assert)
                                                                                                                                  nil
                                                                                                                                  nil))
                                                                                                                                nil))
                                                                                                                              nil))
                                                                                                                            nil))
                                                                                                                          nil))
                                                                                                                        nil))
                                                                                                                      nil))
                                                                                                                    nil))
                                                                                                                  nil))
                                                                                                                nil))
                                                                                                              nil))
                                                                                                            nil))
                                                                                                          nil))
                                                                                                        nil))
                                                                                                      nil))
                                                                                                    nil))
                                                                                                  nil))
                                                                                                nil)
                                                                                               ("2"
                                                                                                (hide-all-but
                                                                                                 (-27
                                                                                                  1))
                                                                                                (("2"
                                                                                                  (grind)
                                                                                                  nil
                                                                                                  nil))
                                                                                                nil))
                                                                                              nil))
                                                                                            nil))
                                                                                          nil))
                                                                                        nil))
                                                                                      nil))
                                                                                    nil))
                                                                                  nil))
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil)
                                                                         ("2"
                                                                          (replace
                                                                           -19
                                                                           -21)
                                                                          (("2"
                                                                            (assert)
                                                                            (("2"
                                                                              (replace
                                                                               -21
                                                                               1
                                                                               :dir
                                                                               rl)
                                                                              (("2"
                                                                                (assert)
                                                                                nil
                                                                                nil))
                                                                              nil))
                                                                            nil))
                                                                          nil))
                                                                        nil))
                                                                      nil))
                                                                    nil))
                                                                  nil))
                                                                nil))
                                                              nil))
                                                            nil))
                                                          nil)
                                                         ("2"
                                                          (replace
                                                           -17
                                                           -5)
                                                          (("2"
                                                            (assert)
                                                            nil
                                                            nil))
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (overlapping_edges_share_endpoints_TCC1 0
  (overlapping_edges_share_endpoints_TCC1-2 nil 3874129019
   ("" (skeep) (("" (assert) nil nil)) nil) nil shostak
   (overlapping_edges_share_endpoints subtype
    "(vectors_2D.-)(injection_props.s`p2, injection_props.s`p1)"
    "Nz_vector"))
  (overlapping_edges_share_endpoints_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (overlapping_edges_share_endpoints subtype
    "(vectors_2D.-)(injection_props.s`p2, injection_props.s`p1)"
    "Nz_vector")))
 (overlapping_edges_share_endpoints_TCC2 0
  (overlapping_edges_share_endpoints_TCC2-2 nil 3874129019
   ("" (skeep) (("" (assert) nil nil)) nil) nil shostak
   (overlapping_edges_share_endpoints subtype
    "(vectors_2D.-)(injection_props.e`p2, injection_props.e`p1)"
    "Nz_vector"))
  (overlapping_edges_share_endpoints_TCC2-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (overlapping_edges_share_endpoints subtype
    "(vectors_2D.-)(injection_props.e`p2, injection_props.e`p1)"
    "Nz_vector")))
 (overlapping_edges_share_endpoints 0
  (overlapping_edges_share_endpoints-1 nil 3874129019
   ("" (skeep*)
    (("" (use "inject_vertices_into_polygon_comm")
      (("" (lemma "merge_pre_condition_symmetric")
        (("" (inst - "A" "B")
          (("" (use "are_segments_overlapping_symm")
            (("" (assert)
              (("" (assert)
                (("" (lemma "overlapping_injected_edge_p1_is_MOP")
                  (("" (inst-cp - "A" "B" "Am" "Bm" "s" "e")
                    (("" (inst - "B" "A" "Bm" "Am" "e" "s")
                      (("" (assert)
                        ((""
                          (lemma "overlapping_injected_edge_p2_is_MOP")
                          (("" (inst-cp - "A" "B" "Am" "Bm" "s" "e")
                            (("" (inst - "B" "A" "Bm" "Am" "e" "s")
                              ((""
                                (assert)
                                ((""
                                  (lemma "min_overlap_point_symm")
                                  ((""
                                    (inst - "s" "e")
                                    ((""
                                      (lemma "max_overlap_point_symm")
                                      ((""
                                        (inst - "s" "e")
                                        (("" (ground) nil nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_polygons_contained 0
  (injected_polygons_contained-1 nil 3874129019
   ("" (skeep*)
    (("" (use "inject_vertices_into_polygon_comm")
      (("" (replace -2 :dir rl)
        (("" (expand "polygon_contained?")
          (("" (ground)
            (("1" (skeep)
              (("1" (inst?)
                (("1" (lemma "injected_perimeter_points_same")
                  (("1" (inst - "A" "B" "Am" "Bm" "p")
                    (("1" (ground)
                      (("1" (use "injected_interior_points_same")
                        (("1" (ground) nil nil)) nil)
                       ("2" (use "injected_perimeter_points_same")
                        (("2" (ground) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("2" (skeep)
              (("2" (inst?)
                (("2" (lemma "injected_perimeter_points_same")
                  (("2" (inst - "A" "B" "Am" "Bm" "p")
                    (("2" (ground)
                      (("1" (use "injected_interior_points_same")
                        (("1" (ground) nil nil)) nil)
                       ("2" (use "injected_perimeter_points_same")
                        (("2" (ground) nil nil)) nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("3" (skeep)
              (("3" (inst?)
                (("3" (lemma "injected_perimeter_points_same")
                  (("3" (inst - "A" "B" "Am" "Bm" "p")
                    (("3" (ground)
                      (("1" (lemma "injected_interior_points_same")
                        (("1" (inst - "A" "B" "Am" "Bm" "p")
                          (("1" (ground) nil nil)) nil))
                        nil)
                       ("2" (lemma "injected_perimeter_points_same")
                        (("2" (inst - "B" "A" "Bm" "Am" "p")
                          (("2" (ground) nil nil)) nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil)
             ("4" (skeep)
              (("4" (inst?)
                (("4" (lemma "injected_perimeter_points_same")
                  (("4" (inst - "B" "A" "Bm" "Am" "p")
                    (("4" (ground)
                      (("1" (lemma "injected_interior_points_same")
                        (("1" (inst - "A" "B" "Am" "Bm" "p")
                          (("1" (ground) nil nil)) nil))
                        nil)
                       ("2" (lemma "injected_perimeter_points_same")
                        (("2" (inst - "A" "B" "Am" "Bm" "p")
                          (("2" (ground) nil nil)) nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_overlaps_equal 0
  (injected_overlaps_equal-1 nil 3874129019
   ("" (skeep* + t)
    (("" (use "overlapping_edges_share_endpoints")
      (("" (ground)
        (("1" (apply-extensionality :hide? t) nil nil)
         ("2" (expand "reverse_segment")
          (("2" (apply-extensionality 3 :hide? t) nil nil)) nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_only_vertex_intersections 0
  (injected_only_vertex_intersections-1 nil 3874129019
   ("" (skeep*)
    ((""
      (case "FORALL (e: (edge_of_polygon?(Bm))):
         only_vertex_intersections?(Am, Bm, e)")
      (("1" (ground)
        (("1" (use "only_vertex_intersections_symm")
          (("1" (ground) nil nil)) nil))
        nil)
       ("2" (hide 2)
        (("2" (skeep + t)
          (("2" (expand "only_vertex_intersections?")
            (("2" (skeep + t)
              (("2" (ground)
                (("1" (use "injected_overlaps_equal")
                  (("1" (ground) nil nil)) nil)
                 ("2" (use "injected_intersections_only_at_endpoints")
                  (("2" (ground) nil nil)) nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_p2_on_ray_imp_edges_eq_TCC1 0
  (injected_p2_on_ray_imp_edges_eq_TCC1-2 nil 3874129019
   ("" (skeep) (("" (assert) nil nil)) nil) nil shostak
   (injected_p2_on_ray_imp_edges_eq subtype
    "(vectors_2D.-)(injection_props.e`p2, injection_props.e`p1)"
    "Nz_vector"))
  (injected_p2_on_ray_imp_edges_eq_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (injected_p2_on_ray_imp_edges_eq subtype
    "(vectors_2D.-)(injection_props.e`p2, injection_props.e`p1)"
    "Nz_vector")))
 (injected_p2_on_ray_imp_edges_eq 0
  (injected_p2_on_ray_imp_edges_eq-1 nil 3874129019
   ("" (skeep*)
    (("" (expand "point_on_arb_ray?")
      (("" (skeep)
        (("" (use "injected_overlaps_equal")
          (("" (ground)
            (("1" (hide-all-but (-1 -5)) (("1" (grind) nil nil)) nil)
             ("2" (expand "are_segments_overlapping?")
              (("2" (case "d > length(e)")
                (("1" (inst + "e`p1" "e`p2")
                  (("1" (assert)
                    (("1" (expand "length")
                      (("1"
                        (case-replace
                         "^(e`p2 - e`p1) = ^(s`p2 - s`p1)")
                        (("1" (ground)
                          (("1" (replace -6 :dir rl)
                            (("1" (assert) nil nil)) nil)
                           ("2"
                            (rewrite
                             "point_on_segment_has_norm_offset")
                            (("2" (replace -1 :dir rl)
                              (("2"
                                (inst + "length(e)")
                                (("2"
                                  (expand "length")
                                  (("2"
                                    (ground)
                                    (("1"
                                      (expand "^" 1)
                                      (("1"
                                        (real-props)
                                        (("1"
                                          (replace -6)
                                          (("1"
                                            (move-terms 1 r 1)
                                            nil
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (replace -7 1)
                                      (("2"
                                        (replace -6 1)
                                        (("2" (assert) nil nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil)
                         ("2" (replace -5)
                          (("2" (replace -6)
                            (("2" (assert)
                              (("2"
                                (rewrite "normalize_scal")
                                (("2"
                                  (rewrite "normalize_normalize")
                                  (("2"
                                    (expand "sign")
                                    (("2" (assert) nil nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil)
                 ("2" (inst + "s`p1" "s`p2")
                  (("2" (assert)
                    (("2" (ground)
                      (("1" (replace -4) (("1" (assert) nil nil)) nil)
                       ("2"
                        (rewrite "point_on_segment_has_norm_offset")
                        (("2" (inst + "d") (("2" (assert) nil nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak))
 (injected_p1_on_ray_imp_edges_eq_rev_TCC1 0
  (injected_p1_on_ray_imp_edges_eq_rev_TCC1-2 nil 3874129019
   ("" (skeep) (("" (assert) nil nil)) nil) nil shostak
   (injected_p1_on_ray_imp_edges_eq_rev subtype
    "(vectors_2D.-)(injection_props.s`p2, injection_props.s`p1)"
    "Nz_vector"))
  (injected_p1_on_ray_imp_edges_eq_rev_TCC1-1 nil 3874128956
   ("" (subtype-tcc) nil nil) nil nil
   (injected_p1_on_ray_imp_edges_eq_rev subtype
    "(vectors_2D.-)(injection_props.s`p2, injection_props.s`p1)"
    "Nz_vector")))
 (injected_p1_on_ray_imp_edges_eq_rev 0
  (injected_p1_on_ray_imp_edges_eq_rev-1 nil 3874129019
   ("" (skeep*)
    (("" (expand "point_on_arb_ray?")
      (("" (skeep)
        (("" (lemma "injected_overlaps_equal")
          (("" (inst - "A" "B" "Am" "Bm" "s" "e")
            (("" (ground)
              (("1" (replace -1 1)
                (("1" (rewrite "reverse_reverse_segment") nil nil))
                nil)
               ("2" (expand "are_segments_overlapping?")
                (("2" (case "d > length(s)")
                  (("1" (inst + "s`p1" "s`p2")
                    (("1" (assert)
                      (("1" (replace -5 1)
                        (("1" (assert)
                          (("1" (case "d <= length(e)")
                            (("1"
                              (rewrite
                               "point_on_segment_has_norm_offset")
                              (("1"
                                (replace -6 1 :dir rl)
                                (("1"
                                  (replace -7 1)
                                  (("1"
                                    (equate
                                     "s`p1 - (s`p1 + d * ^(s`p2 - s`p1))"
                                     "-d * ^(s`p2 - s`p1)")
                                    (("1"
                                      (rewrite "normalize_scal")
                                      (("1"
                                        (rewrite "normalize_normalize")
                                        (("1"
                                          (expand "sign")
                                          (("1"
                                            (inst + "d - length(s)")
                                            (("1"
                                              (ground)
                                              (("1"
                                                (hide-all-but 1)
                                                (("1"
                                                  (rewrite "scal_neg")
                                                  (("1"
                                                    (factor 1 r (2 3))
                                                    (("1"
                                                      (equate
                                                       "d + (-(d - length(s)))"
                                                       "length(s)"
                                                       t)
                                                      (("1"
                                                        (use
                                                         "segment_far_endpoint_length")
                                                        (("1"
                                                          (grind)
                                                          nil
                                                          nil))
                                                        nil))
                                                      nil))
                                                    nil))
                                                  nil))
                                                nil))
                                              nil))
                                            nil))
                                          nil))
                                        nil))
                                      nil)
                                     ("2"
                                      (hide-all-but 1)
                                      (("2" (grind) nil nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil)
                             ("2" (expand "length")
                              (("2"
                                (replace -5 1 :dir rl)
                                (("2"
                                  (replace -6 1)
                                  (("2"
                                    (equate
                                     "s`p1 - (s`p1 + d * ^(s`p2 - s`p1))"
                                     "-d * ^(s`p2 - s`p1)"
                                     t)
                                    (("2"
                                      (rewrite "norm_scal")
                                      (("2"
                                        (expand "abs")
                                        (("2" (assert) nil nil))
                                        nil))
                                      nil))
                                    nil))
                                  nil))
                                nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil)
                   ("2" (inst + "s`p1" "e`p1")
                    (("2" (assert)
                      (("2" (replace -4 2)
                        (("2" (assert)
                          (("2"
                            (rewrite
                             "point_on_segment_has_norm_offset")
                            (("2" (inst + "d") (("2" (ground) nil nil))
                              nil))
                            nil))
                          nil))
                        nil))
                      nil))
                    nil))
                  nil))
                nil))
              nil))
            nil))
          nil))
        nil))
      nil))
    nil)
   nil shostak)))

